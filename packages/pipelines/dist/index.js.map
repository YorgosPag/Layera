{"version":3,"sources":["../src/index.ts","../src/context/PipelineDiscovery.ts"],"sourcesContent":["/**\r\n * @layera/pipelines - Enterprise Pipeline Discovery & Management System\r\n *\r\n * ŒëœÖœÑœåŒºŒ±œÑŒ∑ Œ±ŒΩŒ±Œ∫Œ¨ŒªœÖœàŒ∑ Œ∫Œ±Œπ œÉœÖŒ≥œáœÅŒøŒΩŒπœÉŒºœåœÇ pipeline steps œáœâœÅŒØœÇ manual configuration.\r\n * Enterprise-grade pipeline state management Œ≥ŒπŒ± scalable ŒµœÜŒ±œÅŒºŒøŒ≥Œ≠œÇ.\r\n */\r\n\r\n// Enterprise Auto-Discovery Pipeline System\r\nexport { PipelineDiscovery } from './context/PipelineDiscovery';\r\nexport type {\r\n  CategoryType,\r\n  IntentType,\r\n  PipelineStepId,\r\n  PipelineStep,\r\n  PipelineState\r\n} from './context/PipelineDiscovery';\r\n\r\n// Version\r\nexport const LAYERA_PIPELINES_VERSION = '1.0.0';","/**\r\n * PipelineDiscovery.ts - Enterprise Auto-Discovery Pipeline System\r\n *\r\n * ŒëœÖœÑœåŒºŒ±œÑŒ∑ Œ±ŒΩŒ±Œ∫Œ¨ŒªœÖœàŒ∑ Œ∫Œ±Œπ œÉœÖŒ≥œáœÅŒøŒΩŒπœÉŒºœåœÇ pipeline steps œáœâœÅŒØœÇ manual configuration.\r\n * ŒöŒ¨Œ∏Œµ ŒΩŒ≠Œø Œ≤ŒÆŒºŒ± œÄŒøœÖ œÄœÅŒøœÉœÑŒØŒ∏ŒµœÑŒ±Œπ œÉœÑŒø CategoryStep Œ±œÖœÑœåŒºŒ±œÑŒ± ŒµŒΩŒ∑ŒºŒµœÅœéŒΩŒµŒπ œÑŒø stepper.\r\n */\r\n\r\nexport type CategoryType = 'property' | 'job' | null;\r\nexport type IntentType = 'offer' | 'search' | null;\r\nexport type PipelineStepId = string;\r\n\r\nexport interface PipelineStep {\r\n  id: PipelineStepId;\r\n  title: string;\r\n  shortTitle: string;\r\n  category?: CategoryType;\r\n  intent?: IntentType;\r\n  order: number;\r\n  isActive: boolean;\r\n  isVisible: boolean;\r\n}\r\n\r\nexport interface PipelineState {\r\n  currentStepId: PipelineStepId;\r\n  steps: PipelineStep[];\r\n  currentStepIndex: number;\r\n  totalSteps: number;\r\n  selectedCategory: CategoryType;\r\n  selectedIntent: IntentType;\r\n  completedSteps: Set<PipelineStepId>;\r\n}\r\n\r\n/**\r\n * Enterprise Pipeline Discovery Engine\r\n * ŒëœÖœÑœåŒºŒ±œÑŒ± Œ±ŒΩŒ±Œ∫Œ±ŒªœçœÄœÑŒµŒπ œÑŒ± Œ≤ŒÆŒºŒ±œÑŒ± Œ±œÄœå œÑŒ∑ŒΩ œÑœÅŒ≠œáŒøœÖœÉŒ± Œ∫Œ±œÑŒ¨œÉœÑŒ±œÉŒ∑ œÑŒøœÖ CategoryStep\r\n */\r\nexport class PipelineDiscovery {\r\n  private static instance: PipelineDiscovery;\r\n  private currentState: PipelineState;\r\n  private listeners: Array<(state: PipelineState) => void> = [];\r\n\r\n  private constructor() {\r\n    this.currentState = this.getInitialState();\r\n  }\r\n\r\n  static getInstance(): PipelineDiscovery {\r\n    if (!PipelineDiscovery.instance) {\r\n      PipelineDiscovery.instance = new PipelineDiscovery();\r\n    }\r\n    return PipelineDiscovery.instance;\r\n  }\r\n\r\n  private getInitialState(): PipelineState {\r\n    return {\r\n      currentStepId: 'category',\r\n      steps: this.discoverAvailableSteps(null, null),\r\n      currentStepIndex: 0,\r\n      totalSteps: 1,\r\n      selectedCategory: null,\r\n      selectedIntent: null,\r\n      completedSteps: new Set()\r\n    };\r\n  }\r\n\r\n  /**\r\n   * üöÄ ENTERPRISE AUTO-DISCOVERY: ŒëœÖœÑœåŒºŒ±œÑŒ∑ Œ±ŒΩŒ±Œ∫Œ¨ŒªœÖœàŒ∑ Œ¥ŒπŒ±Œ∏Œ≠œÉŒπŒºœâŒΩ Œ≤Œ∑ŒºŒ¨œÑœâŒΩ\r\n   */\r\n  private discoverAvailableSteps(\r\n    selectedCategory: CategoryType,\r\n    selectedIntent: IntentType\r\n  ): PipelineStep[] {\r\n    const steps: PipelineStep[] = [];\r\n\r\n    // ŒíŒÆŒºŒ± 1: Category (œÄŒ¨ŒΩœÑŒ± Œ¥ŒπŒ±Œ∏Œ≠œÉŒπŒºŒø)\r\n    steps.push({\r\n      id: 'category',\r\n      title: 'ŒöŒ±œÑŒ∑Œ≥ŒøœÅŒØŒ±',\r\n      shortTitle: 'Œ§œçœÄŒøœÇ',\r\n      order: 0,\r\n      isActive: !selectedCategory,\r\n      isVisible: true\r\n    });\r\n\r\n    // ŒíŒÆŒºŒ± 2: Intent (Œ¥ŒπŒ±Œ∏Œ≠œÉŒπŒºŒø ŒºœåŒΩŒø Œ±ŒΩ Œ≠œáŒµŒπ ŒµœÄŒπŒªŒµŒ≥ŒµŒØ category)\r\n    if (selectedCategory) {\r\n      steps.push({\r\n        id: 'intent',\r\n        title: 'Œ£Œ∫ŒøœÄœåœÇ',\r\n        shortTitle: 'ŒîœÅŒ¨œÉŒ∑',\r\n        category: selectedCategory,\r\n        order: 1,\r\n        isActive: !selectedIntent,\r\n        isVisible: true\r\n      });\r\n\r\n      // ŒîœÖŒΩŒ±ŒºŒπŒ∫ŒÆ Œ±ŒΩŒ±Œ∫Œ¨ŒªœÖœàŒ∑ ŒµœÄœåŒºŒµŒΩœâŒΩ Œ≤Œ∑ŒºŒ¨œÑœâŒΩ Œ±ŒΩŒ¨ŒªŒøŒ≥Œ± ŒºŒµ category + intent\r\n      if (selectedCategory === 'property') {\r\n        this.discoverPropertySteps(steps, selectedIntent);\r\n      } else if (selectedCategory === 'job') {\r\n        this.discoverJobSteps(steps, selectedIntent);\r\n      }\r\n    }\r\n\r\n    return steps;\r\n  }\r\n\r\n  private discoverPropertySteps(steps: PipelineStep[], selectedIntent: IntentType): void {\r\n    // ŒíŒÆŒºŒ± 3: Transaction Type (ŒºœåŒΩŒø Œ≥ŒπŒ± property + offer)\r\n    if (selectedIntent === 'offer') {\r\n      steps.push({\r\n        id: 'transactionType',\r\n        title: 'Œ£œÖŒΩŒ±ŒªŒªŒ±Œ≥ŒÆ',\r\n        shortTitle: 'Œ§œçœÄŒøœÇ',\r\n        category: 'property',\r\n        intent: 'offer',\r\n        order: 2,\r\n        isActive: true,\r\n        isVisible: true\r\n      });\r\n    }\r\n\r\n    // ŒöŒøŒπŒΩŒ¨ Œ≤ŒÆŒºŒ±œÑŒ± Œ≥ŒπŒ± œåŒªŒ± œÑŒ± property intents\r\n    const commonPropertySteps = [\r\n      { id: 'location', title: 'Œ§ŒøœÄŒøŒ∏ŒµœÉŒØŒ±', shortTitle: 'ŒßŒ¨œÅœÑŒ∑œÇ', order: selectedIntent === 'offer' ? 3 : 2 },\r\n      { id: 'layout', title: 'ŒöŒ¨œÑŒøœàŒ∑', shortTitle: 'ŒîŒπŒ¨œÑŒ±ŒæŒ∑', order: selectedIntent === 'offer' ? 4 : 3 },\r\n      { id: 'details', title: 'Œ£œÑŒøŒπœáŒµŒØŒ±', shortTitle: 'Œ†ŒµœÅŒπŒ≥œÅŒ±œÜŒÆ', order: selectedIntent === 'offer' ? 5 : 4 },\r\n      { id: 'complete', title: 'Œ§Œ≠ŒªŒøœÇ', shortTitle: 'ŒïœÄŒπŒ≤ŒµŒ≤Œ±ŒØœâœÉŒ∑', order: selectedIntent === 'offer' ? 6 : 5 }\r\n    ];\r\n\r\n    commonPropertySteps.forEach(step => {\r\n      steps.push({\r\n        ...step,\r\n        category: 'property',\r\n        intent: selectedIntent,\r\n        isActive: false,\r\n        isVisible: true\r\n      });\r\n    });\r\n  }\r\n\r\n  private discoverJobSteps(steps: PipelineStep[], selectedIntent: IntentType): void {\r\n    const jobSteps = [\r\n      { id: 'employmentType', title: 'ŒïœÅŒ≥Œ±œÉŒØŒ±', shortTitle: 'Œ§œçœÄŒøœÇ', order: 2 },\r\n      { id: 'availability', title: 'ŒîŒπŒ±Œ∏ŒµœÉŒπŒºœåœÑŒ∑œÑŒ±', shortTitle: 'Œ†œåœÑŒµ', order: 3 },\r\n      { id: 'availabilityDetails', title: 'ŒõŒµœÄœÑŒøŒºŒ≠œÅŒµŒπŒµœÇ', shortTitle: 'ŒóŒºŒµœÅŒøŒºŒ∑ŒΩŒØŒµœÇ', order: 4 },\r\n      { id: 'location', title: 'Œ§ŒøœÄŒøŒ∏ŒµœÉŒØŒ±', shortTitle: 'Œ†ŒµœÅŒπŒøœáŒÆ', order: 5 },\r\n      { id: 'details', title: 'Œ£œÑŒøŒπœáŒµŒØŒ±', shortTitle: 'Œ†ŒµœÅŒπŒ≥œÅŒ±œÜŒÆ', order: 6 },\r\n      { id: 'complete', title: 'Œ§Œ≠ŒªŒøœÇ', shortTitle: 'ŒïœÄŒπŒ≤ŒµŒ≤Œ±ŒØœâœÉŒ∑', order: 7 }\r\n    ];\r\n\r\n    jobSteps.forEach(step => {\r\n      steps.push({\r\n        ...step,\r\n        category: 'job',\r\n        intent: selectedIntent,\r\n        isActive: false,\r\n        isVisible: true\r\n      });\r\n    });\r\n  }\r\n\r\n  /**\r\n   * üöÄ ENTERPRISE STATE UPDATE: ŒëœÖœÑœåŒºŒ±œÑŒ∑ ŒµŒΩŒ∑ŒºŒ≠œÅœâœÉŒ∑ pipeline state\r\n   */\r\n  updatePipelineState(updates: Partial<PipelineState>): void {\r\n    const previousState = { ...this.currentState };\r\n\r\n    // ŒïŒΩŒ∑ŒºŒ≠œÅœâœÉŒ∑ Œ≤Œ±œÉŒπŒ∫œéŒΩ œÄŒµŒ¥ŒØœâŒΩ\r\n    Object.assign(this.currentState, updates);\r\n\r\n    // ŒëœÖœÑœåŒºŒ±œÑŒ∑ Œ±ŒΩŒ±Œ∫Œ¨ŒªœÖœàŒ∑ ŒΩŒ≠œâŒΩ steps Œ±ŒΩ Œ¨ŒªŒªŒ±ŒæŒµ category ŒÆ intent\r\n    if (updates.selectedCategory !== undefined || updates.selectedIntent !== undefined) {\r\n      this.currentState.steps = this.discoverAvailableSteps(\r\n        this.currentState.selectedCategory,\r\n        this.currentState.selectedIntent\r\n      );\r\n      this.currentState.totalSteps = this.currentState.steps.length;\r\n    }\r\n\r\n    // ŒëœÖœÑœåŒºŒ±œÑŒøœÇ œÖœÄŒøŒªŒøŒ≥ŒπœÉŒºœåœÇ currentStepIndex\r\n    if (updates.currentStepId) {\r\n      const stepIndex = this.currentState.steps.findIndex(step => step.id === updates.currentStepId);\r\n      this.currentState.currentStepIndex = stepIndex >= 0 ? stepIndex : 0;\r\n    }\r\n\r\n    // ŒïŒπŒ¥ŒøœÄŒøŒØŒ∑œÉŒ∑ listeners ŒºœåŒΩŒø Œ±ŒΩ Œ¨ŒªŒªŒ±ŒæŒµ Œ∫Œ¨œÑŒπ œÉŒ∑ŒºŒ±ŒΩœÑŒπŒ∫œå\r\n    if (this.hasSignificantChange(previousState, this.currentState)) {\r\n      this.notifyListeners();\r\n    }\r\n  }\r\n\r\n  private hasSignificantChange(prev: PipelineState, current: PipelineState): boolean {\r\n    return (\r\n      prev.currentStepId !== current.currentStepId ||\r\n      prev.selectedCategory !== current.selectedCategory ||\r\n      prev.selectedIntent !== current.selectedIntent ||\r\n      prev.steps.length !== current.steps.length ||\r\n      prev.currentStepIndex !== current.currentStepIndex\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Subscription system Œ≥ŒπŒ± real-time updates\r\n   */\r\n  subscribe(listener: (state: PipelineState) => void): () => void {\r\n    this.listeners.push(listener);\r\n\r\n    // Immediate update ŒºŒµ œÑœÅŒ≠œáŒøœÖœÉŒ± Œ∫Œ±œÑŒ¨œÉœÑŒ±œÉŒ∑\r\n    listener(this.currentState);\r\n\r\n    // Return unsubscribe function\r\n    return () => {\r\n      const index = this.listeners.indexOf(listener);\r\n      if (index > -1) {\r\n        this.listeners.splice(index, 1);\r\n      }\r\n    };\r\n  }\r\n\r\n  private notifyListeners(): void {\r\n    this.listeners.forEach(listener => listener(this.currentState));\r\n  }\r\n\r\n  /**\r\n   * Public getter Œ≥ŒπŒ± œÑŒ∑ŒΩ œÑœÅŒ≠œáŒøœÖœÉŒ± Œ∫Œ±œÑŒ¨œÉœÑŒ±œÉŒ∑\r\n   */\r\n  getCurrentState(): PipelineState {\r\n    return { ...this.currentState };\r\n  }\r\n\r\n  /**\r\n   * üöÄ ENTERPRISE AUTO-NAVIGATION: ŒëœÖœÑœåŒºŒ±œÑŒ∑ œÄŒªŒøŒÆŒ≥Œ∑œÉŒ∑ œÉœÑŒø ŒµœÄœåŒºŒµŒΩŒø Œ≤ŒÆŒºŒ±\r\n   */\r\n  goToNextStep(): boolean {\r\n    const nextIndex = this.currentState.currentStepIndex + 1;\r\n    if (nextIndex < this.currentState.steps.length) {\r\n      const nextStep = this.currentState.steps[nextIndex];\r\n      if (nextStep) {\r\n        this.updatePipelineState({\r\n          currentStepId: nextStep.id,\r\n          currentStepIndex: nextIndex\r\n        });\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Œ†ŒªŒøŒÆŒ≥Œ∑œÉŒ∑ œÉœÑŒø œÄœÅŒøŒ∑Œ≥ŒøœçŒºŒµŒΩŒø Œ≤ŒÆŒºŒ±\r\n   */\r\n  goToPreviousStep(): boolean {\r\n    const prevIndex = this.currentState.currentStepIndex - 1;\r\n    if (prevIndex >= 0) {\r\n      const prevStep = this.currentState.steps[prevIndex];\r\n      if (prevStep) {\r\n        this.updatePipelineState({\r\n          currentStepId: prevStep.id,\r\n          currentStepIndex: prevIndex\r\n        });\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Reset pipeline œÉœÑŒ∑ŒΩ Œ±œÅœáŒπŒ∫ŒÆ Œ∫Œ±œÑŒ¨œÉœÑŒ±œÉŒ∑\r\n   */\r\n  reset(): void {\r\n    this.currentState = this.getInitialState();\r\n    this.notifyListeners();\r\n  }\r\n\r\n  /**\r\n   * üöÄ ENTERPRISE SMART NAVIGATION: ŒàŒæœÖœÄŒΩŒ∑ œÄŒªŒøŒÆŒ≥Œ∑œÉŒ∑ ŒºŒµ Œ≤Œ¨œÉŒ∑ œÑŒ∑ŒΩ Œ∫Œ±œÑŒ¨œÉœÑŒ±œÉŒ∑\r\n   */\r\n  navigateToStep(stepId: PipelineStepId): boolean {\r\n    const targetStep = this.currentState.steps.find(step => step.id === stepId);\r\n    if (!targetStep || !targetStep.isVisible) {\r\n      return false;\r\n    }\r\n\r\n    const targetIndex = this.currentState.steps.findIndex(step => step.id === stepId);\r\n    this.updatePipelineState({\r\n      currentStepId: stepId,\r\n      currentStepIndex: targetIndex\r\n    });\r\n\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * üöÄ ENTERPRISE COMPLETION TRACKING: Œ£Œ∑ŒºŒµŒØœâœÉŒ∑ ŒøŒªŒøŒ∫ŒªŒÆœÅœâœÉŒ∑œÇ Œ≤ŒÆŒºŒ±œÑŒøœÇ\r\n   */\r\n  markStepCompleted(stepId: PipelineStepId): void {\r\n    const newCompletedSteps = new Set(this.currentState.completedSteps);\r\n    newCompletedSteps.add(stepId);\r\n\r\n    this.updatePipelineState({\r\n      completedSteps: newCompletedSteps\r\n    });\r\n  }\r\n\r\n  /**\r\n   * ŒàŒªŒµŒ≥œáŒøœÇ Œ±ŒΩ Œ≠ŒΩŒ± Œ≤ŒÆŒºŒ± Œ≠œáŒµŒπ ŒøŒªŒøŒ∫ŒªŒ∑œÅœâŒ∏ŒµŒØ\r\n   */\r\n  isStepCompleted(stepId: PipelineStepId): boolean {\r\n    return this.currentState.completedSteps.has(stepId);\r\n  }\r\n\r\n  /**\r\n   * üöÄ ENTERPRISE VALIDATION: ŒàŒªŒµŒ≥œáŒøœÇ Œ±ŒΩ ŒºœÄŒøœÅŒµŒØ ŒΩŒ± œÄœÅŒøœáœâœÅŒÆœÉŒµŒπ œÉœÑŒø ŒµœÄœåŒºŒµŒΩŒø Œ≤ŒÆŒºŒ±\r\n   */\r\n  canProceedToNext(): boolean {\r\n    const currentStepIndex = this.currentState.currentStepIndex;\r\n    const nextIndex = currentStepIndex + 1;\r\n\r\n    // ŒàŒªŒµŒ≥œáŒøœÇ Œ±ŒΩ œÖœÄŒ¨œÅœáŒµŒπ ŒµœÄœåŒºŒµŒΩŒø Œ≤ŒÆŒºŒ±\r\n    if (nextIndex >= this.currentState.steps.length) {\r\n      return false;\r\n    }\r\n\r\n    // ŒàŒªŒµŒ≥œáŒøœÇ Œ±ŒΩ œÑŒø œÑœÅŒ≠œáŒøŒΩ Œ≤ŒÆŒºŒ± Œ≠œáŒµŒπ ŒøŒªŒøŒ∫ŒªŒ∑œÅœâŒ∏ŒµŒØ (œÄœÅŒøŒ±ŒπœÅŒµœÑŒπŒ∫œåœÇ Œ≠ŒªŒµŒ≥œáŒøœÇ)\r\n    const currentStep = this.currentState.steps[currentStepIndex];\r\n    if (currentStep && !this.isStepCompleted(currentStep.id)) {\r\n      // ŒìŒπŒ± œÑœéœÅŒ± ŒµœÄŒπœÑœÅŒ≠œÄŒøœÖŒºŒµ œÑŒ∑ŒΩ œÄœÅŒøœáœéœÅŒ∑œÉŒ∑ œáœâœÅŒØœÇ Œ±œÖœÉœÑŒ∑œÅœå Œ≠ŒªŒµŒ≥œáŒø ŒøŒªŒøŒ∫ŒªŒÆœÅœâœÉŒ∑œÇ\r\n      // ŒúœÄŒøœÅŒµŒØ ŒΩŒ± œÑœÅŒøœÄŒøœÄŒøŒπŒ∑Œ∏ŒµŒØ Œ±œÅŒ≥œåœÑŒµœÅŒ± Œ≥ŒπŒ± œÄŒπŒø Œ±œÖœÉœÑŒ∑œÅŒÆ validation\r\n    }\r\n\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * ŒàŒªŒµŒ≥œáŒøœÇ Œ±ŒΩ ŒºœÄŒøœÅŒµŒØ ŒΩŒ± ŒµœÄŒπœÉœÑœÅŒ≠œàŒµŒπ œÉœÑŒø œÄœÅŒøŒ∑Œ≥ŒøœçŒºŒµŒΩŒø Œ≤ŒÆŒºŒ±\r\n   */\r\n  canGoToPrevious(): boolean {\r\n    return this.currentState.currentStepIndex > 0;\r\n  }\r\n\r\n  /**\r\n   * üöÄ ENTERPRISE AUTO-SYNC: ŒëœÖœÑœåŒºŒ±œÑŒøœÇ œÉœÖŒ≥œáœÅŒøŒΩŒπœÉŒºœåœÇ ŒºŒµ CategoryStep state\r\n   */\r\n  syncWithCategoryStep(categoryState: {\r\n    selectedCategory: CategoryType;\r\n    selectedIntent: IntentType;\r\n    showTransactionStep?: boolean;\r\n    currentStep?: string;\r\n  }): void {\r\n    const updates: Partial<PipelineState> = {\r\n      selectedCategory: categoryState.selectedCategory,\r\n      selectedIntent: categoryState.selectedIntent\r\n    };\r\n\r\n    // ŒëœÖœÑœåŒºŒ±œÑŒ∑ Œ±ŒΩŒ±Œ∫Œ¨ŒªœÖœàŒ∑ œÑŒøœÖ œÉœâœÉœÑŒøœç Œ≤ŒÆŒºŒ±œÑŒøœÇ Œ≤Œ¨œÉŒµŒπ CategoryStep state\r\n    if (categoryState.showTransactionStep && categoryState.selectedCategory === 'property' && categoryState.selectedIntent === 'offer') {\r\n      updates.currentStepId = 'transactionType';\r\n    } else if (categoryState.currentStep) {\r\n      updates.currentStepId = categoryState.currentStep;\r\n    }\r\n\r\n    this.updatePipelineState(updates);\r\n  }\r\n\r\n  /**\r\n   * üöÄ ENTERPRISE STEP DISCOVERY: ŒîœÖŒΩŒ±ŒºŒπŒ∫ŒÆ Œ±ŒΩŒ±Œ∫Œ¨ŒªœÖœàŒ∑ Œ¥ŒπŒ±Œ∏Œ≠œÉŒπŒºœâŒΩ Œ≤Œ∑ŒºŒ¨œÑœâŒΩ Œ≥ŒπŒ± UI\r\n   */\r\n  getAvailableStepsForUI(): Array<{\r\n    id: PipelineStepId;\r\n    title: string;\r\n    shortTitle: string;\r\n    order: number;\r\n    isActive: boolean;\r\n    isCompleted: boolean;\r\n    category?: CategoryType;\r\n    intent?: IntentType;\r\n  }> {\r\n    return this.currentState.steps.map(step => ({\r\n      id: step.id,\r\n      title: step.title,\r\n      shortTitle: step.shortTitle,\r\n      order: step.order,\r\n      isActive: step.isActive,\r\n      isCompleted: this.isStepCompleted(step.id),\r\n      ...(step.category && { category: step.category }),\r\n      ...(step.intent && { intent: step.intent })\r\n    }));\r\n  }\r\n\r\n  /**\r\n   * üöÄ ENTERPRISE PROGRESS TRACKING: Œ•œÄŒøŒªŒøŒ≥ŒπœÉŒºœåœÇ œÄŒøœÉŒøœÉœÑŒøœç ŒøŒªŒøŒ∫ŒªŒÆœÅœâœÉŒ∑œÇ\r\n   */\r\n  getProgressPercentage(): number {\r\n    const totalSteps = this.currentState.steps.length;\r\n    const completedSteps = this.currentState.completedSteps.size;\r\n\r\n    if (totalSteps === 0) return 0;\r\n\r\n    return Math.round((completedSteps / totalSteps) * 100);\r\n  }\r\n\r\n  /**\r\n   * ŒöŒ±Œ∏Œ±œÅŒπœÉŒºœåœÇ œåŒªœâŒΩ œÑœâŒΩ completed steps\r\n   */\r\n  clearCompletedSteps(): void {\r\n    this.updatePipelineState({\r\n      completedSteps: new Set()\r\n    });\r\n  }\r\n\r\n  /**\r\n   * üöÄ ENTERPRISE DEBUG INFO: Debugging Œ∫Œ±Œπ monitoring œÄŒªŒ∑œÅŒøœÜŒøœÅŒØŒµœÇ\r\n   */\r\n  getDebugInfo(): {\r\n    currentStep: PipelineStepId;\r\n    stepIndex: number;\r\n    totalSteps: number;\r\n    availableSteps: string[];\r\n    completedSteps: string[];\r\n    selectedCategory: CategoryType;\r\n    selectedIntent: IntentType;\r\n    progressPercentage: number;\r\n  } {\r\n    return {\r\n      currentStep: this.currentState.currentStepId,\r\n      stepIndex: this.currentState.currentStepIndex,\r\n      totalSteps: this.currentState.totalSteps,\r\n      availableSteps: this.currentState.steps.map(s => s.id),\r\n      completedSteps: Array.from(this.currentState.completedSteps),\r\n      selectedCategory: this.currentState.selectedCategory,\r\n      selectedIntent: this.currentState.selectedIntent,\r\n      progressPercentage: this.getProgressPercentage()\r\n    };\r\n  }\r\n}"],"mappings":"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","names":[]}