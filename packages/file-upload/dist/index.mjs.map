{"version":3,"sources":["../../../node_modules/@babel/runtime/helpers/extends.js","../../../node_modules/void-elements/index.js","../src/components/FileUploader.tsx","../../../node_modules/react-i18next/dist/es/Trans.js","../../../node_modules/react-i18next/dist/es/TransWithoutContext.js","../../../node_modules/react-i18next/dist/es/utils.js","../../../node_modules/react-i18next/dist/es/unescape.js","../../../node_modules/react-i18next/dist/es/defaults.js","../../../node_modules/react-i18next/dist/es/i18nInstance.js","../../../node_modules/react-i18next/dist/es/context.js","../../../node_modules/react-i18next/dist/es/useTranslation.js","../../../node_modules/react-i18next/dist/es/withTranslation.js","../../../node_modules/react-i18next/dist/es/I18nextProvider.js","../../../node_modules/react-i18next/dist/es/withSSR.js","../../../node_modules/react-i18next/dist/es/useSSR.js","../src/components/DragDropZone.tsx","../src/components/FileList.tsx","../src/utils/fileValidation.ts","../src/components/FilePreview.tsx","../src/utils/uploadEngine.ts","../src/index.ts"],"sourcesContent":["function _extends() {\n  return module.exports = _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports, _extends.apply(null, arguments);\n}\nmodule.exports = _extends, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","/**\n * This file automatically generated from `pre-publish.js`.\n * Do not manually edit.\n */\n\nmodule.exports = {\n  \"area\": true,\n  \"base\": true,\n  \"br\": true,\n  \"col\": true,\n  \"embed\": true,\n  \"hr\": true,\n  \"img\": true,\n  \"input\": true,\n  \"link\": true,\n  \"meta\": true,\n  \"param\": true,\n  \"source\": true,\n  \"track\": true,\n  \"wbr\": true\n};\n","import React, { useState, useCallback, useRef, useEffect } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { useNotifications } from '@layera/notifications';\r\nimport { ErrorBoundary } from '@layera/error-boundary';\r\nimport { Text as Typography } from '@layera/typography';\r\nimport { Button } from '@layera/buttons';\r\nimport { UploadIcon, DeleteIcon } from '@layera/icons';\r\nimport { useTheme } from '@layera/theme-switcher';\r\nimport type { FileUploaderProps, FileUploadItem } from '../types';\r\nimport { DragDropZone } from './DragDropZone';\r\nimport { FileList } from './FileList';\r\nimport { FilePreview } from './FilePreview';\r\nimport { UploadEngine } from '../utils/uploadEngine';\r\nimport { validateFileList, validateFile } from '../utils/fileValidation';\r\n\r\n/**\r\n * Main file uploader component με enterprise-grade functionality\r\n * Βασισμένο σε Google Drive, Dropbox, WeTransfer patterns\r\n */\r\nexport const FileUploader: React.FC<FileUploaderProps> = ({\r\n  config,\r\n  initialFiles = [],\r\n  className = '',\r\n  disabled = false,\r\n  customDropZone: CustomDropZone,\r\n  customFileList: CustomFileList,\r\n  onUploadStart,\r\n  onUploadProgress,\r\n  onUploadComplete,\r\n  onUploadError,\r\n  onUploadCancel,\r\n  onFileRemove,\r\n  onAllUploadsComplete\r\n}) => {\r\n  const { t } = useTranslation();\r\n  const { theme } = useTheme();\r\n  const { addNotification } = useNotifications();\r\n  const [files, setFiles] = useState<FileUploadItem[]>([]);\r\n  const [isUploading, setIsUploading] = useState(false);\r\n  const [viewMode, setViewMode] = useState<'list' | 'grid'>('list');\r\n  const uploadEngineRef = useRef<UploadEngine | null>(null);\r\n\r\n  // Initialize upload engine\r\n  useEffect(() => {\r\n    uploadEngineRef.current = new UploadEngine(config, {\r\n      onUploadStart: (file) => {\r\n        setFiles(prev => prev.map(f => f.id === file.id ? file : f));\r\n        onUploadStart?.(file);\r\n      },\r\n      onUploadProgress: (file, progress) => {\r\n        setFiles(prev => prev.map(f => f.id === file.id ? file : f));\r\n        onUploadProgress?.(file, progress);\r\n      },\r\n      onUploadComplete: (file) => {\r\n        setFiles(prev => prev.map(f => f.id === file.id ? file : f));\r\n        onUploadComplete?.(file);\r\n        addNotification({\r\n          type: 'success',\r\n          title: t('file-upload.notifications.upload-complete'),\r\n          message: t('file-upload.notifications.file-uploaded', { name: file.file.name })\r\n        });\r\n      },\r\n      onUploadError: (file, error) => {\r\n        setFiles(prev => prev.map(f => f.id === file.id ? file : f));\r\n        onUploadError?.(file, error);\r\n        addNotification({\r\n          type: 'error',\r\n          title: t('file-upload.notifications.upload-error'),\r\n          message: error\r\n        });\r\n      },\r\n      onUploadCancel: (file) => {\r\n        setFiles(prev => prev.map(f => f.id === file.id ? file : f));\r\n        onUploadCancel?.(file);\r\n        addNotification({\r\n          type: 'info',\r\n          title: t('file-upload.notifications.upload-cancelled'),\r\n          message: t('file-upload.notifications.file-cancelled', { name: file.file.name })\r\n        });\r\n      },\r\n      onAllUploadsComplete: (completedFiles) => {\r\n        setIsUploading(false);\r\n        onAllUploadsComplete?.(completedFiles);\r\n        addNotification({\r\n          type: 'success',\r\n          title: t('file-upload.notifications.all-complete'),\r\n          message: t('file-upload.notifications.all-files-uploaded', { count: completedFiles.length })\r\n        });\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      uploadEngineRef.current?.clearAll();\r\n    };\r\n  }, [config, onUploadStart, onUploadProgress, onUploadComplete, onUploadError, onUploadCancel, onAllUploadsComplete, t, addNotification]);\r\n\r\n  // Initialize with initial files\r\n  useEffect(() => {\r\n    if (initialFiles.length > 0) {\r\n      handleFilesAdded(initialFiles);\r\n    }\r\n  }, []);\r\n\r\n  const generateFileId = (): string => {\r\n    return `file-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\r\n  };\r\n\r\n  const createFileUploadItem = (file: File): FileUploadItem => {\r\n    return {\r\n      id: generateFileId(),\r\n      file,\r\n      status: 'idle' as const,\r\n      progress: 0\r\n    };\r\n  };\r\n\r\n  const handleFilesAdded = useCallback((newFiles: File[]) => {\r\n    if (disabled) return;\r\n\r\n    // Validate files\r\n    const validation = validateFileList(newFiles, config);\r\n    if (!validation.isValid) {\r\n      validation.errors.forEach(error => {\r\n        addNotification({\r\n          type: 'error',\r\n          title: t('file-upload.notifications.validation-error'),\r\n          message: error\r\n        });\r\n      });\r\n      return;\r\n    }\r\n\r\n    // Show warnings if any\r\n    validation.warnings.forEach(warning => {\r\n      addNotification({\r\n        type: 'warning',\r\n        title: t('file-upload.notifications.validation-warning'),\r\n        message: warning\r\n      });\r\n    });\r\n\r\n    // Convert to FileUploadItems\r\n    const fileItems = newFiles.map(createFileUploadItem);\r\n\r\n    // Add to state\r\n    setFiles(prev => [...prev, ...fileItems]);\r\n\r\n    // Add to upload engine\r\n    fileItems.forEach(fileItem => {\r\n      uploadEngineRef.current?.addFile(fileItem);\r\n    });\r\n\r\n    // Auto-start uploading if enabled\r\n    if (config.autoUpload) {\r\n      setIsUploading(true);\r\n    }\r\n  }, [config, disabled, t, addNotification]);\r\n\r\n  const handleStartUpload = useCallback(() => {\r\n    if (!uploadEngineRef.current || isUploading) return;\r\n\r\n    const pendingFiles = files.filter(f => f.status === 'idle');\r\n    if (pendingFiles.length === 0) return;\r\n\r\n    setIsUploading(true);\r\n    pendingFiles.forEach(file => {\r\n      uploadEngineRef.current?.uploadFile(file);\r\n    });\r\n  }, [files, isUploading]);\r\n\r\n  const handlePauseUpload = useCallback(() => {\r\n    if (!uploadEngineRef.current) return;\r\n\r\n    const uploadingFiles = files.filter(f => f.status === 'uploading');\r\n    uploadingFiles.forEach(file => {\r\n      uploadEngineRef.current?.pauseUpload(file.id);\r\n    });\r\n    setIsUploading(false);\r\n  }, [files]);\r\n\r\n  const handleCancelUpload = useCallback((fileId: string) => {\r\n    uploadEngineRef.current?.cancelUpload(fileId);\r\n  }, []);\r\n\r\n  const handleRetryUpload = useCallback((fileId: string) => {\r\n    const file = files.find(f => f.id === fileId);\r\n    if (!file) return;\r\n\r\n    // Reset file status\r\n    const resetFile: FileUploadItem = { ...file, status: 'idle' as const, progress: 0, error: undefined };\r\n    setFiles(prev => prev.map(f => f.id === fileId ? resetFile : f));\r\n\r\n    // Add back to upload engine\r\n    uploadEngineRef.current?.addFile(resetFile);\r\n\r\n    if (config.autoUpload) {\r\n      setIsUploading(true);\r\n    }\r\n  }, [files, config.autoUpload]);\r\n\r\n  const handleRemoveFile = useCallback((fileId: string) => {\r\n    const file = files.find(f => f.id === fileId);\r\n    if (!file) return;\r\n\r\n    // Cancel upload if in progress\r\n    if (file.status === 'uploading') {\r\n      uploadEngineRef.current?.cancelUpload(fileId);\r\n    }\r\n\r\n    // Remove from state\r\n    setFiles(prev => prev.filter(f => f.id !== fileId));\r\n\r\n    // Call callback\r\n    onFileRemove?.(file);\r\n  }, [files, onFileRemove]);\r\n\r\n  const handleClearAll = useCallback(() => {\r\n    uploadEngineRef.current?.clearAll();\r\n    setFiles([]);\r\n    setIsUploading(false);\r\n  }, []);\r\n\r\n  const getUploadSummary = () => {\r\n    const total = files.length;\r\n    const completed = files.filter(f => f.status === 'completed').length;\r\n    const uploading = files.filter(f => f.status === 'uploading').length;\r\n    const errors = files.filter(f => f.status === 'error').length;\r\n\r\n    return { total, completed, uploading, errors };\r\n  };\r\n\r\n  const summary = getUploadSummary();\r\n  const hasFiles = files.length > 0;\r\n  const canStartUpload = !isUploading && files.some(f => f.status === 'idle');\r\n  const DropZoneComponent = CustomDropZone || DragDropZone;\r\n  const FileListComponent = CustomFileList || FileList;\r\n\r\n  return (\r\n    <ErrorBoundary>\r\n      <div className={`layera-file-uploader ${className}`}>\r\n        {/* Upload Controls */}\r\n        {hasFiles && (\r\n          <div className={`mb-6 p-4 rounded-lg ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-50'}`}>\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <div>\r\n                <Typography variant=\"h6\" className=\"mb-1\">\r\n                  {t('file-upload.upload-summary')}\r\n                </Typography>\r\n                <Typography variant=\"caption\" className=\"text-gray-500\">\r\n                  {t('file-upload.files-summary', {\r\n                    total: summary.total,\r\n                    completed: summary.completed,\r\n                    uploading: summary.uploading,\r\n                    errors: summary.errors\r\n                  })}\r\n                </Typography>\r\n              </div>\r\n\r\n              <div className=\"flex items-center space-x-2\">\r\n                {/* View Mode Toggle */}\r\n                <div className=\"flex items-center space-x-1 mr-4\">\r\n                  <Button\r\n                    variant={viewMode === 'list' ? 'primary' : 'outline'}\r\n                    size=\"sm\"\r\n                    onClick={() => setViewMode('list')}\r\n                  >\r\n                    <UploadIcon className=\"w-4 h-4\" />\r\n                  </Button>\r\n                  <Button\r\n                    variant={viewMode === 'grid' ? 'primary' : 'outline'}\r\n                    size=\"sm\"\r\n                    onClick={() => setViewMode('grid')}\r\n                  >\r\n                    <UploadIcon className=\"w-4 h-4\" />\r\n                  </Button>\r\n                </div>\r\n\r\n                {/* Upload Controls */}\r\n                {canStartUpload && (\r\n                  <Button\r\n                    variant=\"primary\"\r\n                    onClick={handleStartUpload}\r\n                    disabled={disabled}\r\n                  >\r\n                    <UploadIcon className=\"w-4 h-4 mr-2\" />\r\n                    {t('file-upload.start-upload')}\r\n                  </Button>\r\n                )}\r\n\r\n                {isUploading && (\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    onClick={handlePauseUpload}\r\n                    disabled={disabled}\r\n                  >\r\n                    <UploadIcon className=\"w-4 h-4 mr-2\" />\r\n                    {t('file-upload.pause-upload')}\r\n                  </Button>\r\n                )}\r\n\r\n                <Button\r\n                  variant=\"outline\"\r\n                  onClick={handleClearAll}\r\n                  disabled={disabled || isUploading}\r\n                >\r\n                  <DeleteIcon className=\"w-4 h-4 mr-2\" />\r\n                  {t('file-upload.clear-all')}\r\n                </Button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Overall Progress */}\r\n            {isUploading && summary.total > 0 && (\r\n              <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                <div\r\n                  className=\"bg-blue-500 h-2 rounded-full transition-all duration-300\"\r\n                  style={{ width: `${(summary.completed / summary.total) * 100}%` }}\r\n                />\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* Drop Zone */}\r\n        <div className=\"mb-6\">\r\n          <DropZoneComponent\r\n            enabled={!disabled && config.enableDragDrop}\r\n            acceptedTypes={config.acceptedTypes}\r\n            maxFiles={config.maxConcurrent}\r\n            onFilesDrop={handleFilesAdded}\r\n            multiple={true}\r\n          />\r\n        </div>\r\n\r\n        {/* File Display */}\r\n        {hasFiles && (\r\n          <div className=\"mb-6\">\r\n            {viewMode === 'list' ? (\r\n              <FileListComponent\r\n                files={files}\r\n                showProgress={true}\r\n                showActions={true}\r\n                onRemove={handleRemoveFile}\r\n                onCancel={handleCancelUpload}\r\n                onRetry={handleRetryUpload}\r\n              />\r\n            ) : (\r\n              <div className=\"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-4\">\r\n                {files.map(file => (\r\n                  <FilePreview\r\n                    key={file.id}\r\n                    file={file}\r\n                    showPreview={true}\r\n                    onRemove={handleRemoveFile}\r\n                  />\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </ErrorBoundary>\r\n  );\r\n};","import { useContext } from 'react';\nimport { nodesToString, Trans as TransWithoutContext } from './TransWithoutContext.js';\nimport { getI18n, I18nContext } from './context.js';\nexport { nodesToString };\nexport function Trans(_ref) {\n  let {\n    children,\n    count,\n    parent,\n    i18nKey,\n    context,\n    tOptions = {},\n    values,\n    defaults,\n    components,\n    ns,\n    i18n: i18nFromProps,\n    t: tFromProps,\n    shouldUnescape,\n    ...additionalProps\n  } = _ref;\n  const {\n    i18n: i18nFromContext,\n    defaultNS: defaultNSFromContext\n  } = useContext(I18nContext) || {};\n  const i18n = i18nFromProps || i18nFromContext || getI18n();\n  const t = tFromProps || i18n && i18n.t.bind(i18n);\n  return TransWithoutContext({\n    children,\n    count,\n    parent,\n    i18nKey,\n    context,\n    tOptions,\n    values,\n    defaults,\n    components,\n    ns: ns || t && t.ns || defaultNSFromContext || i18n && i18n.options && i18n.options.defaultNS,\n    i18n,\n    t: tFromProps,\n    shouldUnescape,\n    ...additionalProps\n  });\n}","import _extends from \"@babel/runtime/helpers/extends\";\nimport React, { isValidElement, cloneElement, createElement, Children } from 'react';\nimport HTML from 'html-parse-stringify';\nimport { warn, warnOnce } from './utils.js';\nimport { getDefaults } from './defaults.js';\nimport { getI18n } from './i18nInstance.js';\nfunction hasChildren(node, checkLength) {\n  if (!node) return false;\n  const base = node.props ? node.props.children : node.children;\n  if (checkLength) return base.length > 0;\n  return !!base;\n}\nfunction getChildren(node) {\n  if (!node) return [];\n  const children = node.props ? node.props.children : node.children;\n  return node.props && node.props.i18nIsDynamicList ? getAsArray(children) : children;\n}\nfunction hasValidReactChildren(children) {\n  if (Object.prototype.toString.call(children) !== '[object Array]') return false;\n  return children.every(child => isValidElement(child));\n}\nfunction getAsArray(data) {\n  return Array.isArray(data) ? data : [data];\n}\nfunction mergeProps(source, target) {\n  const newTarget = {\n    ...target\n  };\n  newTarget.props = Object.assign(source.props, target.props);\n  return newTarget;\n}\nexport function nodesToString(children, i18nOptions) {\n  if (!children) return '';\n  let stringNode = '';\n  const childrenArray = getAsArray(children);\n  const keepArray = i18nOptions.transSupportBasicHtmlNodes && i18nOptions.transKeepBasicHtmlNodesFor ? i18nOptions.transKeepBasicHtmlNodesFor : [];\n  childrenArray.forEach((child, childIndex) => {\n    if (typeof child === 'string') {\n      stringNode += `${child}`;\n    } else if (isValidElement(child)) {\n      const childPropsCount = Object.keys(child.props).length;\n      const shouldKeepChild = keepArray.indexOf(child.type) > -1;\n      const childChildren = child.props.children;\n      if (!childChildren && shouldKeepChild && childPropsCount === 0) {\n        stringNode += `<${child.type}/>`;\n      } else if (!childChildren && (!shouldKeepChild || childPropsCount !== 0)) {\n        stringNode += `<${childIndex}></${childIndex}>`;\n      } else if (child.props.i18nIsDynamicList) {\n        stringNode += `<${childIndex}></${childIndex}>`;\n      } else if (shouldKeepChild && childPropsCount === 1 && typeof childChildren === 'string') {\n        stringNode += `<${child.type}>${childChildren}</${child.type}>`;\n      } else {\n        const content = nodesToString(childChildren, i18nOptions);\n        stringNode += `<${childIndex}>${content}</${childIndex}>`;\n      }\n    } else if (child === null) {\n      warn(`Trans: the passed in value is invalid - seems you passed in a null child.`);\n    } else if (typeof child === 'object') {\n      const {\n        format,\n        ...clone\n      } = child;\n      const keys = Object.keys(clone);\n      if (keys.length === 1) {\n        const value = format ? `${keys[0]}, ${format}` : keys[0];\n        stringNode += `{{${value}}}`;\n      } else {\n        warn(`react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.`, child);\n      }\n    } else {\n      warn(`Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.`, child);\n    }\n  });\n  return stringNode;\n}\nfunction renderNodes(children, targetString, i18n, i18nOptions, combinedTOpts, shouldUnescape) {\n  if (targetString === '') return [];\n  const keepArray = i18nOptions.transKeepBasicHtmlNodesFor || [];\n  const emptyChildrenButNeedsHandling = targetString && new RegExp(keepArray.map(keep => `<${keep}`).join('|')).test(targetString);\n  if (!children && !emptyChildrenButNeedsHandling && !shouldUnescape) return [targetString];\n  const data = {};\n  function getData(childs) {\n    const childrenArray = getAsArray(childs);\n    childrenArray.forEach(child => {\n      if (typeof child === 'string') return;\n      if (hasChildren(child)) getData(getChildren(child));else if (typeof child === 'object' && !isValidElement(child)) Object.assign(data, child);\n    });\n  }\n  getData(children);\n  const ast = HTML.parse(`<0>${targetString}</0>`);\n  const opts = {\n    ...data,\n    ...combinedTOpts\n  };\n  function renderInner(child, node, rootReactNode) {\n    const childs = getChildren(child);\n    const mappedChildren = mapAST(childs, node.children, rootReactNode);\n    return hasValidReactChildren(childs) && mappedChildren.length === 0 || child.props && child.props.i18nIsDynamicList ? childs : mappedChildren;\n  }\n  function pushTranslatedJSX(child, inner, mem, i, isVoid) {\n    if (child.dummy) {\n      child.children = inner;\n      mem.push(cloneElement(child, {\n        key: i\n      }, isVoid ? undefined : inner));\n    } else {\n      mem.push(...Children.map([child], c => {\n        const props = {\n          ...c.props\n        };\n        delete props.i18nIsDynamicList;\n        return React.createElement(c.type, _extends({}, props, {\n          key: i,\n          ref: c.ref\n        }, isVoid ? {} : {\n          children: inner\n        }));\n      }));\n    }\n  }\n  function mapAST(reactNode, astNode, rootReactNode) {\n    const reactNodes = getAsArray(reactNode);\n    const astNodes = getAsArray(astNode);\n    return astNodes.reduce((mem, node, i) => {\n      const translationContent = node.children && node.children[0] && node.children[0].content && i18n.services.interpolator.interpolate(node.children[0].content, opts, i18n.language);\n      if (node.type === 'tag') {\n        let tmp = reactNodes[parseInt(node.name, 10)];\n        if (rootReactNode.length === 1 && !tmp) tmp = rootReactNode[0][node.name];\n        if (!tmp) tmp = {};\n        const child = Object.keys(node.attrs).length !== 0 ? mergeProps({\n          props: node.attrs\n        }, tmp) : tmp;\n        const isElement = isValidElement(child);\n        const isValidTranslationWithChildren = isElement && hasChildren(node, true) && !node.voidElement;\n        const isEmptyTransWithHTML = emptyChildrenButNeedsHandling && typeof child === 'object' && child.dummy && !isElement;\n        const isKnownComponent = typeof children === 'object' && children !== null && Object.hasOwnProperty.call(children, node.name);\n        if (typeof child === 'string') {\n          const value = i18n.services.interpolator.interpolate(child, opts, i18n.language);\n          mem.push(value);\n        } else if (hasChildren(child) || isValidTranslationWithChildren) {\n          const inner = renderInner(child, node, rootReactNode);\n          pushTranslatedJSX(child, inner, mem, i);\n        } else if (isEmptyTransWithHTML) {\n          const inner = mapAST(reactNodes, node.children, rootReactNode);\n          pushTranslatedJSX(child, inner, mem, i);\n        } else if (Number.isNaN(parseFloat(node.name))) {\n          if (isKnownComponent) {\n            const inner = renderInner(child, node, rootReactNode);\n            pushTranslatedJSX(child, inner, mem, i, node.voidElement);\n          } else if (i18nOptions.transSupportBasicHtmlNodes && keepArray.indexOf(node.name) > -1) {\n            if (node.voidElement) {\n              mem.push(createElement(node.name, {\n                key: `${node.name}-${i}`\n              }));\n            } else {\n              const inner = mapAST(reactNodes, node.children, rootReactNode);\n              mem.push(createElement(node.name, {\n                key: `${node.name}-${i}`\n              }, inner));\n            }\n          } else if (node.voidElement) {\n            mem.push(`<${node.name} />`);\n          } else {\n            const inner = mapAST(reactNodes, node.children, rootReactNode);\n            mem.push(`<${node.name}>${inner}</${node.name}>`);\n          }\n        } else if (typeof child === 'object' && !isElement) {\n          const content = node.children[0] ? translationContent : null;\n          if (content) mem.push(content);\n        } else {\n          pushTranslatedJSX(child, translationContent, mem, i, node.children.length !== 1 || !translationContent);\n        }\n      } else if (node.type === 'text') {\n        const wrapTextNodes = i18nOptions.transWrapTextNodes;\n        const content = shouldUnescape ? i18nOptions.unescape(i18n.services.interpolator.interpolate(node.content, opts, i18n.language)) : i18n.services.interpolator.interpolate(node.content, opts, i18n.language);\n        if (wrapTextNodes) {\n          mem.push(createElement(wrapTextNodes, {\n            key: `${node.name}-${i}`\n          }, content));\n        } else {\n          mem.push(content);\n        }\n      }\n      return mem;\n    }, []);\n  }\n  const result = mapAST([{\n    dummy: true,\n    children: children || []\n  }], ast, getAsArray(children || []));\n  return getChildren(result[0]);\n}\nexport function Trans(_ref) {\n  let {\n    children,\n    count,\n    parent,\n    i18nKey,\n    context,\n    tOptions = {},\n    values,\n    defaults,\n    components,\n    ns,\n    i18n: i18nFromProps,\n    t: tFromProps,\n    shouldUnescape,\n    ...additionalProps\n  } = _ref;\n  const i18n = i18nFromProps || getI18n();\n  if (!i18n) {\n    warnOnce('You will need to pass in an i18next instance by using i18nextReactModule');\n    return children;\n  }\n  const t = tFromProps || i18n.t.bind(i18n) || (k => k);\n  if (context) tOptions.context = context;\n  const reactI18nextOptions = {\n    ...getDefaults(),\n    ...(i18n.options && i18n.options.react)\n  };\n  let namespaces = ns || t.ns || i18n.options && i18n.options.defaultNS;\n  namespaces = typeof namespaces === 'string' ? [namespaces] : namespaces || ['translation'];\n  const nodeAsString = nodesToString(children, reactI18nextOptions);\n  const defaultValue = defaults || nodeAsString || reactI18nextOptions.transEmptyNodeValue || i18nKey;\n  const {\n    hashTransKey\n  } = reactI18nextOptions;\n  const key = i18nKey || (hashTransKey ? hashTransKey(nodeAsString || defaultValue) : nodeAsString || defaultValue);\n  if (i18n.options && i18n.options.interpolation && i18n.options.interpolation.defaultVariables) {\n    values = values && Object.keys(values).length > 0 ? {\n      ...values,\n      ...i18n.options.interpolation.defaultVariables\n    } : {\n      ...i18n.options.interpolation.defaultVariables\n    };\n  }\n  const interpolationOverride = values ? tOptions.interpolation : {\n    interpolation: {\n      ...tOptions.interpolation,\n      prefix: '#$?',\n      suffix: '?$#'\n    }\n  };\n  const combinedTOpts = {\n    ...tOptions,\n    count,\n    ...values,\n    ...interpolationOverride,\n    defaultValue,\n    ns: namespaces\n  };\n  const translation = key ? t(key, combinedTOpts) : defaultValue;\n  if (components) {\n    Object.keys(components).forEach(c => {\n      const comp = components[c];\n      if (typeof comp.type === 'function' || !comp.props || !comp.props.children || translation.indexOf(`${c}/>`) < 0 && translation.indexOf(`${c} />`) < 0) return;\n      function Componentized() {\n        return React.createElement(React.Fragment, null, comp);\n      }\n      components[c] = React.createElement(Componentized, null);\n    });\n  }\n  const content = renderNodes(components || children, translation, i18n, reactI18nextOptions, combinedTOpts, shouldUnescape);\n  const useAsParent = parent !== undefined ? parent : reactI18nextOptions.defaultTransParent;\n  return useAsParent ? createElement(useAsParent, additionalProps, content) : content;\n}","export function warn() {\n  if (console && console.warn) {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    if (typeof args[0] === 'string') args[0] = `react-i18next:: ${args[0]}`;\n    console.warn(...args);\n  }\n}\nconst alreadyWarned = {};\nexport function warnOnce() {\n  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n  if (typeof args[0] === 'string' && alreadyWarned[args[0]]) return;\n  if (typeof args[0] === 'string') alreadyWarned[args[0]] = new Date();\n  warn(...args);\n}\nconst loadedClb = (i18n, cb) => () => {\n  if (i18n.isInitialized) {\n    cb();\n  } else {\n    const initialized = () => {\n      setTimeout(() => {\n        i18n.off('initialized', initialized);\n      }, 0);\n      cb();\n    };\n    i18n.on('initialized', initialized);\n  }\n};\nexport function loadNamespaces(i18n, ns, cb) {\n  i18n.loadNamespaces(ns, loadedClb(i18n, cb));\n}\nexport function loadLanguages(i18n, lng, ns, cb) {\n  if (typeof ns === 'string') ns = [ns];\n  ns.forEach(n => {\n    if (i18n.options.ns.indexOf(n) < 0) i18n.options.ns.push(n);\n  });\n  i18n.loadLanguages(lng, loadedClb(i18n, cb));\n}\nfunction oldI18nextHasLoadedNamespace(ns, i18n) {\n  let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const lng = i18n.languages[0];\n  const fallbackLng = i18n.options ? i18n.options.fallbackLng : false;\n  const lastLng = i18n.languages[i18n.languages.length - 1];\n  if (lng.toLowerCase() === 'cimode') return true;\n  const loadNotPending = (l, n) => {\n    const loadState = i18n.services.backendConnector.state[`${l}|${n}`];\n    return loadState === -1 || loadState === 2;\n  };\n  if (options.bindI18n && options.bindI18n.indexOf('languageChanging') > -1 && i18n.services.backendConnector.backend && i18n.isLanguageChangingTo && !loadNotPending(i18n.isLanguageChangingTo, ns)) return false;\n  if (i18n.hasResourceBundle(lng, ns)) return true;\n  if (!i18n.services.backendConnector.backend || i18n.options.resources && !i18n.options.partialBundledLanguages) return true;\n  if (loadNotPending(lng, ns) && (!fallbackLng || loadNotPending(lastLng, ns))) return true;\n  return false;\n}\nexport function hasLoadedNamespace(ns, i18n) {\n  let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  if (!i18n.languages || !i18n.languages.length) {\n    warnOnce('i18n.languages were undefined or empty', i18n.languages);\n    return true;\n  }\n  const isNewerI18next = i18n.options.ignoreJSONStructure !== undefined;\n  if (!isNewerI18next) {\n    return oldI18nextHasLoadedNamespace(ns, i18n, options);\n  }\n  return i18n.hasLoadedNamespace(ns, {\n    lng: options.lng,\n    precheck: (i18nInstance, loadNotPending) => {\n      if (options.bindI18n && options.bindI18n.indexOf('languageChanging') > -1 && i18nInstance.services.backendConnector.backend && i18nInstance.isLanguageChangingTo && !loadNotPending(i18nInstance.isLanguageChangingTo, ns)) return false;\n    }\n  });\n}\nexport function getDisplayName(Component) {\n  return Component.displayName || Component.name || (typeof Component === 'string' && Component.length > 0 ? Component : 'Unknown');\n}","const matchHtmlEntity = /&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g;\nconst htmlEntities = {\n  '&amp;': '&',\n  '&#38;': '&',\n  '&lt;': '<',\n  '&#60;': '<',\n  '&gt;': '>',\n  '&#62;': '>',\n  '&apos;': \"'\",\n  '&#39;': \"'\",\n  '&quot;': '\"',\n  '&#34;': '\"',\n  '&nbsp;': ' ',\n  '&#160;': ' ',\n  '&copy;': '©',\n  '&#169;': '©',\n  '&reg;': '®',\n  '&#174;': '®',\n  '&hellip;': '…',\n  '&#8230;': '…',\n  '&#x2F;': '/',\n  '&#47;': '/'\n};\nconst unescapeHtmlEntity = m => htmlEntities[m];\nexport const unescape = text => text.replace(matchHtmlEntity, unescapeHtmlEntity);","import { unescape } from './unescape.js';\nlet defaultOptions = {\n  bindI18n: 'languageChanged',\n  bindI18nStore: '',\n  transEmptyNodeValue: '',\n  transSupportBasicHtmlNodes: true,\n  transWrapTextNodes: '',\n  transKeepBasicHtmlNodesFor: ['br', 'strong', 'i', 'p'],\n  useSuspense: true,\n  unescape\n};\nexport function setDefaults() {\n  let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  defaultOptions = {\n    ...defaultOptions,\n    ...options\n  };\n}\nexport function getDefaults() {\n  return defaultOptions;\n}","let i18nInstance;\nexport function setI18n(instance) {\n  i18nInstance = instance;\n}\nexport function getI18n() {\n  return i18nInstance;\n}","import { createContext } from 'react';\nimport { getDefaults, setDefaults } from './defaults.js';\nimport { getI18n, setI18n } from './i18nInstance.js';\nimport { initReactI18next } from './initReactI18next.js';\nexport { getDefaults, setDefaults, getI18n, setI18n, initReactI18next };\nexport const I18nContext = createContext();\nexport class ReportNamespaces {\n  constructor() {\n    this.usedNamespaces = {};\n  }\n  addUsedNamespaces(namespaces) {\n    namespaces.forEach(ns => {\n      if (!this.usedNamespaces[ns]) this.usedNamespaces[ns] = true;\n    });\n  }\n  getUsedNamespaces() {\n    return Object.keys(this.usedNamespaces);\n  }\n}\nexport function composeInitialProps(ForComponent) {\n  return ctx => new Promise(resolve => {\n    const i18nInitialProps = getInitialProps();\n    if (ForComponent.getInitialProps) {\n      ForComponent.getInitialProps(ctx).then(componentsInitialProps => {\n        resolve({\n          ...componentsInitialProps,\n          ...i18nInitialProps\n        });\n      });\n    } else {\n      resolve(i18nInitialProps);\n    }\n  });\n}\nexport function getInitialProps() {\n  const i18n = getI18n();\n  const namespaces = i18n.reportNamespaces ? i18n.reportNamespaces.getUsedNamespaces() : [];\n  const ret = {};\n  const initialI18nStore = {};\n  i18n.languages.forEach(l => {\n    initialI18nStore[l] = {};\n    namespaces.forEach(ns => {\n      initialI18nStore[l][ns] = i18n.getResourceBundle(l, ns) || {};\n    });\n  });\n  ret.initialI18nStore = initialI18nStore;\n  ret.initialLanguage = i18n.language;\n  return ret;\n}","import { useState, useEffect, useContext, useRef } from 'react';\nimport { getI18n, getDefaults, ReportNamespaces, I18nContext } from './context.js';\nimport { warnOnce, loadNamespaces, loadLanguages, hasLoadedNamespace } from './utils.js';\nconst usePrevious = (value, ignore) => {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = ignore ? ref.current : value;\n  }, [value, ignore]);\n  return ref.current;\n};\nexport function useTranslation(ns) {\n  let props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const {\n    i18n: i18nFromProps\n  } = props;\n  const {\n    i18n: i18nFromContext,\n    defaultNS: defaultNSFromContext\n  } = useContext(I18nContext) || {};\n  const i18n = i18nFromProps || i18nFromContext || getI18n();\n  if (i18n && !i18n.reportNamespaces) i18n.reportNamespaces = new ReportNamespaces();\n  if (!i18n) {\n    warnOnce('You will need to pass in an i18next instance by using initReactI18next');\n    const notReadyT = (k, optsOrDefaultValue) => {\n      if (typeof optsOrDefaultValue === 'string') return optsOrDefaultValue;\n      if (optsOrDefaultValue && typeof optsOrDefaultValue === 'object' && typeof optsOrDefaultValue.defaultValue === 'string') return optsOrDefaultValue.defaultValue;\n      return Array.isArray(k) ? k[k.length - 1] : k;\n    };\n    const retNotReady = [notReadyT, {}, false];\n    retNotReady.t = notReadyT;\n    retNotReady.i18n = {};\n    retNotReady.ready = false;\n    return retNotReady;\n  }\n  if (i18n.options.react && i18n.options.react.wait !== undefined) warnOnce('It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.');\n  const i18nOptions = {\n    ...getDefaults(),\n    ...i18n.options.react,\n    ...props\n  };\n  const {\n    useSuspense,\n    keyPrefix\n  } = i18nOptions;\n  let namespaces = ns || defaultNSFromContext || i18n.options && i18n.options.defaultNS;\n  namespaces = typeof namespaces === 'string' ? [namespaces] : namespaces || ['translation'];\n  if (i18n.reportNamespaces.addUsedNamespaces) i18n.reportNamespaces.addUsedNamespaces(namespaces);\n  const ready = (i18n.isInitialized || i18n.initializedStoreOnce) && namespaces.every(n => hasLoadedNamespace(n, i18n, i18nOptions));\n  function getT() {\n    return i18n.getFixedT(props.lng || null, i18nOptions.nsMode === 'fallback' ? namespaces : namespaces[0], keyPrefix);\n  }\n  const [t, setT] = useState(getT);\n  let joinedNS = namespaces.join();\n  if (props.lng) joinedNS = `${props.lng}${joinedNS}`;\n  const previousJoinedNS = usePrevious(joinedNS);\n  const isMounted = useRef(true);\n  useEffect(() => {\n    const {\n      bindI18n,\n      bindI18nStore\n    } = i18nOptions;\n    isMounted.current = true;\n    if (!ready && !useSuspense) {\n      if (props.lng) {\n        loadLanguages(i18n, props.lng, namespaces, () => {\n          if (isMounted.current) setT(getT);\n        });\n      } else {\n        loadNamespaces(i18n, namespaces, () => {\n          if (isMounted.current) setT(getT);\n        });\n      }\n    }\n    if (ready && previousJoinedNS && previousJoinedNS !== joinedNS && isMounted.current) {\n      setT(getT);\n    }\n    function boundReset() {\n      if (isMounted.current) setT(getT);\n    }\n    if (bindI18n && i18n) i18n.on(bindI18n, boundReset);\n    if (bindI18nStore && i18n) i18n.store.on(bindI18nStore, boundReset);\n    return () => {\n      isMounted.current = false;\n      if (bindI18n && i18n) bindI18n.split(' ').forEach(e => i18n.off(e, boundReset));\n      if (bindI18nStore && i18n) bindI18nStore.split(' ').forEach(e => i18n.store.off(e, boundReset));\n    };\n  }, [i18n, joinedNS]);\n  const isInitial = useRef(true);\n  useEffect(() => {\n    if (isMounted.current && !isInitial.current) {\n      setT(getT);\n    }\n    isInitial.current = false;\n  }, [i18n, keyPrefix]);\n  const ret = [t, i18n, ready];\n  ret.t = t;\n  ret.i18n = i18n;\n  ret.ready = ready;\n  if (ready) return ret;\n  if (!ready && !useSuspense) return ret;\n  throw new Promise(resolve => {\n    if (props.lng) {\n      loadLanguages(i18n, props.lng, namespaces, () => resolve());\n    } else {\n      loadNamespaces(i18n, namespaces, () => resolve());\n    }\n  });\n}","import { createElement, forwardRef as forwardRefReact } from 'react';\nimport { useTranslation } from './useTranslation.js';\nimport { getDisplayName } from './utils.js';\nexport function withTranslation(ns) {\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return function Extend(WrappedComponent) {\n    function I18nextWithTranslation(_ref) {\n      let {\n        forwardedRef,\n        ...rest\n      } = _ref;\n      const [t, i18n, ready] = useTranslation(ns, {\n        ...rest,\n        keyPrefix: options.keyPrefix\n      });\n      const passDownProps = {\n        ...rest,\n        t,\n        i18n,\n        tReady: ready\n      };\n      if (options.withRef && forwardedRef) {\n        passDownProps.ref = forwardedRef;\n      } else if (!options.withRef && forwardedRef) {\n        passDownProps.forwardedRef = forwardedRef;\n      }\n      return createElement(WrappedComponent, passDownProps);\n    }\n    I18nextWithTranslation.displayName = `withI18nextTranslation(${getDisplayName(WrappedComponent)})`;\n    I18nextWithTranslation.WrappedComponent = WrappedComponent;\n    const forwardRef = (props, ref) => createElement(I18nextWithTranslation, Object.assign({}, props, {\n      forwardedRef: ref\n    }));\n    return options.withRef ? forwardRefReact(forwardRef) : I18nextWithTranslation;\n  };\n}","import { createElement, useMemo } from 'react';\nimport { I18nContext } from './context.js';\nexport function I18nextProvider(_ref) {\n  let {\n    i18n,\n    defaultNS,\n    children\n  } = _ref;\n  const value = useMemo(() => ({\n    i18n,\n    defaultNS\n  }), [i18n, defaultNS]);\n  return createElement(I18nContext.Provider, {\n    value\n  }, children);\n}","import { createElement } from 'react';\nimport { useSSR } from './useSSR.js';\nimport { composeInitialProps } from './context.js';\nimport { getDisplayName } from './utils.js';\nexport function withSSR() {\n  return function Extend(WrappedComponent) {\n    function I18nextWithSSR(_ref) {\n      let {\n        initialI18nStore,\n        initialLanguage,\n        ...rest\n      } = _ref;\n      useSSR(initialI18nStore, initialLanguage);\n      return createElement(WrappedComponent, {\n        ...rest\n      });\n    }\n    I18nextWithSSR.getInitialProps = composeInitialProps(WrappedComponent);\n    I18nextWithSSR.displayName = `withI18nextSSR(${getDisplayName(WrappedComponent)})`;\n    I18nextWithSSR.WrappedComponent = WrappedComponent;\n    return I18nextWithSSR;\n  };\n}","import { useContext } from 'react';\nimport { getI18n, I18nContext } from './context.js';\nexport function useSSR(initialI18nStore, initialLanguage) {\n  let props = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const {\n    i18n: i18nFromProps\n  } = props;\n  const {\n    i18n: i18nFromContext\n  } = useContext(I18nContext) || {};\n  const i18n = i18nFromProps || i18nFromContext || getI18n();\n  if (i18n.options && i18n.options.isClone) return;\n  if (initialI18nStore && !i18n.initializedStoreOnce) {\n    i18n.services.resourceStore.data = initialI18nStore;\n    i18n.options.ns = Object.values(initialI18nStore).reduce((mem, lngResources) => {\n      Object.keys(lngResources).forEach(ns => {\n        if (mem.indexOf(ns) < 0) mem.push(ns);\n      });\n      return mem;\n    }, i18n.options.ns);\n    i18n.initializedStoreOnce = true;\n    i18n.isInitialized = true;\n  }\n  if (initialLanguage && !i18n.initializedLanguageOnce) {\n    i18n.changeLanguage(initialLanguage);\n    i18n.initializedLanguageOnce = true;\n  }\n}","import React, { useCallback, useState } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { BaseCard as Card } from '@layera/cards';\r\nimport { Text as Typography } from '@layera/typography';\r\nimport { UploadIcon } from '@layera/icons';\r\nimport { useTheme } from '@layera/theme-switcher';\r\nimport type { DragDropZoneProps } from '../types';\r\n\r\n/**\r\n * Drag & Drop zone component με enterprise-grade functionality\r\n * Βασισμένο σε Google Drive, Dropbox patterns\r\n */\r\nexport const DragDropZone: React.FC<DragDropZoneProps> = ({\r\n  enabled,\r\n  acceptedTypes,\r\n  maxFiles,\r\n  dropZoneText,\r\n  onFilesDrop,\r\n  className = '',\r\n  multiple = true\r\n}) => {\r\n  const { t } = useTranslation();\r\n  const { theme } = useTheme();\r\n  const [isDragOver, setIsDragOver] = useState(false);\r\n  const [dragCounter, setDragCounter] = useState(0);\r\n\r\n  const handleDragEnter = useCallback((e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n\r\n    if (!enabled) return;\r\n\r\n    setDragCounter(prev => prev + 1);\r\n\r\n    if (e.dataTransfer?.items && e.dataTransfer.items.length > 0) {\r\n      setIsDragOver(true);\r\n    }\r\n  }, [enabled]);\r\n\r\n  const handleDragLeave = useCallback((e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n\r\n    if (!enabled) return;\r\n\r\n    setDragCounter(prev => {\r\n      const newCounter = prev - 1;\r\n      if (newCounter === 0) {\r\n        setIsDragOver(false);\r\n      }\r\n      return newCounter;\r\n    });\r\n  }, [enabled]);\r\n\r\n  const handleDragOver = useCallback((e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n\r\n    if (!enabled) return;\r\n\r\n    if (e.dataTransfer) {\r\n      e.dataTransfer.dropEffect = 'copy';\r\n    }\r\n  }, [enabled]);\r\n\r\n  const handleDrop = useCallback((e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n\r\n    if (!enabled) return;\r\n\r\n    setIsDragOver(false);\r\n    setDragCounter(0);\r\n\r\n    const { files } = e.dataTransfer;\r\n    if (files && files.length > 0) {\r\n      const fileArray = Array.from(files);\r\n\r\n      // Apply maxFiles limit\r\n      const limitedFiles = maxFiles ? fileArray.slice(0, maxFiles) : fileArray;\r\n\r\n      // Filter by accepted types\r\n      const validFiles = limitedFiles.filter(file =>\r\n        acceptedTypes.length === 0 || acceptedTypes.includes(file.type as any)\r\n      );\r\n\r\n      if (validFiles.length > 0) {\r\n        onFilesDrop(validFiles);\r\n      }\r\n    }\r\n  }, [enabled, maxFiles, acceptedTypes, onFilesDrop]);\r\n\r\n  const handleFileInputChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { files } = e.target;\r\n    if (files && files.length > 0) {\r\n      const fileArray = Array.from(files);\r\n      onFilesDrop(fileArray);\r\n    }\r\n\r\n    // Reset input value για να επιτρέπουμε re-upload του ίδιου file\r\n    e.target.value = '';\r\n  }, [onFilesDrop]);\r\n\r\n  const getZoneClasses = () => {\r\n    const baseClasses = [\r\n      'relative',\r\n      'border-2',\r\n      'border-dashed',\r\n      'rounded-lg',\r\n      'p-8',\r\n      'text-center',\r\n      'transition-all',\r\n      'duration-200',\r\n      'cursor-pointer'\r\n    ];\r\n\r\n    if (!enabled) {\r\n      baseClasses.push('opacity-50', 'cursor-not-allowed');\r\n    } else if (isDragOver) {\r\n      baseClasses.push(\r\n        'border-blue-500',\r\n        'bg-blue-50',\r\n        theme === 'dark' ? 'bg-blue-900/20' : 'bg-blue-50',\r\n        'scale-105'\r\n      );\r\n    } else {\r\n      baseClasses.push(\r\n        'border-gray-300',\r\n        'hover:border-gray-400',\r\n        theme === 'dark' ? 'border-gray-600 hover:border-gray-500' : 'border-gray-300 hover:border-gray-400'\r\n      );\r\n    }\r\n\r\n    return baseClasses.join(' ');\r\n  };\r\n\r\n  const acceptAttribute = acceptedTypes.length > 0 ? acceptedTypes.join(',') : undefined;\r\n\r\n  return (\r\n    <Card className={`${getZoneClasses()} ${className}`}>\r\n      <div\r\n        onDragEnter={handleDragEnter}\r\n        onDragLeave={handleDragLeave}\r\n        onDragOver={handleDragOver}\r\n        onDrop={handleDrop}\r\n        className=\"w-full h-full\"\r\n      >\r\n        <input\r\n          type=\"file\"\r\n          multiple={multiple}\r\n          accept={acceptAttribute}\r\n          onChange={handleFileInputChange}\r\n          disabled={!enabled}\r\n          className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer disabled:cursor-not-allowed\"\r\n        />\r\n\r\n        <div className=\"flex flex-col items-center justify-center space-y-4\">\r\n          <div className={`p-4 rounded-full ${\r\n            isDragOver\r\n              ? 'bg-blue-100 text-blue-600'\r\n              : theme === 'dark'\r\n              ? 'bg-gray-700 text-gray-300'\r\n              : 'bg-gray-100 text-gray-500'\r\n          }`}>\r\n            <UploadIcon className=\"w-8 h-8\" />\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Typography size=\"lg\" weight=\"medium\" className=\"\">\r\n              {dropZoneText || (\r\n                isDragOver\r\n                  ? t('file-upload.drop-files-here')\r\n                  : t('file-upload.drag-files-or-click')\r\n              )}\r\n            </Typography>\r\n\r\n            <Typography size=\"sm\" className={theme === 'dark' ? 'text-gray-400' : 'text-gray-500'}>\r\n              {acceptedTypes.length > 0 && (\r\n                <>\r\n                  {t('file-upload.accepted-types')}: {acceptedTypes.join(', ')}\r\n                  <br />\r\n                </>\r\n              )}\r\n              {maxFiles && (\r\n                <>\r\n                  {t('file-upload.max-files', { count: maxFiles })}\r\n                  <br />\r\n                </>\r\n              )}\r\n              {t('file-upload.or-click-to-browse')}\r\n            </Typography>\r\n          </div>\r\n\r\n          {isDragOver && (\r\n            <div className=\"flex items-center space-x-2 text-blue-600\">\r\n              <UploadIcon className=\"w-5 h-5\" />\r\n              <Typography size=\"base\" weight=\"medium\" className=\"\">\r\n                {t('file-upload.release-to-upload')}\r\n              </Typography>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  );\r\n};","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { BaseCard as Card } from '@layera/cards';\r\nimport { Text as Typography } from '@layera/typography';\r\nimport { Button } from '@layera/buttons';\r\nimport { UploadIcon, CloseIcon, RefreshIcon, DeleteIcon } from '@layera/icons';\r\nimport { useTheme } from '@layera/theme-switcher';\r\nimport type { FileListProps, FileUploadItem } from '../types';\r\nimport { formatBytes } from '../utils/fileValidation';\r\n\r\n/**\r\n * File list component για προβολή και διαχείριση uploaded files\r\n * Βασισμένο σε Google Drive, Dropbox patterns\r\n */\r\nexport const FileList: React.FC<FileListProps> = ({\r\n  files,\r\n  showProgress,\r\n  showActions,\r\n  onRemove,\r\n  onCancel,\r\n  onRetry\r\n}) => {\r\n  const { t } = useTranslation();\r\n  const { theme } = useTheme();\r\n\r\n  if (files.length === 0) {\r\n    return (\r\n      <Card className={`p-6 text-center ${theme === 'dark' ? 'bg-gray-800' : 'bg-gray-50'}`}>\r\n        <UploadIcon className=\"w-12 h-12 mx-auto mb-4 text-gray-400\" />\r\n        <Typography size=\"base\" className=\"text-gray-500\">\r\n          {t('file-upload.no-files')}\r\n        </Typography>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-3\">\r\n      {files.map((file) => (\r\n        <FileListItem\r\n          key={file.id}\r\n          file={file}\r\n          showProgress={showProgress}\r\n          showActions={showActions}\r\n          onRemove={onRemove}\r\n          onCancel={onCancel}\r\n          onRetry={onRetry}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface FileListItemProps {\r\n  file: FileUploadItem;\r\n  showProgress: boolean;\r\n  showActions: boolean;\r\n  onRemove: (fileId: string) => void;\r\n  onCancel: (fileId: string) => void;\r\n  onRetry: (fileId: string) => void;\r\n}\r\n\r\nconst FileListItem: React.FC<FileListItemProps> = ({\r\n  file,\r\n  showProgress,\r\n  showActions,\r\n  onRemove,\r\n  onCancel,\r\n  onRetry\r\n}) => {\r\n  const { t } = useTranslation();\r\n  const { theme } = useTheme();\r\n\r\n  const getStatusIcon = () => {\r\n    switch (file.status) {\r\n      case 'completed':\r\n        return <UploadIcon className=\"w-5 h-5 text-green-500\" />;\r\n      case 'error':\r\n        return <CloseIcon className=\"w-5 h-5 text-red-500\" />;\r\n      case 'uploading':\r\n        return <UploadIcon className=\"w-5 h-5 text-blue-500 animate-pulse\" />;\r\n      case 'cancelled':\r\n        return <CloseIcon className=\"w-5 h-5 text-gray-500\" />;\r\n      case 'paused':\r\n        return <UploadIcon className=\"w-5 h-5 text-yellow-500\" />;\r\n      default:\r\n        return <UploadIcon className=\"w-5 h-5 text-gray-400\" />;\r\n    }\r\n  };\r\n\r\n  const getStatusText = () => {\r\n    switch (file.status) {\r\n      case 'completed':\r\n        return t('file-upload.status.completed');\r\n      case 'error':\r\n        return file.error || t('file-upload.status.error');\r\n      case 'uploading':\r\n        return t('file-upload.status.uploading');\r\n      case 'cancelled':\r\n        return t('file-upload.status.cancelled');\r\n      case 'paused':\r\n        return t('file-upload.status.paused');\r\n      default:\r\n        return t('file-upload.status.pending');\r\n    }\r\n  };\r\n\r\n  const getProgressBarColor = () => {\r\n    switch (file.status) {\r\n      case 'completed':\r\n        return 'bg-green-500';\r\n      case 'error':\r\n        return 'bg-red-500';\r\n      case 'uploading':\r\n        return 'bg-blue-500';\r\n      case 'cancelled':\r\n        return 'bg-gray-500';\r\n      case 'paused':\r\n        return 'bg-yellow-500';\r\n      default:\r\n        return 'bg-gray-300';\r\n    }\r\n  };\r\n\r\n  const formatUploadSpeed = (speed?: number): string => {\r\n    if (!speed) return '';\r\n    return `${formatBytes(speed)}/s`;\r\n  };\r\n\r\n  const formatETA = (eta?: number): string => {\r\n    if (!eta) return '';\r\n    const minutes = Math.floor(eta / 60);\r\n    const seconds = Math.floor(eta % 60);\r\n    return minutes > 0 ? `${minutes}:${seconds.toString().padStart(2, '0')}` : `${seconds}s`;\r\n  };\r\n\r\n  return (\r\n    <Card className={`p-4 ${theme === 'dark' ? 'bg-gray-800' : 'bg-white'}`}>\r\n      <div className=\"flex items-center justify-between\">\r\n        {/* File Info */}\r\n        <div className=\"flex items-center space-x-3 flex-1 min-w-0\">\r\n          <div className=\"flex-shrink-0\">\r\n            {getStatusIcon()}\r\n          </div>\r\n\r\n          <div className=\"flex-1 min-w-0\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <Typography size=\"base\" weight=\"medium\" className=\"truncate\">\r\n                {file.file.name}\r\n              </Typography>\r\n              <Typography size=\"sm\" className=\"text-gray-500 ml-2\">\r\n                {formatBytes(file.file.size)}\r\n              </Typography>\r\n            </div>\r\n\r\n            <div className=\"flex items-center space-x-4 mt-1\">\r\n              <Typography size=\"sm\" className=\"text-gray-500\">\r\n                {getStatusText()}\r\n              </Typography>\r\n\r\n              {file.status === 'uploading' && file.speed && (\r\n                <>\r\n                  <Typography size=\"sm\" className=\"text-gray-500\">\r\n                    {formatUploadSpeed(file.speed)}\r\n                  </Typography>\r\n                  {file.eta && (\r\n                    <Typography size=\"sm\" className=\"text-gray-500\">\r\n                      {t('file-upload.eta', { time: formatETA(file.eta) })}\r\n                    </Typography>\r\n                  )}\r\n                </>\r\n              )}\r\n            </div>\r\n\r\n            {/* Progress Bar */}\r\n            {showProgress && (\r\n              <div className={`w-full bg-gray-200 rounded-full h-2 mt-2 ${theme === 'dark' ? 'bg-gray-600' : 'bg-gray-200'}`}>\r\n                <div\r\n                  className={`h-2 rounded-full transition-all duration-300 ${getProgressBarColor()}`}\r\n                  style={{ width: `${Math.min(file.progress, 100)}%` }}\r\n                />\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Actions */}\r\n        {showActions && (\r\n          <div className=\"flex items-center space-x-2 ml-4\">\r\n            {file.status === 'uploading' && (\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                onClick={() => onCancel(file.id)}\r\n                className=\"text-red-600 hover:text-red-700\"\r\n              >\r\n                <CloseIcon className=\"w-4 h-4\" />\r\n              </Button>\r\n            )}\r\n\r\n            {file.status === 'error' && (\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                onClick={() => onRetry(file.id)}\r\n                className=\"text-blue-600 hover:text-blue-700\"\r\n              >\r\n                <RefreshIcon className=\"w-4 h-4\" />\r\n              </Button>\r\n            )}\r\n\r\n            {(file.status === 'completed' || file.status === 'error' || file.status === 'cancelled') && (\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                onClick={() => onRemove(file.id)}\r\n                className=\"text-gray-600 hover:text-gray-700\"\r\n              >\r\n                <DeleteIcon className=\"w-4 h-4\" />\r\n              </Button>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </Card>\r\n  );\r\n};","import type { SupportedFileType, FileValidationResult, FileUploadConfig } from '../types';\r\n// import { CONFIG } from '@layera/constants'; // Will use constants directly for now\r\n\r\n/**\r\n * File validation utilities για @layera/file-upload\r\n * Enterprise-grade validation με comprehensive error handling\r\n */\r\n\r\n/**\r\n * Validates a single file against configuration\r\n */\r\nexport const validateFile = (\r\n  file: File,\r\n  config: FileUploadConfig\r\n): FileValidationResult => {\r\n  const errors: string[] = [];\r\n  const warnings: string[] = [];\r\n\r\n  // File size validation\r\n  if (file.size > config.maxFileSize) {\r\n    errors.push(`File size (${formatBytes(file.size)}) exceeds maximum allowed size (${formatBytes(config.maxFileSize)})`);\r\n  }\r\n\r\n  // File type validation\r\n  if (!config.acceptedTypes.includes(file.type as SupportedFileType)) {\r\n    errors.push(`File type \"${file.type}\" is not supported`);\r\n  }\r\n\r\n  // File name validation\r\n  if (!isValidFileName(file.name)) {\r\n    errors.push('File name contains invalid characters');\r\n  }\r\n\r\n  // Security checks\r\n  const securityCheck = performSecurityValidation(file);\r\n  if (!securityCheck.isValid) {\r\n    errors.push(...securityCheck.errors);\r\n  }\r\n\r\n  // Performance warnings\r\n  const largeFileThreshold = 50 * 1024 * 1024; // 50MB\r\n  if (file.size > largeFileThreshold) {\r\n    warnings.push('Large file detected - upload may take longer');\r\n  }\r\n\r\n  return {\r\n    isValid: errors.length === 0,\r\n    errors,\r\n    warnings\r\n  };\r\n};\r\n\r\n/**\r\n * Validates multiple files against total size limits\r\n */\r\nexport const validateFileList = (\r\n  files: File[],\r\n  config: FileUploadConfig\r\n): FileValidationResult => {\r\n  const errors: string[] = [];\r\n  const warnings: string[] = [];\r\n\r\n  // Total size validation\r\n  const totalSize = files.reduce((sum, file) => sum + file.size, 0);\r\n  if (totalSize > config.maxTotalSize) {\r\n    errors.push(`Total size (${formatBytes(totalSize)}) exceeds maximum allowed (${formatBytes(config.maxTotalSize)})`);\r\n  }\r\n\r\n  // Individual file validation\r\n  files.forEach((file, index) => {\r\n    const fileValidation = validateFile(file, config);\r\n    if (!fileValidation.isValid) {\r\n      errors.push(`File ${index + 1} (${file.name}): ${fileValidation.errors.join(', ')}`);\r\n    }\r\n    warnings.push(...fileValidation.warnings);\r\n  });\r\n\r\n  // Duplicate file names\r\n  const duplicates = findDuplicateFileNames(files);\r\n  if (duplicates.length > 0) {\r\n    warnings.push(`Duplicate file names detected: ${duplicates.join(', ')}`);\r\n  }\r\n\r\n  return {\r\n    isValid: errors.length === 0,\r\n    errors,\r\n    warnings\r\n  };\r\n};\r\n\r\n/**\r\n * Validates file name for security and compatibility\r\n */\r\nconst isValidFileName = (fileName: string): boolean => {\r\n  // Check for dangerous characters\r\n  const dangerousChars = /[<>:\"|?*\\x00-\\x1f]/;\r\n  if (dangerousChars.test(fileName)) {\r\n    return false;\r\n  }\r\n\r\n  // Check for reserved names (Windows)\r\n  const reservedNames = /^(CON|PRN|AUX|NUL|COM[1-9]|LPT[1-9])(\\.|$)/i;\r\n  if (reservedNames.test(fileName)) {\r\n    return false;\r\n  }\r\n\r\n  // Check length\r\n  const maxFileNameLength = 255; // Standard filesystem limit\r\n  if (fileName.length > maxFileNameLength) {\r\n    return false;\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\n/**\r\n * Performs security validation on file\r\n */\r\nconst performSecurityValidation = (file: File): FileValidationResult => {\r\n  const errors: string[] = [];\r\n\r\n  // Check file extension vs MIME type consistency\r\n  const extension = getFileExtension(file.name);\r\n  const expectedMimeTypes = getExpectedMimeTypes(extension);\r\n\r\n  if (expectedMimeTypes.length > 0 && !expectedMimeTypes.includes(file.type)) {\r\n    errors.push(`File extension \"${extension}\" does not match MIME type \"${file.type}\"`);\r\n  }\r\n\r\n  // Check for executable files\r\n  const executableExtensions = ['.exe', '.bat', '.cmd', '.scr', '.pif', '.com', '.dll'];\r\n  if (executableExtensions.some(ext => file.name.toLowerCase().endsWith(ext))) {\r\n    errors.push('Executable files are not allowed');\r\n  }\r\n\r\n  return {\r\n    isValid: errors.length === 0,\r\n    errors,\r\n    warnings: []\r\n  };\r\n};\r\n\r\n/**\r\n * Gets file extension from filename\r\n */\r\nconst getFileExtension = (fileName: string): string => {\r\n  const lastDotIndex = fileName.lastIndexOf('.');\r\n  return lastDotIndex !== -1 ? fileName.substring(lastDotIndex) : '';\r\n};\r\n\r\n/**\r\n * Gets expected MIME types for file extension\r\n */\r\nconst getExpectedMimeTypes = (extension: string): string[] => {\r\n  const mimeMap: Record<string, string[]> = {\r\n    '.jpg': ['image/jpeg'],\r\n    '.jpeg': ['image/jpeg'],\r\n    '.png': ['image/png'],\r\n    '.gif': ['image/gif'],\r\n    '.pdf': ['application/pdf'],\r\n    '.txt': ['text/plain'],\r\n    '.csv': ['text/csv'],\r\n    '.json': ['application/json'],\r\n    '.xml': ['application/xml', 'text/xml'],\r\n    '.zip': ['application/zip'],\r\n    '.dxf': ['image/vnd.dxf', 'application/dxf']\r\n  };\r\n\r\n  return mimeMap[extension.toLowerCase()] || [];\r\n};\r\n\r\n/**\r\n * Finds duplicate file names in file list\r\n */\r\nconst findDuplicateFileNames = (files: File[]): string[] => {\r\n  const nameCount: Record<string, number> = {};\r\n  const duplicates: string[] = [];\r\n\r\n  files.forEach(file => {\r\n    nameCount[file.name] = (nameCount[file.name] || 0) + 1;\r\n  });\r\n\r\n  Object.entries(nameCount).forEach(([name, count]) => {\r\n    if (count > 1) {\r\n      duplicates.push(name);\r\n    }\r\n  });\r\n\r\n  return duplicates;\r\n};\r\n\r\n/**\r\n * Formats file size in human readable format\r\n */\r\nexport const formatBytes = (bytes: number, decimals: number = 2): string => {\r\n  if (bytes === 0) return '0 Bytes';\r\n\r\n  const k = 1024;\r\n  const dm = decimals < 0 ? 0 : decimals;\r\n  const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\r\n\r\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n\r\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\r\n};\r\n\r\n/**\r\n * Checks if file is an image\r\n */\r\nexport const isImageFile = (file: File): boolean => {\r\n  return file.type.startsWith('image/');\r\n};\r\n\r\n/**\r\n * Checks if file preview is supported\r\n */\r\nexport const isPreviewSupported = (file: File): boolean => {\r\n  const supportedTypes = [\r\n    'image/jpeg', 'image/png', 'image/gif', 'image/webp',\r\n    'text/plain', 'application/json', 'text/csv'\r\n  ];\r\n\r\n  return supportedTypes.includes(file.type);\r\n};","import React, { useState, useEffect } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { BaseCard as Card } from '@layera/cards';\r\nimport { Text as Typography } from '@layera/typography';\r\nimport { Button } from '@layera/buttons';\r\nimport { UploadIcon, CloseIcon } from '@layera/icons';\r\nimport { useTheme } from '@layera/theme-switcher';\r\nimport type { FilePreviewProps } from '../types';\r\nimport { formatBytes, isImageFile, isPreviewSupported } from '../utils/fileValidation';\r\n\r\n/**\r\n * File preview component με thumbnail και metadata display\r\n * Βασισμένο σε Google Drive, Dropbox patterns\r\n */\r\nexport const FilePreview: React.FC<FilePreviewProps> = ({\r\n  file,\r\n  showPreview,\r\n  onRemove,\r\n  onClick\r\n}) => {\r\n  const { t } = useTranslation();\r\n  const { theme } = useTheme();\r\n  const [previewUrl, setPreviewUrl] = useState<string | null>(null);\r\n  const [previewError, setPreviewError] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!showPreview || !isImageFile(file.file)) {\r\n      return;\r\n    }\r\n\r\n    const url = URL.createObjectURL(file.file);\r\n    setPreviewUrl(url);\r\n\r\n    return () => {\r\n      URL.revokeObjectURL(url);\r\n    };\r\n  }, [file.file, showPreview]);\r\n\r\n  const getFileIcon = () => {\r\n    // Use UploadIcon as a generic file icon for now\r\n    return <UploadIcon className=\"w-8 h-8\" />;\r\n  };\r\n\r\n  const getStatusColor = () => {\r\n    switch (file.status) {\r\n      case 'completed':\r\n        return 'border-green-500';\r\n      case 'error':\r\n        return 'border-red-500';\r\n      case 'uploading':\r\n        return 'border-blue-500';\r\n      case 'cancelled':\r\n        return 'border-gray-500';\r\n      case 'paused':\r\n        return 'border-yellow-500';\r\n      default:\r\n        return theme === 'dark' ? 'border-gray-600' : 'border-gray-300';\r\n    }\r\n  };\r\n\r\n  const getProgressOverlay = () => {\r\n    if (file.status !== 'uploading') return null;\r\n\r\n    return (\r\n      <div className=\"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center\">\r\n        <div className=\"text-center text-white\">\r\n          <UploadIcon className=\"w-6 h-6 mx-auto mb-2 animate-pulse\" />\r\n          <Typography variant=\"caption\" className=\"text-white\">\r\n            {Math.round(file.progress)}%\r\n          </Typography>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const handleImageError = () => {\r\n    setPreviewError(true);\r\n    setPreviewUrl(null);\r\n  };\r\n\r\n  const handleClick = () => {\r\n    if (onClick) {\r\n      onClick(file);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card className={`relative overflow-hidden transition-all duration-200 ${getStatusColor()} border-2 ${\r\n      onClick ? 'cursor-pointer hover:shadow-lg' : ''\r\n    }`}>\r\n      <div onClick={handleClick} className=\"relative\">\r\n        {/* Preview Area */}\r\n        <div className=\"aspect-square bg-gray-50 dark:bg-gray-800 flex items-center justify-center\">\r\n          {showPreview && previewUrl && !previewError ? (\r\n            <img\r\n              src={previewUrl}\r\n              alt={file.file.name}\r\n              className=\"w-full h-full object-cover\"\r\n              onError={handleImageError}\r\n            />\r\n          ) : (\r\n            <div className={`text-gray-400 ${theme === 'dark' ? 'text-gray-500' : 'text-gray-400'}`}>\r\n              {getFileIcon()}\r\n            </div>\r\n          )}\r\n\r\n          {/* Progress Overlay */}\r\n          {getProgressOverlay()}\r\n\r\n          {/* Status Badge */}\r\n          <div className=\"absolute top-2 left-2\">\r\n            {file.status === 'completed' && (\r\n              <div className=\"bg-green-500 text-white rounded-full p-1\">\r\n                <UploadIcon className=\"w-3 h-3\" />\r\n              </div>\r\n            )}\r\n            {file.status === 'error' && (\r\n              <div className=\"bg-red-500 text-white rounded-full p-1\">\r\n                <CloseIcon className=\"w-3 h-3\" />\r\n              </div>\r\n            )}\r\n            {file.status === 'uploading' && (\r\n              <div className=\"bg-blue-500 text-white rounded-full p-1\">\r\n                <UploadIcon className=\"w-3 h-3 animate-pulse\" />\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Remove Button */}\r\n          <div className=\"absolute top-2 right-2\">\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                onRemove(file.id);\r\n              }}\r\n              className=\"bg-white bg-opacity-90 hover:bg-opacity-100 text-gray-600 hover:text-red-600 border-0 p-1 w-6 h-6\"\r\n            >\r\n              <CloseIcon className=\"w-3 h-3\" />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* File Info */}\r\n        <div className=\"p-3\">\r\n          <Typography\r\n            variant=\"caption\"\r\n            className=\"font-medium truncate block mb-1\"\r\n            title={file.file.name}\r\n          >\r\n            {file.file.name}\r\n          </Typography>\r\n\r\n          <div className=\"flex items-center justify-between\">\r\n            <Typography variant=\"caption\" className=\"text-gray-500\">\r\n              {formatBytes(file.file.size)}\r\n            </Typography>\r\n\r\n            {file.status === 'uploading' && (\r\n              <Typography variant=\"caption\" className=\"text-blue-600\">\r\n                {Math.round(file.progress)}%\r\n              </Typography>\r\n            )}\r\n\r\n            {file.status === 'error' && (\r\n              <Typography variant=\"caption\" className=\"text-red-600\" title={file.error}>\r\n                {t('file-upload.status.error')}\r\n              </Typography>\r\n            )}\r\n          </div>\r\n\r\n          {/* File Type Badge */}\r\n          <div className=\"mt-2\">\r\n            <span className={`inline-block px-2 py-1 text-xs rounded ${\r\n              theme === 'dark'\r\n                ? 'bg-gray-700 text-gray-300'\r\n                : 'bg-gray-100 text-gray-600'\r\n            }`}>\r\n              {file.file.type || t('file-upload.unknown-type')}\r\n            </span>\r\n          </div>\r\n\r\n          {/* Upload Speed & ETA */}\r\n          {file.status === 'uploading' && file.speed && (\r\n            <div className=\"mt-2 space-y-1\">\r\n              <div className=\"flex items-center justify-between text-xs text-gray-500\">\r\n                <span>{formatBytes(file.speed)}/s</span>\r\n                {file.eta && (\r\n                  <span>\r\n                    {Math.floor(file.eta / 60) > 0\r\n                      ? `${Math.floor(file.eta / 60)}:${Math.floor(file.eta % 60).toString().padStart(2, '0')}`\r\n                      : `${Math.floor(file.eta)}s`\r\n                    }\r\n                  </span>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  );\r\n};","import type {\r\n  FileUploadItem,\r\n  FileUploadConfig,\r\n  ChunkUploadProgress,\r\n  UploadEventCallbacks\r\n} from '../types';\r\n// import { CONFIG } from '@layera/constants'; // Not needed for now\r\n\r\n/**\r\n * Enterprise upload engine με chunked upload support\r\n * Βασισμένο σε Google Drive, Dropbox patterns\r\n */\r\n\r\nexport class UploadEngine {\r\n  private config: FileUploadConfig;\r\n  private callbacks: UploadEventCallbacks;\r\n  private activeUploads: Map<string, AbortController> = new Map();\r\n  private uploadQueue: FileUploadItem[] = [];\r\n  private concurrentUploads: number = 0;\r\n\r\n  constructor(config: FileUploadConfig, callbacks: UploadEventCallbacks = {}) {\r\n    this.config = config;\r\n    this.callbacks = callbacks;\r\n  }\r\n\r\n  /**\r\n   * Adds file to upload queue\r\n   */\r\n  public addFile(file: FileUploadItem): void {\r\n    this.uploadQueue.push(file);\r\n\r\n    if (this.config.autoUpload) {\r\n      this.processQueue();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Starts upload for specific file\r\n   */\r\n  public async uploadFile(fileItem: FileUploadItem): Promise<void> {\r\n    if (this.concurrentUploads >= this.config.maxConcurrent) {\r\n      return; // Will be processed when slot becomes available\r\n    }\r\n\r\n    this.concurrentUploads++;\r\n    const abortController = new AbortController();\r\n    this.activeUploads.set(fileItem.id, abortController);\r\n\r\n    try {\r\n      fileItem.status = 'uploading';\r\n      fileItem.startTime = Date.now();\r\n      this.callbacks.onUploadStart?.(fileItem);\r\n\r\n      if (this.config.enableChunking && fileItem.file.size > this.config.chunkSize) {\r\n        await this.uploadFileChunked(fileItem, abortController.signal);\r\n      } else {\r\n        await this.uploadFileStandard(fileItem, abortController.signal);\r\n      }\r\n\r\n      fileItem.status = 'completed';\r\n      fileItem.completionTime = Date.now();\r\n      this.callbacks.onUploadComplete?.(fileItem);\r\n\r\n    } catch (error) {\r\n      if (abortController.signal.aborted) {\r\n        fileItem.status = 'cancelled';\r\n        this.callbacks.onUploadCancel?.(fileItem);\r\n      } else {\r\n        fileItem.status = 'error';\r\n        fileItem.error = error instanceof Error ? error.message : 'Upload failed';\r\n        this.callbacks.onUploadError?.(fileItem, fileItem.error);\r\n      }\r\n    } finally {\r\n      this.activeUploads.delete(fileItem.id);\r\n      this.concurrentUploads--;\r\n      this.processQueue(); // Process next file in queue\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Standard upload για small files\r\n   */\r\n  private async uploadFileStandard(\r\n    fileItem: FileUploadItem,\r\n    signal: AbortSignal\r\n  ): Promise<void> {\r\n    const formData = new FormData();\r\n    formData.append('file', fileItem.file);\r\n    formData.append('filename', fileItem.file.name);\r\n\r\n    const xhr = new XMLHttpRequest();\r\n\r\n    // Track upload progress\r\n    xhr.upload.addEventListener('progress', (event) => {\r\n      if (event.lengthComputable) {\r\n        const progress = (event.loaded / event.total) * 100;\r\n        fileItem.progress = progress;\r\n\r\n        const chunkProgress: ChunkUploadProgress = {\r\n          currentChunk: 1,\r\n          totalChunks: 1,\r\n          chunkBytesUploaded: event.loaded,\r\n          totalBytesUploaded: event.loaded,\r\n          totalFileSize: event.total\r\n        };\r\n\r\n        this.calculateUploadSpeed(fileItem, event.loaded);\r\n        this.callbacks.onUploadProgress?.(fileItem, chunkProgress);\r\n      }\r\n    });\r\n\r\n    // Handle abort signal\r\n    signal.addEventListener('abort', () => {\r\n      xhr.abort();\r\n    });\r\n\r\n    return new Promise<void>((resolve, reject) => {\r\n      xhr.onload = () => {\r\n        if (xhr.status >= 200 && xhr.status < 300) {\r\n          fileItem.response = xhr.response;\r\n          resolve();\r\n        } else {\r\n          reject(new Error(`Upload failed with status ${xhr.status}`));\r\n        }\r\n      };\r\n\r\n      xhr.onerror = () => {\r\n        reject(new Error('Network error occurred'));\r\n      };\r\n\r\n      xhr.open('POST', this.config.uploadUrl);\r\n\r\n      // Add custom headers\r\n      if (this.config.headers) {\r\n        Object.entries(this.config.headers).forEach(([key, value]) => {\r\n          xhr.setRequestHeader(key, value);\r\n        });\r\n      }\r\n\r\n      xhr.send(formData);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Chunked upload για large files\r\n   */\r\n  private async uploadFileChunked(\r\n    fileItem: FileUploadItem,\r\n    signal: AbortSignal\r\n  ): Promise<void> {\r\n    const file = fileItem.file;\r\n    const chunkSize = this.config.chunkSize;\r\n    const totalChunks = Math.ceil(file.size / chunkSize);\r\n    let uploadedBytes = 0;\r\n\r\n    // Initialize upload session\r\n    const sessionId = await this.initializeUploadSession(fileItem);\r\n\r\n    for (let chunkIndex = 0; chunkIndex < totalChunks; chunkIndex++) {\r\n      if (signal.aborted) {\r\n        throw new Error('Upload cancelled');\r\n      }\r\n\r\n      const start = chunkIndex * chunkSize;\r\n      const end = Math.min(start + chunkSize, file.size);\r\n      const chunk = file.slice(start, end);\r\n\r\n      await this.uploadChunk(fileItem, chunk, chunkIndex, totalChunks, sessionId);\r\n\r\n      uploadedBytes += chunk.size;\r\n      fileItem.progress = (uploadedBytes / file.size) * 100;\r\n\r\n      const chunkProgress: ChunkUploadProgress = {\r\n        currentChunk: chunkIndex + 1,\r\n        totalChunks,\r\n        chunkBytesUploaded: chunk.size,\r\n        totalBytesUploaded: uploadedBytes,\r\n        totalFileSize: file.size\r\n      };\r\n\r\n      this.calculateUploadSpeed(fileItem, uploadedBytes);\r\n      this.callbacks.onUploadProgress?.(fileItem, chunkProgress);\r\n    }\r\n\r\n    // Finalize upload\r\n    await this.finalizeUploadSession(fileItem, sessionId);\r\n  }\r\n\r\n  /**\r\n   * Initializes chunked upload session\r\n   */\r\n  private async initializeUploadSession(fileItem: FileUploadItem): Promise<string> {\r\n    const response = await fetch(`${this.config.uploadUrl}/init`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        ...this.config.headers\r\n      },\r\n      body: JSON.stringify({\r\n        filename: fileItem.file.name,\r\n        fileSize: fileItem.file.size,\r\n        mimeType: fileItem.file.type\r\n      })\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error('Failed to initialize upload session');\r\n    }\r\n\r\n    const data = await response.json() as { sessionId: string };\r\n    return data.sessionId;\r\n  }\r\n\r\n  /**\r\n   * Uploads a single chunk\r\n   */\r\n  private async uploadChunk(\r\n    fileItem: FileUploadItem,\r\n    chunk: Blob,\r\n    chunkIndex: number,\r\n    totalChunks: number,\r\n    sessionId: string\r\n  ): Promise<void> {\r\n    const formData = new FormData();\r\n    formData.append('chunk', chunk);\r\n    formData.append('chunkIndex', chunkIndex.toString());\r\n    formData.append('totalChunks', totalChunks.toString());\r\n    formData.append('sessionId', sessionId);\r\n\r\n    const response = await fetch(`${this.config.uploadUrl}/chunk`, {\r\n      method: 'POST',\r\n      headers: this.config.headers || {},\r\n      body: formData\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(`Failed to upload chunk ${chunkIndex + 1}`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Finalizes chunked upload session\r\n   */\r\n  private async finalizeUploadSession(fileItem: FileUploadItem, sessionId: string): Promise<void> {\r\n    const response = await fetch(`${this.config.uploadUrl}/finalize`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        ...this.config.headers\r\n      },\r\n      body: JSON.stringify({\r\n        sessionId,\r\n        filename: fileItem.file.name\r\n      })\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error('Failed to finalize upload');\r\n    }\r\n\r\n    fileItem.response = await response.json();\r\n  }\r\n\r\n  /**\r\n   * Calculates upload speed and ETA\r\n   */\r\n  private calculateUploadSpeed(fileItem: FileUploadItem, bytesUploaded: number): void {\r\n    if (!fileItem.startTime) return;\r\n\r\n    const elapsed = (Date.now() - fileItem.startTime) / 1000; // seconds\r\n    fileItem.speed = bytesUploaded / elapsed; // bytes per second\r\n\r\n    if (fileItem.speed > 0) {\r\n      const remainingBytes = fileItem.file.size - bytesUploaded;\r\n      fileItem.eta = remainingBytes / fileItem.speed; // seconds\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Processes upload queue\r\n   */\r\n  private processQueue(): void {\r\n    while (this.uploadQueue.length > 0 && this.concurrentUploads < this.config.maxConcurrent) {\r\n      const fileItem = this.uploadQueue.shift();\r\n      if (fileItem && fileItem.status === 'idle') {\r\n        this.uploadFile(fileItem);\r\n      }\r\n    }\r\n\r\n    // Check if all uploads are complete\r\n    if (this.uploadQueue.length === 0 && this.concurrentUploads === 0) {\r\n      this.callbacks.onAllUploadsComplete?.([]);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Cancels upload for specific file\r\n   */\r\n  public cancelUpload(fileId: string): void {\r\n    const abortController = this.activeUploads.get(fileId);\r\n    if (abortController) {\r\n      abortController.abort();\r\n    }\r\n\r\n    // Remove from queue if not started yet\r\n    this.uploadQueue = this.uploadQueue.filter(item => item.id !== fileId);\r\n  }\r\n\r\n  /**\r\n   * Pauses upload (για future implementation)\r\n   */\r\n  public pauseUpload(fileId: string): void {\r\n    // Implementation for pausable uploads\r\n    this.cancelUpload(fileId);\r\n  }\r\n\r\n  /**\r\n   * Clears all uploads and resets engine\r\n   */\r\n  public clearAll(): void {\r\n    // Cancel all active uploads\r\n    this.activeUploads.forEach(controller => controller.abort());\r\n    this.activeUploads.clear();\r\n\r\n    // Clear queue\r\n    this.uploadQueue = [];\r\n    this.concurrentUploads = 0;\r\n  }\r\n}","/**\r\n * @layera/file-upload\r\n * Enterprise-grade file upload system για Layera ecosystem\r\n *\r\n * Features:\r\n * - Drag & Drop interface με visual feedback\r\n * - Chunked upload για large files (Google Drive/Dropbox style)\r\n * - Multiple file support με concurrent uploading\r\n * - Real-time progress tracking με speed & ETA\r\n * - File validation & security checks\r\n * - Preview support για images\r\n * - Error handling & retry functionality\r\n * - Full i18n support (Greek/English)\r\n * - Dark/Light theme support\r\n * - Enterprise-grade TypeScript typing\r\n */\r\n\r\n// Main Components\r\nexport { FileUploader } from './components/FileUploader';\r\nexport { DragDropZone } from './components/DragDropZone';\r\nexport { FileList } from './components/FileList';\r\nexport { FilePreview } from './components/FilePreview';\r\n\r\n// Utilities\r\nexport { UploadEngine } from './utils/uploadEngine';\r\nexport { validateFile, validateFileList, formatBytes, isImageFile, isPreviewSupported } from './utils/fileValidation';\r\n\r\n// Types\r\nexport type {\r\n  FileUploadStatus,\r\n  SupportedFileType,\r\n  FileUploadConfig,\r\n  FileUploadItem,\r\n  ChunkUploadProgress,\r\n  FileValidationResult,\r\n  UploadEventCallbacks,\r\n  DragDropZoneProps,\r\n  FilePreviewProps,\r\n  FileListProps,\r\n  FileUploaderProps\r\n} from './types';\r\n\r\n// Default configurations\r\nexport const DEFAULT_UPLOAD_CONFIG = {\r\n  maxFileSize: 100 * 1024 * 1024, // 100MB\r\n  maxTotalSize: 500 * 1024 * 1024, // 500MB\r\n  enableChunking: true,\r\n  chunkSize: 1024 * 1024, // 1MB chunks\r\n  maxConcurrent: 3,\r\n  autoUpload: false,\r\n  enableDragDrop: true,\r\n  acceptedTypes: [\r\n    'image/jpeg', 'image/png', 'image/gif', 'image/webp',\r\n    'application/pdf',\r\n    'text/plain', 'text/csv',\r\n    'application/vnd.ms-excel',\r\n    'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n    'application/zip'\r\n  ]\r\n};"],"mappings":"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","names":["_extends","e","useState","useCallback","useRef","useEffect","i18nInstance","useContext","useContext","e","createElement","createElement","createElement","useContext","Typography","Button","UploadIcon","DeleteIcon","useTheme","useState","useState","e","Card","Typography","UploadIcon","useTheme","Fragment","jsx","jsxs","useTheme","Card","UploadIcon","Typography","useState","useEffect","Card","Typography","Button","UploadIcon","CloseIcon","useTheme","jsx","jsxs","useTheme","useState","useEffect","UploadIcon","Typography","Card","CloseIcon","Button","e","jsx","jsxs","useTheme","useState","useRef","useEffect","useCallback","Typography","Button","UploadIcon","DeleteIcon"]}