{"version":3,"sources":["../src/utils/coordinate.utils.ts","../src/index.ts"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["import type { LatLng } from 'leaflet';\r\nimport type { Point2D, GeoPoint, GeoBounds } from '../types';\r\n\r\n/**\r\n * Μετατρέπει LatLng σε Point2D για υπολογισμούς\r\n */\r\nexport function latLngToPoint2D(latlng: LatLng): Point2D {\r\n  return {\r\n    x: latlng.lng,\r\n    y: latlng.lat\r\n  };\r\n}\r\n\r\n/**\r\n * Μετατρέπει Point2D σε GeoPoint\r\n */\r\nexport function point2DToGeoPoint(point: Point2D, elevation?: number): GeoPoint {\r\n  const result: GeoPoint = {\r\n    lat: point.y,\r\n    lng: point.x\r\n  };\r\n\r\n  if (elevation !== undefined) {\r\n    result.elevation = elevation;\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\n/**\r\n * Μετατρέπει GeoPoint σε LatLng (χρησιμοποιείται με Leaflet)\r\n */\r\nexport function geoPointToLatLng(point: GeoPoint): LatLng {\r\n  // Note: Αυτό επιστρέφει ένα plain object που είναι compatible με LatLng\r\n  // Για πλήρη Leaflet LatLng object, θα χρειαστείς: L.latLng(point.lat, point.lng)\r\n  return {\r\n    lat: point.lat,\r\n    lng: point.lng\r\n  } as LatLng;\r\n}\r\n\r\n/**\r\n * Υπολογίζει το center point από array of coordinates\r\n */\r\nexport function calculateCenter(points: LatLng[]): LatLng | null {\r\n  if (points.length === 0) return null;\r\n\r\n  let totalLat = 0;\r\n  let totalLng = 0;\r\n\r\n  for (const point of points) {\r\n    totalLat += point.lat;\r\n    totalLng += point.lng;\r\n  }\r\n\r\n  return {\r\n    lat: totalLat / points.length,\r\n    lng: totalLng / points.length\r\n  } as LatLng;\r\n}\r\n\r\n/**\r\n * Υπολογίζει bounds από array of coordinates\r\n */\r\nexport function calculateBounds(points: LatLng[]): GeoBounds | null {\r\n  if (points.length === 0) return null;\r\n\r\n  const firstPoint = points[0];\r\n  if (!firstPoint) return null;\r\n\r\n  let minLat = firstPoint.lat;\r\n  let maxLat = firstPoint.lat;\r\n  let minLng = firstPoint.lng;\r\n  let maxLng = firstPoint.lng;\r\n\r\n  for (const point of points) {\r\n    if (point) {\r\n      minLat = Math.min(minLat, point.lat);\r\n      maxLat = Math.max(maxLat, point.lat);\r\n      minLng = Math.min(minLng, point.lng);\r\n      maxLng = Math.max(maxLng, point.lng);\r\n    }\r\n  }\r\n\r\n  return {\r\n    south: minLat,\r\n    north: maxLat,\r\n    west: minLng,\r\n    east: maxLng\r\n  };\r\n}\r\n\r\n/**\r\n * Ελέγχει αν ένα point είναι μέσα σε bounds\r\n */\r\nexport function isPointInBounds(point: LatLng, bounds: GeoBounds): boolean {\r\n  return (\r\n    point.lat >= bounds.south &&\r\n    point.lat <= bounds.north &&\r\n    point.lng >= bounds.west &&\r\n    point.lng <= bounds.east\r\n  );\r\n}\r\n\r\n/**\r\n * Υπολογίζει distance μεταξύ δύο points σε meters (Haversine formula)\r\n */\r\nexport function calculateDistance(point1: LatLng, point2: LatLng): number {\r\n  const R = 6371000; // Earth's radius in meters\r\n  const φ1 = (point1.lat * Math.PI) / 180;\r\n  const φ2 = (point2.lat * Math.PI) / 180;\r\n  const Δφ = ((point2.lat - point1.lat) * Math.PI) / 180;\r\n  const Δλ = ((point2.lng - point1.lng) * Math.PI) / 180;\r\n\r\n  const a =\r\n    Math.sin(Δφ / 2) * Math.sin(Δφ / 2) +\r\n    Math.cos(φ1) * Math.cos(φ2) * Math.sin(Δλ / 2) * Math.sin(Δλ / 2);\r\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n\r\n  return R * c;\r\n}\r\n\r\n/**\r\n * Υπολογίζει area ενός polygon σε square meters\r\n */\r\nexport function calculatePolygonArea(points: LatLng[]): number {\r\n  if (points.length < 3) return 0;\r\n\r\n  // Close the polygon if needed\r\n  const closedPoints = [...points];\r\n  const firstPoint = closedPoints[0];\r\n  const lastPoint = closedPoints[closedPoints.length - 1];\r\n\r\n  if (\r\n    firstPoint && lastPoint &&\r\n    (firstPoint.lat !== lastPoint.lat || firstPoint.lng !== lastPoint.lng)\r\n  ) {\r\n    closedPoints.push(firstPoint);\r\n  }\r\n\r\n  // Use shoelace formula adapted for lat/lng\r\n  let area = 0;\r\n  for (let i = 0; i < closedPoints.length - 1; i++) {\r\n    const p1 = closedPoints[i];\r\n    const p2 = closedPoints[i + 1];\r\n    if (p1 && p2) {\r\n      area += (p2.lng - p1.lng) * (p2.lat + p1.lat);\r\n    }\r\n  }\r\n\r\n  // Convert to square meters (approximate)\r\n  const earthRadius = 6371000;\r\n  const areaInSqMeters = Math.abs(area) * (Math.PI / 180) * (Math.PI / 180) * earthRadius * earthRadius / 2;\r\n\r\n  return areaInSqMeters;\r\n}","/**\r\n * @layera/geo-core\r\n *\r\n * Core types, interfaces και utilities για όλο το Layera geo ecosystem.\r\n * Αυτό το package είναι η foundation για όλα τα geo-related packages.\r\n *\r\n * Enterprise Architecture: Base Layer\r\n * Used by: @layera/geo-mapping, @layera/geo-drawing, @layera/geo-analytics\r\n */\r\n\r\n// Export all types\r\nexport * from './types';\r\n\r\n// Export all interfaces\r\nexport * from './interfaces';\r\n\r\n// Export all utilities\r\nexport * from './utils';\r\n\r\n// Package version and metadata\r\nexport const GEO_CORE_VERSION = '1.0.0';\r\nexport const GEO_CORE_NAME = '@layera/geo-core';"]}