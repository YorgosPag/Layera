{"version":3,"sources":["../src/components/LayeraProgressStepper.tsx","../src/hooks/useProgressStepper.ts"],"sourcesContent":["import React from 'react';\r\nimport {\r\n  Stepper,\r\n  Step,\r\n  StepLabel,\r\n  StepContent,\r\n  Typography,\r\n  Box,\r\n  StepButton,\r\n} from '@mui/material';\r\nimport {\r\n  CheckCircle as CheckCircleIcon,\r\n  Error as ErrorIcon,\r\n  RadioButtonUnchecked as RadioButtonUncheckedIcon\r\n} from '@mui/icons-material';\r\nimport { useLayeraTranslation } from '@layera/tolgee';\r\nimport { LayeraProgressStepperProps, StepConfig } from '../types';\r\n\r\n/**\r\n * LayeraProgressStepper - Enterprise LEGO Component\r\n * Purpose: Centralized progress indication for complex workflows\r\n * Complexity: Medium (< 25)\r\n * Lines: < 200 (Enterprise Standard)\r\n * Dependencies: ONLY @layera LEGO systems + MUI\r\n */\r\nexport const LayeraProgressStepper: React.FC<LayeraProgressStepperProps> = ({\r\n  steps,\r\n  activeStep,\r\n  orientation = 'horizontal',\r\n  alternativeLabel = false,\r\n  connector = null,\r\n  onStepClick,\r\n  className,\r\n  sx = {},\r\n}) => {\r\n  const { t } = useLayeraTranslation();\r\n\r\n  const getStepIcon = (step: StepConfig, stepIndex: number) => {\r\n    if (step.error) {\r\n      return <ErrorIcon color=\"error\" />;\r\n    }\r\n    if (step.completed || stepIndex < activeStep) {\r\n      return <CheckCircleIcon color=\"success\" />;\r\n    }\r\n    return <RadioButtonUncheckedIcon color=\"disabled\" />;\r\n  };\r\n\r\n  const getStepProps = (stepIndex: number, step: StepConfig) => {\r\n    const props: Record<string, unknown> = {};\r\n\r\n    if (step.completed || stepIndex < activeStep) {\r\n      props.completed = true;\r\n    }\r\n\r\n    if (step.error) {\r\n      props.error = true;\r\n    }\r\n\r\n    if (step.optional) {\r\n      props.optional = true;\r\n    }\r\n\r\n    return props;\r\n  };\r\n\r\n  const handleStepClick = (stepIndex: number) => {\r\n    if (onStepClick && stepIndex <= activeStep) {\r\n      onStepClick(stepIndex);\r\n    }\r\n  };\r\n\r\n  const renderStepLabel = (step: StepConfig, stepIndex: number) => {\r\n    const isClickable = onStepClick && stepIndex <= activeStep;\r\n\r\n    const labelContent = (\r\n      <Box>\r\n        <Typography\r\n          variant=\"body1\"\r\n          sx={{\r\n            fontWeight: stepIndex === activeStep ? 'bold' : 'normal',\r\n            color: step.error ? 'error.main' : 'inherit',\r\n          }}\r\n        >\r\n          {step.label}\r\n        </Typography>\r\n        {step.description && (\r\n          <Typography\r\n            variant=\"body2\"\r\n            color=\"text.secondary\"\r\n            sx={{ mt: 0.5 }}\r\n          >\r\n            {step.description}\r\n          </Typography>\r\n        )}\r\n        {step.optional && (\r\n          <Typography\r\n            variant=\"caption\"\r\n            color=\"text.secondary\"\r\n            sx={{ fontStyle: 'italic' }}\r\n          >\r\n            {t('progress.stepper.optional')}\r\n          </Typography>\r\n        )}\r\n      </Box>\r\n    );\r\n\r\n    if (isClickable) {\r\n      return (\r\n        <StepButton onClick={() => handleStepClick(stepIndex)}>\r\n          {labelContent}\r\n        </StepButton>\r\n      );\r\n    }\r\n\r\n    return labelContent;\r\n  };\r\n\r\n  return (\r\n    <Box className={className} sx={sx}>\r\n      <Stepper\r\n        activeStep={activeStep}\r\n        orientation={orientation}\r\n        alternativeLabel={alternativeLabel}\r\n        connector={connector ?? null}\r\n        sx={{\r\n          '& .MuiStepLabel-root': {\r\n            cursor: onStepClick ? 'pointer' : 'default',\r\n          },\r\n          '& .MuiStepLabel-label': {\r\n            fontSize: '0.875rem',\r\n          },\r\n          '& .MuiStepLabel-label.Mui-active': {\r\n            fontWeight: 'bold',\r\n          },\r\n          '& .MuiStepLabel-label.Mui-error': {\r\n            color: 'error.main',\r\n          },\r\n        }}\r\n      >\r\n        {steps.map((step, index) => {\r\n          const stepProps = getStepProps(index, step);\r\n\r\n          return (\r\n            <Step key={step.id} {...stepProps}>\r\n              <StepLabel\r\n                StepIconComponent={() => getStepIcon(step, index)}\r\n                error={!!step.error}\r\n                optional={\r\n                  step.optional ? (\r\n                    <Typography variant=\"caption\">\r\n                      {t('progress.stepper.optional')}\r\n                    </Typography>\r\n                  ) : undefined\r\n                }\r\n              >\r\n                {renderStepLabel(step, index)}\r\n              </StepLabel>\r\n              {orientation === 'vertical' && step.description && (\r\n                <StepContent>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    {step.description}\r\n                  </Typography>\r\n                </StepContent>\r\n              )}\r\n            </Step>\r\n          );\r\n        })}\r\n      </Stepper>\r\n    </Box>\r\n  );\r\n};","import { useState, useCallback } from 'react';\r\nimport { StepConfig } from '../types';\r\n\r\nexport interface UseProgressStepperProps {\r\n  initialSteps: StepConfig[];\r\n  initialActiveStep?: number;\r\n}\r\n\r\nexport interface UseProgressStepperReturn {\r\n  steps: StepConfig[];\r\n  activeStep: number;\r\n  isFirstStep: boolean;\r\n  isLastStep: boolean;\r\n  nextStep: () => void;\r\n  previousStep: () => void;\r\n  goToStep: (stepIndex: number) => void;\r\n  completeStep: (stepIndex: number, completed?: boolean) => void;\r\n  setStepError: (stepIndex: number, error?: boolean) => void;\r\n  resetStepper: () => void;\r\n  updateStep: (stepIndex: number, updates: Partial<StepConfig>) => void;\r\n}\r\n\r\n/**\r\n * useProgressStepper - Enterprise LEGO Hook\r\n * Purpose: State management for progress stepper workflows\r\n * Complexity: Medium (< 20)\r\n * Lines: < 150 (Enterprise Standard)\r\n * Dependencies: ONLY React hooks\r\n */\r\nexport const useProgressStepper = ({\r\n  initialSteps,\r\n  initialActiveStep = 0,\r\n}: UseProgressStepperProps): UseProgressStepperReturn => {\r\n  const [steps, setSteps] = useState<StepConfig[]>(initialSteps);\r\n  const [activeStep, setActiveStep] = useState<number>(initialActiveStep);\r\n\r\n  const isFirstStep = activeStep === 0;\r\n  const isLastStep = activeStep === steps.length - 1;\r\n\r\n  const nextStep = useCallback(() => {\r\n    if (!isLastStep) {\r\n      setActiveStep((prev) => prev + 1);\r\n    }\r\n  }, [isLastStep]);\r\n\r\n  const previousStep = useCallback(() => {\r\n    if (!isFirstStep) {\r\n      setActiveStep((prev) => prev - 1);\r\n    }\r\n  }, [isFirstStep]);\r\n\r\n  const goToStep = useCallback((stepIndex: number) => {\r\n    if (stepIndex >= 0 && stepIndex < steps.length) {\r\n      setActiveStep(stepIndex);\r\n    }\r\n  }, [steps.length]);\r\n\r\n  const completeStep = useCallback((stepIndex: number, completed = true) => {\r\n    setSteps((prev) =>\r\n      prev.map((step, index): StepConfig =>\r\n        index === stepIndex\r\n          ? { ...step, completed: !!completed, error: completed ? false : !!step.error }\r\n          : step\r\n      )\r\n    );\r\n  }, []);\r\n\r\n  const setStepError = useCallback((stepIndex: number, error = true) => {\r\n    setSteps((prev) =>\r\n      prev.map((step, index): StepConfig =>\r\n        index === stepIndex\r\n          ? { ...step, error: !!error, completed: error ? false : !!step.completed }\r\n          : step\r\n      )\r\n    );\r\n  }, []);\r\n\r\n  const resetStepper = useCallback(() => {\r\n    setActiveStep(initialActiveStep);\r\n    setSteps(\r\n      initialSteps.map((step) => ({\r\n        ...step,\r\n        completed: false,\r\n        error: false,\r\n      }))\r\n    );\r\n  }, [initialSteps, initialActiveStep]);\r\n\r\n  const updateStep = useCallback((stepIndex: number, updates: Partial<StepConfig>) => {\r\n    setSteps((prev) =>\r\n      prev.map((step, index) =>\r\n        index === stepIndex ? { ...step, ...updates } : step\r\n      )\r\n    );\r\n  }, []);\r\n\r\n  return {\r\n    steps,\r\n    activeStep,\r\n    isFirstStep,\r\n    isLastStep,\r\n    nextStep,\r\n    previousStep,\r\n    goToStep,\r\n    completeStep,\r\n    setStepError,\r\n    resetStepper,\r\n    updateStep,\r\n  };\r\n};"],"mappings":"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","names":[]}