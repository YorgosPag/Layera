{"version":3,"file":"index.js","sources":["../src/components/ErrorDetails/ErrorDetails.tsx","../src/utils/errorUtils.ts","../src/constants/errorMessages.ts","../src/constants/i18nKeys.ts","../src/components/ErrorFallback/ErrorFallback.tsx","../src/components/ErrorBoundary/ErrorBoundary.tsx"],"sourcesContent":["import React from 'react';\r\nimport { formatError } from '../../utils';\r\nimport type { ErrorDetailsProps } from '../../types';\r\nimport './ErrorDetails.css';\r\n\r\n/**\r\n * ErrorDetails - Detailed error information Œ≥ŒπŒ± debugging\r\n */\r\nexport const ErrorDetails: React.FC<ErrorDetailsProps> = ({\r\n  error,\r\n  errorInfo,\r\n  errorId,\r\n  expanded = false,\r\n  onToggle,\r\n  className = ''\r\n}) => {\r\n  const detailsClasses = [\r\n    'layera-error-details',\r\n    expanded && 'layera-error-details--expanded',\r\n    className\r\n  ].filter(Boolean).join(' ');\r\n\r\n  const copyToClipboard = async () => {\r\n    const errorReport = {\r\n      errorId,\r\n      timestamp: new Date().toISOString(),\r\n      error: {\r\n        name: error.name,\r\n        message: error.message,\r\n        stack: error.stack\r\n      },\r\n      componentStack: errorInfo.componentStack,\r\n      userAgent: navigator.userAgent,\r\n      url: window.location.href\r\n    };\r\n\r\n    try {\r\n      await navigator.clipboard.writeText(JSON.stringify(errorReport, null, 2));\r\n      // Show success message (could integrate with notification system)\r\n      console.log('Error details copied to clipboard');\r\n    } catch (err) {\r\n      console.error('Failed to copy error details:', err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={detailsClasses}>\r\n      <div className=\"layera-error-details__header\">\r\n        <h3 className=\"layera-error-details__title\">\r\n          Error Details\r\n        </h3>\r\n        <div className=\"layera-error-details__actions\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"layera-error-details__copy\"\r\n            onClick={copyToClipboard}\r\n            title=\"Copy error details\"\r\n          >\r\n            <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n              <rect x=\"9\" y=\"9\" width=\"13\" height=\"13\" rx=\"2\" ry=\"2\"/>\r\n              <path d=\"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\"/>\r\n            </svg>\r\n          </button>\r\n          {onToggle && (\r\n            <button\r\n              type=\"button\"\r\n              className=\"layera-error-details__toggle\"\r\n              onClick={onToggle}\r\n              title={expanded ? \"Collapse details\" : \"Expand details\"}\r\n            >\r\n              <svg\r\n                width=\"16\"\r\n                height=\"16\"\r\n                viewBox=\"0 0 24 24\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                strokeWidth=\"2\"\r\n                style={{\r\n                  transform: expanded ? 'rotate(180deg)' : 'rotate(0deg)',\r\n                  transition: 'transform 150ms ease'\r\n                }}\r\n              >\r\n                <polyline points=\"6,9 12,15 18,9\"/>\r\n              </svg>\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {expanded && (\r\n        <div className=\"layera-error-details__content\">\r\n          <div className=\"layera-error-details__section\">\r\n            <h4 className=\"layera-error-details__section-title\">Error Information</h4>\r\n            <div className=\"layera-error-details__field\">\r\n              <span className=\"layera-error-details__label\">ID:</span>\r\n              <code className=\"layera-error-details__value\">{errorId}</code>\r\n            </div>\r\n            <div className=\"layera-error-details__field\">\r\n              <span className=\"layera-error-details__label\">Type:</span>\r\n              <code className=\"layera-error-details__value\">{error.name}</code>\r\n            </div>\r\n            <div className=\"layera-error-details__field\">\r\n              <span className=\"layera-error-details__label\">Message:</span>\r\n              <code className=\"layera-error-details__value\">{error.message}</code>\r\n            </div>\r\n            <div className=\"layera-error-details__field\">\r\n              <span className=\"layera-error-details__label\">Timestamp:</span>\r\n              <code className=\"layera-error-details__value\">\r\n                {new Date().toISOString()}\r\n              </code>\r\n            </div>\r\n          </div>\r\n\r\n          {error.stack && (\r\n            <div className=\"layera-error-details__section\">\r\n              <h4 className=\"layera-error-details__section-title\">Stack Trace</h4>\r\n              <pre className=\"layera-error-details__stack\">\r\n                <code>{error.stack}</code>\r\n              </pre>\r\n            </div>\r\n          )}\r\n\r\n          {errorInfo.componentStack && (\r\n            <div className=\"layera-error-details__section\">\r\n              <h4 className=\"layera-error-details__section-title\">Component Stack</h4>\r\n              <pre className=\"layera-error-details__stack\">\r\n                <code>{errorInfo.componentStack}</code>\r\n              </pre>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"layera-error-details__section\">\r\n            <h4 className=\"layera-error-details__section-title\">Environment</h4>\r\n            <div className=\"layera-error-details__field\">\r\n              <span className=\"layera-error-details__label\">URL:</span>\r\n              <code className=\"layera-error-details__value\">{window.location.href}</code>\r\n            </div>\r\n            <div className=\"layera-error-details__field\">\r\n              <span className=\"layera-error-details__label\">User Agent:</span>\r\n              <code className=\"layera-error-details__value\">{navigator.userAgent}</code>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};","import type { ErrorInfo } from 'react';\r\nimport type { ErrorReportData } from '../types';\r\n\r\n/**\r\n * Error utilities Œ≥ŒπŒ± œÑŒø Error Boundary System\r\n */\r\n\r\nexport const generateErrorId = (): string => {\r\n  return `error-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\r\n};\r\n\r\nexport const formatError = (error: Error): string => {\r\n  const { name, message, stack } = error;\r\n  return `${name}: ${message}${stack ? `\\n${stack}` : ''}`;\r\n};\r\n\r\nexport const getErrorSeverity = (error: Error): 'low' | 'medium' | 'high' | 'critical' => {\r\n  const errorName = error.name.toLowerCase();\r\n  const errorMessage = error.message.toLowerCase();\r\n\r\n  // Critical errors\r\n  if (\r\n    errorName.includes('security') ||\r\n    errorName.includes('permission') ||\r\n    errorMessage.includes('unauthorized') ||\r\n    errorMessage.includes('forbidden')\r\n  ) {\r\n    return 'critical';\r\n  }\r\n\r\n  // High severity errors\r\n  if (\r\n    errorName.includes('network') ||\r\n    errorName.includes('connection') ||\r\n    errorName.includes('timeout') ||\r\n    errorMessage.includes('failed to fetch') ||\r\n    errorMessage.includes('network error')\r\n  ) {\r\n    return 'high';\r\n  }\r\n\r\n  // Medium severity errors\r\n  if (\r\n    errorName.includes('type') ||\r\n    errorName.includes('reference') ||\r\n    errorName.includes('syntax') ||\r\n    errorMessage.includes('undefined') ||\r\n    errorMessage.includes('null')\r\n  ) {\r\n    return 'medium';\r\n  }\r\n\r\n  // Default to low severity\r\n  return 'low';\r\n};\r\n\r\nexport const createErrorReport = (\r\n  error: Error,\r\n  errorInfo: ErrorInfo,\r\n  errorId: string,\r\n  additionalData?: Record<string, unknown>\r\n): ErrorReportData => {\r\n  return {\r\n    error: {\r\n      name: error.name,\r\n      message: error.message,\r\n      stack: error.stack\r\n    },\r\n    errorInfo: {\r\n      componentStack: errorInfo.componentStack || ''\r\n    },\r\n    errorId,\r\n    timestamp: Date.now(),\r\n    userAgent: navigator.userAgent,\r\n    url: window.location.href,\r\n    additionalData\r\n  };\r\n};\r\n\r\nexport const sanitizeErrorForLogging = (error: Error): Record<string, unknown> => {\r\n  return {\r\n    name: error.name,\r\n    message: error.message,\r\n    stack: error.stack,\r\n    cause: 'cause' in error ? (error as { cause: unknown }).cause : undefined\r\n  };\r\n};\r\n\r\nexport const isNetworkError = (error: Error): boolean => {\r\n  return (\r\n    error.name === 'NetworkError' ||\r\n    error.message.includes('Failed to fetch') ||\r\n    error.message.includes('Network request failed') ||\r\n    error.message.includes('ERR_NETWORK') ||\r\n    error.message.includes('ERR_INTERNET_DISCONNECTED')\r\n  );\r\n};\r\n\r\nexport const isChunkError = (error: Error): boolean => {\r\n  return (\r\n    error.name === 'ChunkLoadError' ||\r\n    error.message.includes('Loading chunk') ||\r\n    error.message.includes('Loading CSS chunk')\r\n  );\r\n};\r\n\r\nexport const isQuotaExceededError = (error: Error): boolean => {\r\n  return (\r\n    error.name === 'QuotaExceededError' ||\r\n    error.message.includes('QuotaExceededError') ||\r\n    error.message.includes('storage quota')\r\n  );\r\n};","/**\r\n * Error Messages & Constants Œ≥ŒπŒ± œÑŒø Error Boundary System\r\n */\r\n\r\nexport const ERROR_MESSAGES = {\r\n  // Network errors\r\n  NETWORK_TITLE: 'Œ£œÜŒ¨ŒªŒºŒ± ŒîŒπŒ∫œÑœçŒøœÖ',\r\n  NETWORK_MESSAGE: 'ŒîŒµŒΩ ŒºœÄŒøœÅŒøœçŒºŒµ ŒΩŒ± œÉœÖŒΩŒ¥ŒµŒ∏ŒøœçŒºŒµ œÉœÑŒø Œ¥ŒπŒ±Œ¥ŒØŒ∫œÑœÖŒø. Œ†Œ±œÅŒ±Œ∫Œ±Œªœé ŒµŒªŒ≠Œ≥ŒæœÑŒµ œÑŒ∑ œÉœçŒΩŒ¥ŒµœÉŒÆ œÉŒ±œÇ.',\r\n  NETWORK_RETRY: 'ŒïœÄŒ±ŒΩŒ¨ŒªŒ∑œàŒ∑ œÉœçŒΩŒ¥ŒµœÉŒ∑œÇ',\r\n\r\n  // Chunk errors\r\n  CHUNK_TITLE: 'Œ£œÜŒ¨ŒªŒºŒ± Œ¶œåœÅœÑœâœÉŒ∑œÇ',\r\n  CHUNK_MESSAGE: 'Œ•œÄŒÆœÅŒæŒµ œÄœÅœåŒ≤ŒªŒ∑ŒºŒ± Œ∫Œ±œÑŒ¨ œÑŒ∑ œÜœåœÅœÑœâœÉŒ∑ œÑœâŒΩ Œ±œÅœáŒµŒØœâŒΩ. Œ†Œ±œÅŒ±Œ∫Œ±Œªœé Œ±ŒΩŒ±ŒΩŒµœéœÉœÑŒµ œÑŒ∑ œÉŒµŒªŒØŒ¥Œ±.',\r\n  CHUNK_RETRY: 'ŒëŒΩŒ±ŒΩŒ≠œâœÉŒ∑ œÉŒµŒªŒØŒ¥Œ±œÇ',\r\n\r\n  // Page level errors\r\n  PAGE_TITLE: 'Œ£œÜŒ¨ŒªŒºŒ± Œ£ŒµŒªŒØŒ¥Œ±œÇ',\r\n  PAGE_MESSAGE: 'Œó œÉŒµŒªŒØŒ¥Œ± Œ±ŒΩœÑŒπŒºŒµœÑœéœÄŒπœÉŒµ Œ≠ŒΩŒ± Œ±œÄœÅŒøœÉŒ¥œåŒ∫Œ∑œÑŒø œÉœÜŒ¨ŒªŒºŒ± Œ∫Œ±Œπ Œ¥ŒµŒΩ ŒºœÄŒøœÅŒµŒØ ŒΩŒ± œÜŒøœÅœÑœâŒ∏ŒµŒØ.',\r\n\r\n  // Section level errors\r\n  SECTION_TITLE: 'Œ£œÜŒ¨ŒªŒºŒ± ŒïŒΩœåœÑŒ∑œÑŒ±œÇ',\r\n  SECTION_MESSAGE: 'ŒëœÖœÑŒÆ Œ∑ ŒµŒΩœåœÑŒ∑œÑŒ± Œ±ŒΩœÑŒπŒºŒµœÑœéœÄŒπœÉŒµ Œ≠ŒΩŒ± œÉœÜŒ¨ŒªŒºŒ± Œ∫Œ±Œπ Œ¥ŒµŒΩ ŒºœÄŒøœÅŒµŒØ ŒΩŒ± ŒµŒºœÜŒ±ŒΩŒπœÉœÑŒµŒØ.',\r\n\r\n  // Component level errors\r\n  COMPONENT_TITLE: 'ŒöŒ¨œÑŒπ œÄŒÆŒ≥Œµ œÉœÑœÅŒ±Œ≤Œ¨',\r\n  COMPONENT_MESSAGE: 'ŒëœÖœÑœå œÑŒø œÉœÑŒøŒπœáŒµŒØŒø Œ±ŒΩœÑŒπŒºŒµœÑœéœÄŒπœÉŒµ Œ≠ŒΩŒ± œÉœÜŒ¨ŒªŒºŒ±. Œ†Œ±œÅŒ±Œ∫Œ±Œªœé Œ¥ŒøŒ∫ŒπŒºŒ¨œÉœÑŒµ ŒæŒ±ŒΩŒ¨.',\r\n\r\n  // Generic retry\r\n  GENERIC_RETRY: 'ŒîŒøŒ∫ŒπŒºŒ¨œÉœÑŒµ ŒæŒ±ŒΩŒ¨',\r\n\r\n  // Development\r\n  SHOW_DETAILS: 'ŒïŒºœÜŒ¨ŒΩŒπœÉŒ∑ ŒªŒµœÄœÑŒøŒºŒµœÅŒµŒπœéŒΩ',\r\n  HIDE_DETAILS: 'ŒëœÄœåŒ∫œÅœÖœàŒ∑ ŒªŒµœÄœÑŒøŒºŒµœÅŒµŒπœéŒΩ'\r\n} as const;\r\n\r\nexport const ERROR_ICON_SIZES = {\r\n  small: 24,\r\n  medium: 32,\r\n  large: 48,\r\n  xl: 64\r\n} as const;\r\n\r\nexport const ERROR_ANIMATION_DURATIONS = {\r\n  fast: 150,\r\n  normal: 300,\r\n  slow: 500\r\n} as const;","/**\r\n * i18n Keys Œ≥ŒπŒ± œÑŒø Error Boundary System\r\n */\r\n\r\nexport const ERROR_I18N_KEYS = {\r\n  // Network errors\r\n  NETWORK_TITLE: 'errors.networkError',\r\n  NETWORK_MESSAGE: 'errors.networkError',\r\n  NETWORK_RETRY: 'notifications.retry',\r\n\r\n  // Chunk errors\r\n  CHUNK_TITLE: 'notifications.loading',\r\n  CHUNK_MESSAGE: 'errors.unknownError',\r\n  CHUNK_RETRY: 'notifications.tryAgain',\r\n\r\n  // Page level errors\r\n  PAGE_TITLE: 'common.error',\r\n  PAGE_MESSAGE: 'errors.unknownError',\r\n\r\n  // Section level errors\r\n  SECTION_TITLE: 'common.error',\r\n  SECTION_MESSAGE: 'errors.unknownError',\r\n\r\n  // Component level errors\r\n  COMPONENT_TITLE: 'notifications.somethingWentWrong',\r\n  COMPONENT_MESSAGE: 'errors.unknownError',\r\n\r\n  // Generic retry\r\n  GENERIC_RETRY: 'notifications.tryAgain',\r\n\r\n  // Development\r\n  SHOW_DETAILS: 'actions.manage',\r\n  HIDE_DETAILS: 'actions.cancel'\r\n} as const;","import React, { useState } from 'react';\r\nimport { ErrorDetails } from '../ErrorDetails';\r\nimport { getErrorSeverity, isNetworkError, isChunkError } from '../../utils';\r\nimport { ERROR_MESSAGES, ERROR_ICON_SIZES } from '../../constants';\r\nimport type { ErrorFallbackProps } from '../../types';\r\nimport './ErrorFallback.css';\r\n\r\n/**\r\n * ErrorFallback - Default fallback UI Œ≥ŒπŒ± errors\r\n */\r\nexport const ErrorFallback: React.FC<ErrorFallbackProps> = ({\r\n  error,\r\n  errorInfo,\r\n  retry,\r\n  level = 'component',\r\n  className = ''\r\n}) => {\r\n  const [showDetails, setShowDetails] = useState(false);\r\n\r\n  const severity = getErrorSeverity(error);\r\n  const isNetwork = isNetworkError(error);\r\n  const isChunk = isChunkError(error);\r\n\r\n  const getErrorIcon = () => {\r\n    if (isNetwork) {\r\n      return (\r\n        <svg width=\"48\" height=\"48\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n          <circle cx=\"12\" cy=\"12\" r=\"3\"/>\r\n          <path d=\"M12 1v6m0 6v6\"/>\r\n          <path d=\"m21 12-6-3-6 3-6-3\"/>\r\n        </svg>\r\n      );\r\n    }\r\n\r\n    if (isChunk) {\r\n      return (\r\n        <svg width=\"48\" height=\"48\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n          <path d=\"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z\"/>\r\n          <polyline points=\"14,2 14,8 20,8\"/>\r\n          <line x1=\"16\" y1=\"13\" x2=\"8\" y2=\"13\"/>\r\n          <line x1=\"16\" y1=\"17\" x2=\"8\" y2=\"17\"/>\r\n          <polyline points=\"10,9 9,9 8,9\"/>\r\n        </svg>\r\n      );\r\n    }\r\n\r\n    switch (severity) {\r\n      case 'critical':\r\n        return (\r\n          <svg width=\"48\" height=\"48\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n            <polygon points=\"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2\"/>\r\n            <line x1=\"15\" y1=\"9\" x2=\"9\" y2=\"15\"/>\r\n            <line x1=\"9\" y1=\"9\" x2=\"15\" y2=\"15\"/>\r\n          </svg>\r\n        );\r\n      case 'high':\r\n        return (\r\n          <svg width=\"48\" height=\"48\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n            <path d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\"/>\r\n          </svg>\r\n        );\r\n      default:\r\n        return (\r\n          <svg width=\"48\" height=\"48\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\r\n            <circle cx=\"12\" cy=\"12\" r=\"10\"/>\r\n            <line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"12\"/>\r\n            <line x1=\"12\" y1=\"16\" x2=\"12.01\" y2=\"16\"/>\r\n          </svg>\r\n        );\r\n    }\r\n  };\r\n\r\n  const getErrorTitle = () => {\r\n    if (isNetwork) return ERROR_MESSAGES.NETWORK_TITLE;\r\n    if (isChunk) return ERROR_MESSAGES.CHUNK_TITLE;\r\n\r\n    switch (level) {\r\n      case 'page':\r\n        return ERROR_MESSAGES.PAGE_TITLE;\r\n      case 'section':\r\n        return ERROR_MESSAGES.SECTION_TITLE;\r\n      default:\r\n        return ERROR_MESSAGES.COMPONENT_TITLE;\r\n    }\r\n  };\r\n\r\n  const getErrorMessage = () => {\r\n    if (isNetwork) {\r\n      return ERROR_MESSAGES.NETWORK_MESSAGE;\r\n    }\r\n\r\n    if (isChunk) {\r\n      return ERROR_MESSAGES.CHUNK_MESSAGE;\r\n    }\r\n\r\n    switch (level) {\r\n      case 'page':\r\n        return ERROR_MESSAGES.PAGE_MESSAGE;\r\n      case 'section':\r\n        return ERROR_MESSAGES.SECTION_MESSAGE;\r\n      default:\r\n        return ERROR_MESSAGES.COMPONENT_MESSAGE;\r\n    }\r\n  };\r\n\r\n  const getRetryText = () => {\r\n    if (isNetwork) return ERROR_MESSAGES.NETWORK_RETRY;\r\n    if (isChunk) return ERROR_MESSAGES.CHUNK_RETRY;\r\n    return ERROR_MESSAGES.GENERIC_RETRY;\r\n  };\r\n\r\n  const handleRetry = () => {\r\n    if (isChunk) {\r\n      window.location.reload();\r\n    } else {\r\n      retry();\r\n    }\r\n  };\r\n\r\n  const fallbackClasses = [\r\n    'layera-error-fallback',\r\n    `layera-error-fallback--${level}`,\r\n    `layera-error-fallback--${severity}`,\r\n    isNetwork && 'layera-error-fallback--network',\r\n    isChunk && 'layera-error-fallback--chunk',\r\n    className\r\n  ].filter(Boolean).join(' ');\r\n\r\n  return (\r\n    <div className={fallbackClasses} role=\"alert\">\r\n      <div className=\"layera-error-fallback__content\">\r\n        <div className=\"layera-error-fallback__icon\">\r\n          {getErrorIcon()}\r\n        </div>\r\n\r\n        <div className=\"layera-error-fallback__text\">\r\n          <h2 className=\"layera-error-fallback__title\">\r\n            {getErrorTitle()}\r\n          </h2>\r\n          <p className=\"layera-error-fallback__message\">\r\n            {getErrorMessage()}\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"layera-error-fallback__actions\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"layera-error-fallback__retry\"\r\n            onClick={handleRetry}\r\n          >\r\n            {getRetryText()}\r\n          </button>\r\n\r\n          {process.env.NODE_ENV === 'development' && (\r\n            <button\r\n              type=\"button\"\r\n              className=\"layera-error-fallback__details-toggle\"\r\n              onClick={() => setShowDetails(!showDetails)}\r\n            >\r\n              {showDetails ? ERROR_MESSAGES.HIDE_DETAILS : ERROR_MESSAGES.SHOW_DETAILS}\r\n            </button>\r\n          )}\r\n        </div>\r\n\r\n        {showDetails && (\r\n          <ErrorDetails\r\n            error={error}\r\n            errorInfo={errorInfo}\r\n            errorId={`error-${Date.now()}`}\r\n            expanded={true}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};","import React, { Component, ReactNode } from 'react';\r\nimport type { ErrorInfo } from 'react';\r\nimport { ErrorFallback } from '../ErrorFallback';\r\nimport { generateErrorId } from '../../utils';\r\nimport type { ErrorBoundaryProps, ErrorBoundaryState } from '../../types';\r\n\r\n/**\r\n * ErrorBoundary - Main error boundary component\r\n */\r\nexport class ErrorBoundary extends Component<ErrorBoundaryProps, ErrorBoundaryState> {\r\n  refs: Record<string, React.ReactInstance> = {};\r\n  private resetTimeoutId: number | null = null;\r\n\r\n  constructor(props: ErrorBoundaryProps) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      hasError: false,\r\n      error: null,\r\n      errorInfo: null,\r\n      errorId: null\r\n    };\r\n  }\r\n\r\n  static getDerivedStateFromError(error: Error): Partial<ErrorBoundaryState> {\r\n    return {\r\n      hasError: true,\r\n      error,\r\n      errorId: generateErrorId()\r\n    };\r\n  }\r\n\r\n  componentDidCatch(error: Error, errorInfo: ErrorInfo): void {\r\n    this.setState({\r\n      errorInfo\r\n    });\r\n\r\n    // Call onError callback if provided\r\n    if (this.props.onError) {\r\n      this.props.onError(error, errorInfo);\r\n    }\r\n\r\n    // Log error to console in development\r\n    if (process.env.NODE_ENV === 'development') {\r\n      console.group('üõ°Ô∏è ErrorBoundary caught an error');\r\n      console.error('Error:', error);\r\n      console.error('Error Info:', errorInfo);\r\n      console.error('Error ID:', this.state.errorId);\r\n      console.groupEnd();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps: ErrorBoundaryProps): void {\r\n    const { resetKeys, resetOnPropsChange } = this.props;\r\n    const { hasError } = this.state;\r\n\r\n    // Reset error state if resetKeys changed\r\n    if (hasError && resetKeys) {\r\n      const hasResetKeyChanged = resetKeys.some(\r\n        (key, index) => prevProps.resetKeys?.[index] !== key\r\n      );\r\n\r\n      if (hasResetKeyChanged) {\r\n        this.resetErrorBoundary();\r\n      }\r\n    }\r\n\r\n    // Reset error state if any props changed and resetOnPropsChange is true\r\n    if (hasError && resetOnPropsChange) {\r\n      const propsChanged = Object.keys(this.props).some(\r\n        key => this.props[key as keyof ErrorBoundaryProps] !== prevProps[key as keyof ErrorBoundaryProps]\r\n      );\r\n\r\n      if (propsChanged) {\r\n        this.resetErrorBoundary();\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillUnmount(): void {\r\n    if (this.resetTimeoutId) {\r\n      clearTimeout(this.resetTimeoutId);\r\n    }\r\n  }\r\n\r\n  resetErrorBoundary = (): void => {\r\n    if (this.props.onRetry) {\r\n      this.props.onRetry();\r\n    }\r\n\r\n    this.setState({\r\n      hasError: false,\r\n      error: null,\r\n      errorInfo: null,\r\n      errorId: null\r\n    });\r\n  };\r\n\r\n  render(): ReactNode {\r\n    const { hasError, error, errorInfo } = this.state;\r\n    const { children, fallback, level = 'component', isolate = false, className = '' } = this.props;\r\n\r\n    if (hasError && error && errorInfo) {\r\n      // Custom fallback component/function\r\n      if (fallback) {\r\n        if (typeof fallback === 'function') {\r\n          return fallback(error, errorInfo, this.resetErrorBoundary);\r\n        }\r\n        return fallback;\r\n      }\r\n\r\n      // Default fallback\r\n      return (\r\n        <ErrorFallback\r\n          error={error}\r\n          errorInfo={errorInfo}\r\n          retry={this.resetErrorBoundary}\r\n          level={level}\r\n          className={className}\r\n        />\r\n      );\r\n    }\r\n\r\n    // Isolate children in error boundary\r\n    if (isolate) {\r\n      return (\r\n        <div className=\"layera-error-boundary-isolate\">\r\n          {children}\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return children;\r\n  }\r\n}"],"names":[],"mappings":"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"}