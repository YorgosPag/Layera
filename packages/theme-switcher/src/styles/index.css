/* Layera Theme Switcher - Enterprise Design System */

/* Import font για consistency με το typography system */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

:root {
  /* Global Layera Theme Variables - Enterprise Standards */

  /* Application Colors - Light Theme */
  --la-bg-primary: var(--la-color-white);
  --la-bg-secondary: var(--la-color-slate-50);
  --la-bg-tertiary: var(--la-color-slate-100);
  --la-bg-success: var(--la-color-emerald-500);
  --la-bg-success-light: var(--la-color-emerald-100);
  --la-bg-info: var(--la-color-blue-500);
  --la-bg-warning: var(--la-color-amber-500);
  --la-bg-danger: var(--la-color-red-500);
  --la-text-primary: var(--la-color-slate-800);
  --la-text-secondary: var(--la-color-slate-500);
  --la-text-tertiary: var(--la-color-slate-400);
  --la-text-on-dark: var(--la-color-white);
  --la-text-on-success: var(--la-color-white);
  --la-text-on-info: var(--la-color-white);
  --la-border-primary: var(--la-color-slate-200);
  --la-border-secondary: var(--la-color-slate-300);
  --la-border-tertiary: var(--la-color-slate-400);

  /* Theme Switcher Design Tokens - Enterprise Standards */

  /* Base Properties */
  --la-theme-switcher-font-family: system-ui, -apple-system, blinkmacsystemfont, 'Segoe UI', roboto, sans-serif;
  --la-theme-switcher-font-weight: 500;
  --la-theme-switcher-border-radius: var(--la-radius-md);
  --la-theme-switcher-transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);

  /* Sizes - WCAG 2.1 Compliant */
  --la-theme-switcher-sm-size: var(--la-btn-sm-height);
  --la-theme-switcher-md-size: var(--la-btn-md-height); /* WCAG compliant */
  --la-theme-switcher-lg-size: var(--la-btn-lg-height);
  --la-theme-switcher-sm-icon: var(--la-space-4);
  --la-theme-switcher-md-icon: var(--la-space-5);
  --la-theme-switcher-lg-icon: var(--la-space-5);

  /* Light Theme Colors */
  --la-theme-switcher-bg: var(--la-color-slate-50);
  --la-theme-switcher-color: var(--la-color-slate-700);
  --la-theme-switcher-border: var(--la-color-slate-200);
  --la-theme-switcher-hover-bg: var(--la-color-slate-100);
  --la-theme-switcher-hover-color: var(--la-color-slate-800);
  --la-theme-switcher-hover-border: var(--la-color-slate-300);
  --la-theme-switcher-active-bg: var(--la-color-slate-200);
  --la-theme-switcher-focus-ring: var(--la-focus-ring);

  /* Dropdown specific */
  --la-theme-switcher-dropdown-bg: var(--la-color-white);
  --la-theme-switcher-dropdown-shadow: var(--la-shadow-lg);
  --la-theme-switcher-dropdown-border: var(--la-color-gray-200);
}

/* Dark Theme Support */
@media (prefers-color-scheme: dark) {
  :root {
    --la-theme-switcher-bg: var(--la-color-slate-800);
    --la-theme-switcher-color: var(--la-color-slate-100);
    --la-theme-switcher-border: var(--la-color-slate-700);
    --la-theme-switcher-hover-bg: var(--la-color-slate-700);
    --la-theme-switcher-hover-color: var(--la-color-slate-50);
    --la-theme-switcher-hover-border: var(--la-color-slate-600);
    --la-theme-switcher-active-bg: var(--la-color-slate-600);
    --la-theme-switcher-dropdown-bg: var(--la-color-slate-800);
    --la-theme-switcher-dropdown-shadow: var(--la-shadow-lg-dark);
    --la-theme-switcher-dropdown-border: var(--la-color-gray-600);
  }
}

/* Manual Dark Theme (με class) */
.dark {
  /* Global Application Colors - Dark Theme */
  --la-bg-primary: var(--la-color-slate-950);
  --la-bg-secondary: var(--la-color-slate-800);
  --la-bg-tertiary: var(--la-color-slate-700);
  --la-bg-success: var(--la-color-emerald-600);
  --la-bg-success-light: var(--la-color-emerald-900);
  --la-bg-info: var(--la-color-blue-600);
  --la-bg-warning: var(--la-color-amber-600);
  --la-bg-danger: var(--la-color-red-600);
  --la-text-primary: var(--la-color-slate-100);
  --la-text-secondary: var(--la-color-slate-300);
  --la-text-tertiary: var(--la-color-slate-400);
  --la-text-on-dark: var(--la-color-white);
  --la-text-on-success: var(--la-color-white);
  --la-text-on-info: var(--la-color-white);
  --la-border-primary: var(--la-color-slate-700);
  --la-border-secondary: var(--la-color-slate-600);
  --la-border-tertiary: var(--la-color-slate-500);

  /* Theme Switcher Colors */
  --la-theme-switcher-bg: var(--la-color-slate-800);
  --la-theme-switcher-color: var(--la-color-slate-100);
  --la-theme-switcher-border: var(--la-color-slate-700);
  --la-theme-switcher-hover-bg: var(--la-color-slate-700);
  --la-theme-switcher-hover-color: var(--la-color-slate-50);
  --la-theme-switcher-hover-border: var(--la-color-slate-600);
  --la-theme-switcher-active-bg: var(--la-color-slate-600);
  --la-theme-switcher-dropdown-bg: var(--la-color-slate-800);
  --la-theme-switcher-dropdown-shadow: var(--la-shadow-lg-dark);
  --la-theme-switcher-dropdown-border: var(--la-color-gray-600);
}

/* Base Theme Switcher Styles */
.layera-theme-switcher {
  font-family: var(--la-font-family-sans);
  font-weight: var(--la-theme-switcher-font-weight);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: var(--la-cursor-pointer);
  user-select: var(--la-user-select-none);
  border: 0.063rem solid var(--la-theme-switcher-border);
  border-radius: var(--la-radius-md);
  background-color: var(--la-theme-switcher-bg);
  color: var(--la-theme-switcher-color);
  transition: var(--la-theme-switcher-transition);
  position: relative;

  /* Accessibility */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  &:hover:not(:disabled) {
    background-color: var(--la-theme-switcher-hover-bg);
    color: var(--la-theme-switcher-hover-color);
    border-color: var(--la-theme-switcher-hover-border);
  }

  &:active:not(:disabled) {
    background-color: var(--la-theme-switcher-active-bg);
  }

  &:focus-visible {
    outline: none;
    box-shadow: var(--la-shadow-focus);
  }

  &:disabled {
    opacity: 0.6;
    cursor: var(--la-cursor-not-allowed);
  }
}

/* Size Variants */
.layera-theme-switcher-sm {
  width: var(--la-theme-switcher-sm-size);
  height: var(--la-theme-switcher-sm-size);

  .layera-theme-switcher-icon {
    width: var(--la-theme-switcher-sm-icon);
    height: var(--la-theme-switcher-sm-icon);
  }
}

.layera-theme-switcher-md {
  width: var(--la-theme-switcher-md-size);
  height: var(--la-theme-switcher-md-size);

  .layera-theme-switcher-icon {
    width: var(--la-theme-switcher-md-icon);
    height: var(--la-theme-switcher-md-icon);
  }
}

.layera-theme-switcher-lg {
  width: var(--la-theme-switcher-lg-size);
  height: var(--la-theme-switcher-lg-size);

  .layera-theme-switcher-icon {
    width: var(--la-theme-switcher-lg-icon);
    height: var(--la-theme-switcher-lg-icon);
  }
}

/* Icon Variant (για headers) */
.layera-theme-switcher-icon-variant {
  aspect-ratio: 1;
  padding: var(--la-size-0);
}

.layera-theme-switcher-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: var(--la-flex-shrink-0);
}

/* Button Variant */
.layera-theme-switcher-button {
  width: auto;
  padding: var(--la-space-2) var(--la-space-4);
  gap: var(--la-space-2);
}

.layera-theme-switcher-label {
  font-size: var(--la-font-size-sm);
  line-height: var(--la-line-height-tight);
  white-space: nowrap;
}

/* Dropdown Variant */
.layera-theme-switcher-dropdown-container {
  position: relative;
  display: inline-block;
}

.layera-theme-switcher-trigger {
  width: auto;
  padding: var(--la-space-3) var(--la-space-4);
  gap: var(--la-space-2);
  background-color: var(--la-theme-switcher-bg);
  border: 0.063rem solid var(--la-theme-switcher-border);
  border-radius: var(--la-radius-md);
  cursor: var(--la-cursor-pointer);
  display: flex;
  align-items: center;
  font-family: var(--la-font-family-sans);
  font-weight: var(--la-theme-switcher-font-weight);
  color: var(--la-theme-switcher-color);
  transition: var(--la-theme-switcher-transition);

  &:hover {
    background-color: var(--la-theme-switcher-hover-bg);
    border-color: var(--la-theme-switcher-hover-border);
  }

  &:focus-visible {
    outline: none;
    box-shadow: var(--la-shadow-focus);
  }
}

.layera-theme-switcher-arrow {
  font-size: var(--la-text-xs);
  margin-left: var(--la-space-1);
  transition: transform 0.2s;
}

.layera-theme-switcher-dropdown-container.layera-theme-switcher-open .layera-theme-switcher-arrow {
  transform: rotate(180deg);
}

.layera-theme-switcher-dropdown {
  position: absolute;
  top: 100%;
  margin-top: var(--la-space-1);
  background-color: var(--la-theme-switcher-dropdown-bg);
  border: var(--la-border-width) solid var(--la-theme-switcher-dropdown-border);
  border-radius: var(--la-radius-md);
  box-shadow: var(--la-theme-switcher-dropdown-shadow);
  z-index: var(--la-z-dropdown);
  min-width: 100%;
  opacity: 1;
  visibility: visible;
  transform: translateY(0);
  transition: var(--la-theme-switcher-transition);
}

.layera-theme-switcher-dropdown-left {
  left: var(--la-left-0);
}

.layera-theme-switcher-dropdown-right {
  right: var(--la-right-0);
}

.layera-theme-switcher-dropdown-center {
  left: var(--la-left-0);
  right: var(--la-right-0);
  margin-left: auto;
  margin-right: auto;
  width: fit-content;
}

.layera-theme-switcher-option {
  width: 100%;
  display: flex;
  align-items: center;
  gap: var(--la-space-3);
  padding: var(--la-space-3) var(--la-space-4);
  background: var(--la-bg-transparent);
  border: none;
  text-align: left;
  cursor: var(--la-cursor-pointer);
  font-family: var(--la-font-family-sans);
  font-size: var(--la-font-size-sm);
  color: var(--la-theme-switcher-color);
  transition: var(--la-theme-switcher-transition);

  &:hover {
    background-color: var(--la-theme-switcher-hover-bg);
  }

  &:focus-visible {
    outline: none;
    background-color: var(--la-theme-switcher-hover-bg);
  }

  &:first-child {
    border-top-left-radius: calc(var(--la-theme-switcher-border-radius) - var(--la-border-width));
    border-top-right-radius: calc(var(--la-theme-switcher-border-radius) - var(--la-border-width));
  }

  &:last-child {
    border-bottom-left-radius: calc(var(--la-theme-switcher-border-radius) - var(--la-border-width));
    border-bottom-right-radius: calc(var(--la-theme-switcher-border-radius) - var(--la-border-width));
  }
}

.layera-theme-switcher-option-active {
  background-color: var(--la-theme-switcher-active-bg);
  font-weight: 600;
}

.layera-theme-switcher-option-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: var(--la-size-4);
  height: var(--la-size-4);
  flex-shrink: var(--la-flex-shrink-0);
}

.layera-theme-switcher-option-label {
  flex: var(--la-flex-1);
  white-space: nowrap;
}

/* Responsive Design */
@media (width <= 640px) {
  .layera-theme-switcher-sm,
  .layera-theme-switcher-md {
    width: var(--la-theme-switcher-md-size);
    height: var(--la-theme-switcher-md-size);
  }

  .layera-theme-switcher-dropdown {
    min-width: var(--la-size-38);
  }
}

/* High Contrast Mode Support */
@media (prefers-contrast: more) {
  .layera-theme-switcher {
    border-width: 0.125rem;
  }

  .layera-theme-switcher:focus-visible {
    outline: 0.1875rem solid;
    outline-offset: var(--la-space-0-5);
  }
}