{"version":3,"sources":["../src/hooks/useSnapEngine.ts","../src/components/SnapIndicator.tsx","../src/components/SnapSettingsPanel.tsx","../src/components/SnapCanvas.tsx","../src/index.ts"],"names":["useSnapEngine","useLayeraTranslation","useTheme","useNotification","useState","useCallback","jsx","jsxs","Icon","useRef","useEffect","tolerance","Fragment"],"mappings":"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","file":"index.mjs","sourcesContent":["/**\n * ü™ù useSnapEngine Hook\n * React hook Œ≥ŒπŒ± integration ŒºŒµ SnapEngine\n * ŒßœÅŒ∑œÉŒπŒºŒøœÄŒøŒπŒµŒØ existing LEGO systems Œ≥ŒπŒ± state management\n */\n\nimport { useEffect, useRef, useState, useCallback, useMemo } from 'react';\n\n// Import Œ±œÄœå @layera/snap-engine - ŒúŒóŒù Œ±ŒΩŒ±Œ¥Œ∑ŒºŒπŒøœÖœÅŒ≥ŒÆœÉŒµŒπœÇ\nimport {\n  SnapEngine,\n  type SnapResult,\n  type SnapConfiguration,\n  type Point2D,\n  type GeometryEntity,\n  type SnapPerformanceMetrics\n} from '@layera/snap-engine';\n\n// Import Œ±œÄœå existing LEGO systems - ŒúŒóŒù Œ±ŒΩŒ±Œ¥Œ∑ŒºŒπŒøœÖœÅŒ≥ŒÆœÉŒµŒπœÇ\nimport { useNotification } from '@layera/notifications';\nimport { useLayeraTranslation } from '@layera/i18n';\nimport { SNAP_CONSTANTS } from '@layera/constants';\n\n// ========================================\n// üéØ HOOK INTERFACE\n// ========================================\n\nexport interface UseSnapEngineOptions {\n  enabled?: boolean;\n  tolerance?: number;\n  enabledTypes?: Set<string>;\n  debugMode?: boolean;\n  onSnapFound?: (result: SnapResult) => void;\n  onSnapLost?: () => void;\n  onError?: (error: Error) => void;\n}\n\nexport interface UseSnapEngineReturn {\n  // Core functionality\n  snapEngine: SnapEngine | null;\n  snapToPoint: (cursor: Point2D) => Promise<SnapResult>;\n\n  // State\n  isEnabled: boolean;\n  lastSnapResult: SnapResult | null;\n  isSnapped: boolean;\n\n  // Geometry management\n  addGeometry: (geometry: GeometryEntity) => boolean;\n  addGeometries: (geometries: GeometryEntity[]) => SnapPerformanceMetrics;\n  removeGeometry: (id: string) => boolean;\n  clearGeometries: () => void;\n\n  // Configuration\n  updateConfig: (config: Partial<SnapConfiguration>) => void;\n  setEnabled: (enabled: boolean) => void;\n  setTolerance: (tolerance: number) => void;\n\n  // Performance & metrics\n  performanceMetrics: SnapPerformanceMetrics;\n  rebuildIndex: () => SnapPerformanceMetrics;\n\n  // Loading states Œ±œÄœå @layera/loading integration\n  isIndexing: boolean;\n  isCalculating: boolean;\n}\n\n// ========================================\n// ü™ù MAIN HOOK IMPLEMENTATION\n// ========================================\n\nexport function useSnapEngine(options: UseSnapEngineOptions = {}): UseSnapEngineReturn {\n  // Existing LEGO systems integration - ŒúŒóŒù Œ±ŒΩŒ±Œ¥Œ∑ŒºŒπŒøœÖœÅŒ≥ŒÆœÉŒµŒπœÇ\n  const { toast } = useNotification();\n  const { t } = useLayeraTranslation();\n\n  // Local state\n  const [snapEngine, setSnapEngine] = useState<SnapEngine | null>(null);\n  const [lastSnapResult, setLastSnapResult] = useState<SnapResult | null>(null);\n  const [isEnabled, setIsEnabledState] = useState(options.enabled ?? true);\n  const [performanceMetrics, setPerformanceMetrics] = useState<SnapPerformanceMetrics>({\n    searchTime: 0,\n    indexTime: 0,\n    totalTime: 0,\n    geometryCount: 0,\n    resultsCount: 0,\n    memoryUsage: 0\n  });\n\n  // Loading states Œ≥ŒπŒ± integration ŒºŒµ @layera/loading\n  const [isIndexing, setIsIndexing] = useState(false);\n  const [isCalculating, setIsCalculating] = useState(false);\n\n  // Refs Œ≥ŒπŒ± stable callbacks\n  const optionsRef = useRef(options);\n  optionsRef.current = options;\n\n  // ========================================\n  // üöÄ SNAP ENGINE INITIALIZATION\n  // ========================================\n\n  useEffect(() => {\n    try {\n      const config: SnapConfiguration = {\n        tolerance: options.tolerance ?? SNAP_CONSTANTS.DEFAULT_TOLERANCE,\n        enabledTypes: options.enabledTypes ?? new Set(['endpoint', 'midpoint', 'center']),\n        priority: SNAP_CONSTANTS.DEFAULT_PRIORITIES,\n        maxResults: SNAP_CONSTANTS.MAX_RESULTS,\n        performanceLevel: 'medium',\n        debugMode: options.debugMode ?? false\n      };\n\n      const engine = new SnapEngine(config);\n\n      // Setup event listeners\n      engine.addEventListener('snap:found', (data) => {\n        setLastSnapResult(data.result);\n        optionsRef.current.onSnapFound?.(data.result);\n\n        if (options.debugMode) {\n          toast({\n            type: 'info',\n            message: t('snap.feedback.found', { type: data.result.snapType }),\n            duration: 1000\n          });\n        }\n      });\n\n      engine.addEventListener('snap:lost', () => {\n        setLastSnapResult(null);\n        optionsRef.current.onSnapLost?.();\n      });\n\n      engine.addEventListener('snap:error', (data) => {\n        console.error('Snap engine error:', data.error);\n        optionsRef.current.onError?.(data.error);\n\n        toast({\n          type: 'error',\n          message: t('snap.errors.calculation_failed'),\n          duration: 3000\n        });\n      });\n\n      engine.addEventListener('index:rebuilt', (data) => {\n        setIsIndexing(false);\n        setPerformanceMetrics(prev => ({\n          ...prev,\n          geometryCount: data.geometryCount,\n          indexTime: data.indexTime\n        }));\n\n        if (options.debugMode) {\n          toast({\n            type: 'success',\n            message: t('snap.feedback.index_rebuilt', { count: data.geometryCount }),\n            duration: 2000\n          });\n        }\n      });\n\n      setSnapEngine(engine);\n\n      return () => {\n        engine.dispose();\n      };\n    } catch (error) {\n      console.error('Failed to initialize snap engine:', error);\n      optionsRef.current.onError?.(error as Error);\n    }\n  }, []); // Empty dependency - engine is created once\n\n  // ========================================\n  // üéØ CORE SNAP FUNCTIONALITY\n  // ========================================\n\n  const snapToPoint = useCallback(async (cursor: Point2D): Promise<SnapResult> => {\n    if (!snapEngine) {\n      return {\n        target: null,\n        snapped: false,\n        distance: Infinity,\n        cursor,\n        snapPoint: cursor,\n        snapType: null\n      };\n    }\n\n    try {\n      setIsCalculating(true);\n      const result = await snapEngine.snapToPoint(cursor);\n\n      // Update performance metrics\n      const metrics = snapEngine.getPerformanceMetrics();\n      setPerformanceMetrics(metrics);\n\n      return result;\n    } catch (error) {\n      console.error('Snap calculation failed:', error);\n      optionsRef.current.onError?.(error as Error);\n\n      return {\n        target: null,\n        snapped: false,\n        distance: Infinity,\n        cursor,\n        snapPoint: cursor,\n        snapType: null\n      };\n    } finally {\n      setIsCalculating(false);\n    }\n  }, [snapEngine]);\n\n  // ========================================\n  // üèóÔ∏è GEOMETRY MANAGEMENT\n  // ========================================\n\n  const addGeometry = useCallback((geometry: GeometryEntity): boolean => {\n    if (!snapEngine) return false;\n    return snapEngine.addGeometry(geometry);\n  }, [snapEngine]);\n\n  const addGeometries = useCallback((geometries: GeometryEntity[]): SnapPerformanceMetrics => {\n    if (!snapEngine) {\n      return {\n        searchTime: 0,\n        indexTime: 0,\n        totalTime: 0,\n        geometryCount: 0,\n        resultsCount: 0,\n        memoryUsage: 0\n      };\n    }\n\n    setIsIndexing(true);\n    const metrics = snapEngine.addGeometries(geometries);\n    setPerformanceMetrics(metrics);\n\n    return metrics;\n  }, [snapEngine]);\n\n  const removeGeometry = useCallback((id: string): boolean => {\n    if (!snapEngine) return false;\n    return snapEngine.removeGeometry(id);\n  }, [snapEngine]);\n\n  const clearGeometries = useCallback((): void => {\n    if (!snapEngine) return;\n\n    snapEngine.clearGeometries();\n    setLastSnapResult(null);\n    setPerformanceMetrics({\n      searchTime: 0,\n      indexTime: 0,\n      totalTime: 0,\n      geometryCount: 0,\n      resultsCount: 0,\n      memoryUsage: 0\n    });\n  }, [snapEngine]);\n\n  // ========================================\n  // ‚öôÔ∏è CONFIGURATION MANAGEMENT\n  // ========================================\n\n  const updateConfig = useCallback((config: Partial<SnapConfiguration>): void => {\n    if (!snapEngine) return;\n    snapEngine.updateConfiguration(config);\n  }, [snapEngine]);\n\n  const setEnabled = useCallback((enabled: boolean): void => {\n    setIsEnabledState(enabled);\n    if (snapEngine) {\n      snapEngine.setEnabled(enabled);\n    }\n\n    if (!enabled) {\n      setLastSnapResult(null);\n    }\n  }, [snapEngine]);\n\n  const setTolerance = useCallback((tolerance: number): void => {\n    if (!snapEngine) return;\n    snapEngine.setTolerance(tolerance);\n  }, [snapEngine]);\n\n  const rebuildIndex = useCallback((): SnapPerformanceMetrics => {\n    if (!snapEngine) {\n      return {\n        searchTime: 0,\n        indexTime: 0,\n        totalTime: 0,\n        geometryCount: 0,\n        resultsCount: 0,\n        memoryUsage: 0\n      };\n    }\n\n    setIsIndexing(true);\n    const metrics = snapEngine.rebuildIndex();\n    setPerformanceMetrics(metrics);\n    setIsIndexing(false);\n\n    return metrics;\n  }, [snapEngine]);\n\n  // ========================================\n  // üîç COMPUTED VALUES\n  // ========================================\n\n  const isSnapped = useMemo(() => {\n    return lastSnapResult?.snapped ?? false;\n  }, [lastSnapResult]);\n\n  // ========================================\n  // üì¶ RETURN INTERFACE\n  // ========================================\n\n  return {\n    // Core functionality\n    snapEngine,\n    snapToPoint,\n\n    // State\n    isEnabled,\n    lastSnapResult,\n    isSnapped,\n\n    // Geometry management\n    addGeometry,\n    addGeometries,\n    removeGeometry,\n    clearGeometries,\n\n    // Configuration\n    updateConfig,\n    setEnabled,\n    setTolerance,\n\n    // Performance & metrics\n    performanceMetrics,\n    rebuildIndex,\n\n    // Loading states Œ≥ŒπŒ± @layera/loading integration\n    isIndexing,\n    isCalculating\n  };\n}\n\n// ========================================\n// üéØ SPECIALIZED HOOKS\n// ========================================\n\n/**\n * Hook Œ≥ŒπŒ± CAD-optimized snap settings\n */\nexport function useCADSnap(options: Omit<UseSnapEngineOptions, 'enabledTypes'> = {}) {\n  return useSnapEngine({\n    ...options,\n    tolerance: options.tolerance ?? 5,\n    enabledTypes: new Set(['endpoint', 'midpoint', 'center', 'vertex', 'intersection'])\n  });\n}\n\n/**\n * Hook Œ≥ŒπŒ± GIS/mapping-optimized snap settings\n */\nexport function useGISSnap(options: Omit<UseSnapEngineOptions, 'enabledTypes'> = {}) {\n  return useSnapEngine({\n    ...options,\n    tolerance: options.tolerance ?? 15,\n    enabledTypes: new Set(['endpoint', 'vertex', 'nearest'])\n  });\n}\n\n/**\n * Hook Œ≥ŒπŒ± mobile-optimized snap settings\n */\nexport function useMobileSnap(options: Omit<UseSnapEngineOptions, 'enabledTypes'> = {}) {\n  return useSnapEngine({\n    ...options,\n    tolerance: options.tolerance ?? 25,\n    enabledTypes: new Set(['endpoint', 'vertex'])\n  });\n}","/**\n * üéØ SnapIndicator Component\n * Visual indicator Œ≥ŒπŒ± snap points - œáœÅŒ∑œÉŒπŒºŒøœÄŒøŒπŒµŒØ existing LEGO systems\n */\n\nimport React from 'react';\n\n// Import Œ±œÄœå existing LEGO systems - ŒúŒóŒù Œ±ŒΩŒ±Œ¥Œ∑ŒºŒπŒøœÖœÅŒ≥ŒÆœÉŒµŒπœÇ\nimport { useTheme } from '@layera/theme-switcher';\nimport { useLayeraTranslation } from '@layera/i18n';\nimport { Icon } from '@layera/icons';\n\n// Import Œ±œÄœå snap engine\nimport type { SnapResult, SnapType } from '@layera/snap-engine';\n\n// ========================================\n// üéØ COMPONENT INTERFACES\n// ========================================\n\nexport interface SnapIndicatorProps {\n  snapResult: SnapResult;\n  visible: boolean;\n  size?: number;\n  animated?: boolean;\n  showTooltip?: boolean;\n  className?: string;\n}\n\n// ========================================\n// üé® SNAP TYPE VISUAL MAPPING\n// ========================================\n\nconst SNAP_ICONS: Record<SnapType, string> = {\n  endpoint: 'square',\n  midpoint: 'triangle',\n  center: 'circle',\n  vertex: 'diamond',\n  intersection: 'cross',\n  perpendicular: 'perpendicular',\n  tangent: 'tangent',\n  nearest: 'target',\n  grid: 'grid',\n  edge: 'line'\n};\n\nconst SNAP_COLORS = {\n  light: {\n    endpoint: '#ff6b6b',\n    midpoint: '#4ecdc4',\n    center: '#45b7d1',\n    vertex: '#96ceb4',\n    intersection: '#ffeaa7',\n    perpendicular: '#dda0dd',\n    tangent: '#98d8c8',\n    nearest: '#f7dc6f',\n    grid: '#bb8fce',\n    edge: '#85c1e9'\n  },\n  dark: {\n    endpoint: '#e74c3c',\n    midpoint: '#1abc9c',\n    center: '#3498db',\n    vertex: '#2ecc71',\n    intersection: '#f39c12',\n    perpendicular: '#9b59b6',\n    tangent: '#16a085',\n    nearest: '#f1c40f',\n    grid: '#8e44ad',\n    edge: '#2980b9'\n  }\n};\n\n// ========================================\n// üéØ SNAP INDICATOR COMPONENT\n// ========================================\n\nexport const SnapIndicator: React.FC<SnapIndicatorProps> = ({\n  snapResult,\n  visible,\n  size = 16,\n  animated = true,\n  showTooltip = true,\n  className = ''\n}) => {\n  // Existing LEGO systems integration - ŒúŒóŒù Œ±ŒΩŒ±Œ¥Œ∑ŒºŒπŒøœÖœÅŒ≥ŒÆœÉŒµŒπœÇ\n  const { theme } = useTheme();\n  const { t } = useLayeraTranslation();\n\n  // Early return Œ±ŒΩ Œ¥ŒµŒΩ ŒµŒØŒΩŒ±Œπ snapped ŒÆ visible\n  if (!visible || !snapResult.snapped || !snapResult.target) {\n    return null;\n  }\n\n  const { target, snapPoint, snapType } = snapResult;\n  const iconName = SNAP_ICONS[snapType!] || 'circle';\n  const colors = SNAP_COLORS[theme] || SNAP_COLORS.light;\n  const color = colors[snapType!] || colors.nearest;\n\n  // ========================================\n  // üé® STYLES - ŒßœÅŒ∑œÉŒπŒºŒøœÄŒøŒπŒµŒØ theme Œ±œÄœå @layera/theme-switcher\n  // ========================================\n\n  const indicatorStyle: React.CSSProperties = {\n    position: 'absolute',\n    left: snapPoint.x - size / 2,\n    top: snapPoint.y - size / 2,\n    width: size,\n    height: size,\n    pointerEvents: 'none',\n    zIndex: 10000,\n    borderRadius: '50%',\n    backgroundColor: color,\n    border: `2px solid ${theme === 'dark' ? '#ffffff' : '#000000'}`,\n    boxShadow: `0 0 8px ${color}`,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    transform: animated ? 'scale(1)' : 'scale(1)',\n    transition: animated ? 'all 0.2s ease-in-out' : 'none',\n    animation: animated ? 'snapPulse 0.6s ease-in-out' : 'none'\n  };\n\n  const tooltipStyle: React.CSSProperties = {\n    position: 'absolute',\n    bottom: '100%',\n    left: '50%',\n    transform: 'translateX(-50%)',\n    marginBottom: '8px',\n    padding: '4px 8px',\n    backgroundColor: theme === 'dark' ? '#2c3e50' : '#ecf0f1',\n    color: theme === 'dark' ? '#ecf0f1' : '#2c3e50',\n    border: `1px solid ${theme === 'dark' ? '#34495e' : '#bdc3c7'}`,\n    borderRadius: '4px',\n    fontSize: '12px',\n    fontWeight: 500,\n    whiteSpace: 'nowrap',\n    boxShadow: '0 2px 4px rgba(0,0,0,0.1)',\n    zIndex: 10001\n  };\n\n  // ========================================\n  // üìù TOOLTIP CONTENT - ŒßœÅŒ∑œÉŒπŒºŒøœÄŒøŒπŒµŒØ @layera/i18n\n  // ========================================\n\n  const tooltipContent = showTooltip ? (\n    <div style={tooltipStyle}>\n      {t(`snap.types.${snapType}`, { defaultValue: snapType })}\n      {target.metadata?.layer && (\n        <div style={{ fontSize: '10px', opacity: 0.8 }}>\n          {t('snap.layer')}: {target.metadata.layer}\n        </div>\n      )}\n    </div>\n  ) : null;\n\n  // ========================================\n  // üéØ RENDER\n  // ========================================\n\n  return (\n    <div style={indicatorStyle} className={className}>\n      {/* Icon Œ±œÄœå @layera/icons - ŒúŒóŒù Œ¥Œ∑ŒºŒπŒøœÖœÅŒ≥ŒÆœÉŒµŒπœÇ custom icons */}\n      <Icon\n        name={iconName}\n        size={size * 0.6}\n        color={theme === 'dark' ? '#ffffff' : '#000000'}\n      />\n\n      {/* Tooltip */}\n      {tooltipContent}\n\n      {/* CSS Animation Œ≥ŒπŒ± pulse effect */}\n      <style>{`\n        @keyframes snapPulse {\n          0% {\n            transform: scale(0.8);\n            opacity: 0.6;\n          }\n          50% {\n            transform: scale(1.2);\n            opacity: 1;\n          }\n          100% {\n            transform: scale(1);\n            opacity: 1;\n          }\n        }\n      `}</style>\n    </div>\n  );\n};\n\n// ========================================\n// üéØ SNAP CURSOR COMPONENT\n// ========================================\n\nexport interface SnapCursorProps {\n  snapResult: SnapResult;\n  cursorPosition: { x: number; y: number };\n  visible: boolean;\n  size?: number;\n}\n\nexport const SnapCursor: React.FC<SnapCursorProps> = ({\n  snapResult,\n  cursorPosition,\n  visible,\n  size = 24\n}) => {\n  const { theme } = useTheme();\n\n  if (!visible) return null;\n\n  const isSnapped = snapResult.snapped;\n  const position = isSnapped ? snapResult.snapPoint : cursorPosition;\n\n  const cursorStyle: React.CSSProperties = {\n    position: 'absolute',\n    left: position.x - size / 2,\n    top: position.y - size / 2,\n    width: size,\n    height: size,\n    pointerEvents: 'none',\n    zIndex: 9999,\n    border: `2px solid ${isSnapped ? '#e74c3c' : theme === 'dark' ? '#ecf0f1' : '#2c3e50'}`,\n    borderRadius: '50%',\n    backgroundColor: isSnapped ? 'rgba(231, 76, 60, 0.2)' : 'transparent',\n    transition: 'all 0.1s ease-out',\n    transform: isSnapped ? 'scale(1.2)' : 'scale(1)'\n  };\n\n  return <div style={cursorStyle} />;\n};\n\n// ========================================\n// üéØ SNAP GUIDELINES COMPONENT\n// ========================================\n\nexport interface SnapGuidelinesProps {\n  snapResult: SnapResult;\n  cursorPosition: { x: number; y: number };\n  visible: boolean;\n  showDistance?: boolean;\n}\n\nexport const SnapGuidelines: React.FC<SnapGuidelinesProps> = ({\n  snapResult,\n  cursorPosition,\n  visible,\n  showDistance = true\n}) => {\n  const { theme } = useTheme();\n  const { t } = useLayeraTranslation();\n\n  if (!visible || !snapResult.snapped || !snapResult.target) {\n    return null;\n  }\n\n  const { snapPoint } = snapResult;\n  const lineColor = theme === 'dark' ? '#ecf0f1' : '#2c3e50';\n\n  // Calculate line Œ±œÄœå cursor œÉŒµ snap point\n  const lineStyle: React.CSSProperties = {\n    position: 'absolute',\n    left: Math.min(cursorPosition.x, snapPoint.x),\n    top: Math.min(cursorPosition.y, snapPoint.y),\n    width: Math.abs(snapPoint.x - cursorPosition.x),\n    height: Math.abs(snapPoint.y - cursorPosition.y),\n    pointerEvents: 'none',\n    zIndex: 9998,\n    borderTop: `1px dashed ${lineColor}`,\n    opacity: 0.6,\n    transform: `rotate(${Math.atan2(\n      snapPoint.y - cursorPosition.y,\n      snapPoint.x - cursorPosition.x\n    )}rad)`,\n    transformOrigin: 'left top'\n  };\n\n  // Distance label\n  const distance = Math.round(snapResult.distance);\n  const midPointX = (cursorPosition.x + snapPoint.x) / 2;\n  const midPointY = (cursorPosition.y + snapPoint.y) / 2;\n\n  const distanceLabelStyle: React.CSSProperties = {\n    position: 'absolute',\n    left: midPointX,\n    top: midPointY - 20,\n    transform: 'translateX(-50%)',\n    padding: '2px 6px',\n    backgroundColor: theme === 'dark' ? '#2c3e50' : '#ecf0f1',\n    color: theme === 'dark' ? '#ecf0f1' : '#2c3e50',\n    border: `1px solid ${theme === 'dark' ? '#34495e' : '#bdc3c7'}`,\n    borderRadius: '3px',\n    fontSize: '11px',\n    fontWeight: 500,\n    pointerEvents: 'none',\n    zIndex: 10000\n  };\n\n  return (\n    <>\n      {/* Guideline */}\n      <div style={lineStyle} />\n\n      {/* Distance label */}\n      {showDistance && distance > 5 && (\n        <div style={distanceLabelStyle}>\n          {distance}px\n        </div>\n      )}\n    </>\n  );\n};","/**\n * üéõÔ∏è SnapSettingsPanel Component\n * Settings panel Œ≥ŒπŒ± snap configuration - œáœÅŒ∑œÉŒπŒºŒøœÄŒøŒπŒµŒØ existing LEGO systems\n */\n\nimport React, { useState, useCallback } from 'react';\n\n// Import Œ±œÄœå existing LEGO systems - ŒúŒóŒù Œ±ŒΩŒ±Œ¥Œ∑ŒºŒπŒøœÖœÅŒ≥ŒÆœÉŒµŒπœÇ\nimport { Card, CardHeader, CardContent } from '@layera/cards';\nimport { Button, ToggleButton } from '@layera/buttons';\nimport { Slider, FormField, FormSection } from '@layera/forms';\nimport { Text, Heading } from '@layera/typography';\nimport { Stack, Grid } from '@layera/layout';\nimport { Icon } from '@layera/icons';\nimport { useTheme } from '@layera/theme-switcher';\nimport { useLayeraTranslation } from '@layera/i18n';\nimport { useNotification } from '@layera/notifications';\n\n// Import Œ±œÄœå snap engine\nimport type { SnapType, SnapConfiguration } from '@layera/snap-engine';\n\n// ========================================\n// üéõÔ∏è COMPONENT INTERFACES\n// ========================================\n\nexport interface SnapSettingsPanelProps {\n  configuration: SnapConfiguration;\n  onConfigChange: (config: Partial<SnapConfiguration>) => void;\n  onClose?: () => void;\n  compact?: boolean;\n  disabled?: boolean;\n}\n\n// ========================================\n// üéØ SNAP TYPE CONFIGURATIONS\n// ========================================\n\nconst SNAP_TYPE_INFO: Record<SnapType, {\n  icon: string;\n  priority: number;\n  description: string;\n  category: 'basic' | 'advanced' | 'precision';\n}> = {\n  endpoint: { icon: 'square', priority: 100, description: 'snap.types.endpoint.desc', category: 'basic' },\n  midpoint: { icon: 'triangle', priority: 80, description: 'snap.types.midpoint.desc', category: 'basic' },\n  center: { icon: 'circle', priority: 90, description: 'snap.types.center.desc', category: 'basic' },\n  vertex: { icon: 'diamond', priority: 85, description: 'snap.types.vertex.desc', category: 'basic' },\n  intersection: { icon: 'cross', priority: 95, description: 'snap.types.intersection.desc', category: 'advanced' },\n  perpendicular: { icon: 'perpendicular', priority: 70, description: 'snap.types.perpendicular.desc', category: 'precision' },\n  tangent: { icon: 'tangent', priority: 65, description: 'snap.types.tangent.desc', category: 'precision' },\n  nearest: { icon: 'target', priority: 60, description: 'snap.types.nearest.desc', category: 'basic' },\n  grid: { icon: 'grid', priority: 50, description: 'snap.types.grid.desc', category: 'advanced' },\n  edge: { icon: 'line', priority: 75, description: 'snap.types.edge.desc', category: 'advanced' }\n};\n\n// ========================================\n// üéõÔ∏è SNAP SETTINGS PANEL COMPONENT\n// ========================================\n\nexport const SnapSettingsPanel: React.FC<SnapSettingsPanelProps> = ({\n  configuration,\n  onConfigChange,\n  onClose,\n  compact = false,\n  disabled = false\n}) => {\n  // Existing LEGO systems integration - ŒúŒóŒù Œ±ŒΩŒ±Œ¥Œ∑ŒºŒπŒøœÖœÅŒ≥ŒÆœÉŒµŒπœÇ\n  const { theme } = useTheme();\n  const { t } = useLayeraTranslation();\n  const { toast } = useNotification();\n\n  // Local state\n  const [activeCategory, setActiveCategory] = useState<'basic' | 'advanced' | 'precision'>('basic');\n\n  // ========================================\n  // üîß EVENT HANDLERS\n  // ========================================\n\n  const handleToleranceChange = useCallback((value: number) => {\n    onConfigChange({ tolerance: value });\n    toast({\n      type: 'info',\n      message: t('snap.settings.tolerance_changed', { value }),\n      duration: 1500\n    });\n  }, [onConfigChange, toast, t]);\n\n  const handleSnapTypeToggle = useCallback((type: SnapType, enabled: boolean) => {\n    const newEnabledTypes = new Set(configuration.enabledTypes);\n\n    if (enabled) {\n      newEnabledTypes.add(type);\n    } else {\n      newEnabledTypes.delete(type);\n    }\n\n    onConfigChange({ enabledTypes: newEnabledTypes });\n\n    toast({\n      type: enabled ? 'success' : 'info',\n      message: t(`snap.settings.type_${enabled ? 'enabled' : 'disabled'}`, {\n        type: t(`snap.types.${type}`)\n      }),\n      duration: 1500\n    });\n  }, [configuration.enabledTypes, onConfigChange, toast, t]);\n\n  const handlePerformanceLevelChange = useCallback((level: 'high' | 'medium' | 'low') => {\n    onConfigChange({ performanceLevel: level });\n    toast({\n      type: 'info',\n      message: t('snap.settings.performance_changed', { level: t(`snap.performance.${level}`) }),\n      duration: 2000\n    });\n  }, [onConfigChange, toast, t]);\n\n  const handleResetToDefaults = useCallback(() => {\n    const defaultConfig: Partial<SnapConfiguration> = {\n      tolerance: 10,\n      enabledTypes: new Set(['endpoint', 'midpoint', 'center']),\n      performanceLevel: 'medium'\n    };\n\n    onConfigChange(defaultConfig);\n    toast({\n      type: 'success',\n      message: t('snap.settings.reset_success'),\n      duration: 2000\n    });\n  }, [onConfigChange, toast, t]);\n\n  // ========================================\n  // üé® RENDER HELPERS\n  // ========================================\n\n  const renderSnapTypeToggle = (type: SnapType) => {\n    const info = SNAP_TYPE_INFO[type];\n    const isEnabled = configuration.enabledTypes.has(type);\n\n    return (\n      <FormField\n        key={type}\n        label={\n          <Stack direction=\"row\" spacing={8} align=\"center\">\n            <Icon name={info.icon} size={16} />\n            <Text variant=\"body2\" weight=\"medium\">\n              {t(`snap.types.${type}`)}\n            </Text>\n          </Stack>\n        }\n        description={compact ? undefined : t(info.description)}\n      >\n        <ToggleButton\n          active={isEnabled}\n          disabled={disabled}\n          onClick={() => handleSnapTypeToggle(type, !isEnabled)}\n          size={compact ? 'small' : 'medium'}\n        >\n          {isEnabled ? t('common.enabled') : t('common.disabled')}\n        </ToggleButton>\n      </FormField>\n    );\n  };\n\n  const renderCategorySection = (category: 'basic' | 'advanced' | 'precision') => {\n    const types = Object.entries(SNAP_TYPE_INFO)\n      .filter(([, info]) => info.category === category)\n      .map(([type]) => type as SnapType);\n\n    if (types.length === 0) return null;\n\n    return (\n      <FormSection\n        title={t(`snap.categories.${category}`)}\n        collapsible={!compact}\n        defaultExpanded={category === activeCategory}\n      >\n        <Stack spacing={compact ? 8 : 12}>\n          {types.map(renderSnapTypeToggle)}\n        </Stack>\n      </FormSection>\n    );\n  };\n\n  // ========================================\n  // üéõÔ∏è MAIN RENDER\n  // ========================================\n\n  return (\n    <Card className={compact ? 'snap-settings-compact' : 'snap-settings-full'}>\n      {/* Header ŒºŒµ @layera/cards, @layera/typography, @layera/buttons */}\n      <CardHeader>\n        <Stack direction=\"row\" justify=\"space-between\" align=\"center\">\n          <Stack direction=\"row\" spacing={8} align=\"center\">\n            <Icon name=\"settings\" size={20} />\n            <Heading level={compact ? 4 : 3}>\n              {t('snap.settings.title')}\n            </Heading>\n          </Stack>\n\n          {onClose && (\n            <Button\n              variant=\"ghost\"\n              size=\"small\"\n              onClick={onClose}\n              disabled={disabled}\n            >\n              <Icon name=\"close\" size={16} />\n            </Button>\n          )}\n        </Stack>\n      </CardHeader>\n\n      <CardContent>\n        <Stack spacing={compact ? 16 : 24}>\n          {/* Tolerance Slider ŒºŒµ @layera/forms */}\n          <FormSection title={t('snap.settings.tolerance.title')}>\n            <FormField\n              label={t('snap.settings.tolerance.label')}\n              description={!compact ? t('snap.settings.tolerance.description') : undefined}\n            >\n              <Stack spacing={8}>\n                <Slider\n                  min={1}\n                  max={50}\n                  step={1}\n                  value={configuration.tolerance}\n                  onChange={handleToleranceChange}\n                  disabled={disabled}\n                  showValue\n                  formatValue={(value) => `${value}px`}\n                />\n                <Text variant=\"caption\" color=\"muted\">\n                  {t('snap.settings.tolerance.current', { value: configuration.tolerance })}\n                </Text>\n              </Stack>\n            </FormField>\n          </FormSection>\n\n          {/* Snap Types ŒºŒµ category tabs */}\n          <FormSection title={t('snap.settings.types.title')}>\n            {/* Category Navigation Œ≥ŒπŒ± non-compact mode */}\n            {!compact && (\n              <Stack direction=\"row\" spacing={8} style={{ marginBottom: 16 }}>\n                {(['basic', 'advanced', 'precision'] as const).map(category => (\n                  <Button\n                    key={category}\n                    variant={activeCategory === category ? 'primary' : 'outline'}\n                    size=\"small\"\n                    onClick={() => setActiveCategory(category)}\n                    disabled={disabled}\n                  >\n                    {t(`snap.categories.${category}`)}\n                  </Button>\n                ))}\n              </Stack>\n            )}\n\n            {/* Render categories */}\n            {compact ? (\n              // Compact mode - show all in grid\n              <Grid columns={2} spacing={8}>\n                {Object.keys(SNAP_TYPE_INFO).map(type =>\n                  renderSnapTypeToggle(type as SnapType)\n                )}\n              </Grid>\n            ) : (\n              // Full mode - show by category\n              <Stack spacing={16}>\n                {renderCategorySection('basic')}\n                {renderCategorySection('advanced')}\n                {renderCategorySection('precision')}\n              </Stack>\n            )}\n          </FormSection>\n\n          {/* Performance Level */}\n          <FormSection title={t('snap.settings.performance.title')}>\n            <FormField\n              label={t('snap.settings.performance.label')}\n              description={!compact ? t('snap.settings.performance.description') : undefined}\n            >\n              <Stack direction=\"row\" spacing={8}>\n                {(['low', 'medium', 'high'] as const).map(level => (\n                  <Button\n                    key={level}\n                    variant={configuration.performanceLevel === level ? 'primary' : 'outline'}\n                    size={compact ? 'small' : 'medium'}\n                    onClick={() => handlePerformanceLevelChange(level)}\n                    disabled={disabled}\n                  >\n                    {t(`snap.performance.${level}`)}\n                  </Button>\n                ))}\n              </Stack>\n            </FormField>\n          </FormSection>\n\n          {/* Actions */}\n          <Stack direction=\"row\" spacing={12} justify=\"space-between\">\n            <Button\n              variant=\"outline\"\n              onClick={handleResetToDefaults}\n              disabled={disabled}\n            >\n              <Icon name=\"refresh\" size={16} style={{ marginRight: 8 }} />\n              {t('snap.settings.reset_defaults')}\n            </Button>\n\n            {!compact && (\n              <Stack direction=\"row\" spacing={8}>\n                <Text variant=\"caption\" color=\"muted\">\n                  {t('snap.settings.enabled_count', {\n                    count: configuration.enabledTypes.size\n                  })}\n                </Text>\n              </Stack>\n            )}\n          </Stack>\n        </Stack>\n      </CardContent>\n    </Card>\n  );\n};\n\n// ========================================\n// üéõÔ∏è COMPACT SNAP TOOLBAR\n// ========================================\n\nexport interface SnapToolbarProps {\n  configuration: SnapConfiguration;\n  onConfigChange: (config: Partial<SnapConfiguration>) => void;\n  onOpenSettings?: () => void;\n  enabled: boolean;\n  onToggleEnabled: (enabled: boolean) => void;\n}\n\nexport const SnapToolbar: React.FC<SnapToolbarProps> = ({\n  configuration,\n  onConfigChange,\n  onOpenSettings,\n  enabled,\n  onToggleEnabled\n}) => {\n  const { t } = useLayeraTranslation();\n\n  // Quick toggle Œ≥ŒπŒ± common snap types\n  const quickTypes: SnapType[] = ['endpoint', 'midpoint', 'center', 'vertex'];\n\n  return (\n    <Stack direction=\"row\" spacing={8} align=\"center\">\n      {/* Master Enable/Disable */}\n      <ToggleButton\n        active={enabled}\n        onClick={() => onToggleEnabled(!enabled)}\n        variant=\"primary\"\n      >\n        <Icon name=\"magnet\" size={16} style={{ marginRight: 4 }} />\n        {t('snap.toolbar.snap')}\n      </ToggleButton>\n\n      {/* Quick type toggles */}\n      {enabled && quickTypes.map(type => (\n        <ToggleButton\n          key={type}\n          active={configuration.enabledTypes.has(type)}\n          onClick={() => {\n            const newTypes = new Set(configuration.enabledTypes);\n            if (newTypes.has(type)) {\n              newTypes.delete(type);\n            } else {\n              newTypes.add(type);\n            }\n            onConfigChange({ enabledTypes: newTypes });\n          }}\n          size=\"small\"\n          title={t(`snap.types.${type}`)}\n        >\n          <Icon name={SNAP_TYPE_INFO[type].icon} size={14} />\n        </ToggleButton>\n      ))}\n\n      {/* Settings button */}\n      {onOpenSettings && (\n        <Button\n          variant=\"ghost\"\n          size=\"small\"\n          onClick={onOpenSettings}\n          title={t('snap.toolbar.open_settings')}\n        >\n          <Icon name=\"settings\" size={16} />\n        </Button>\n      )}\n\n      {/* Tolerance quick adjust */}\n      <Stack direction=\"row\" spacing={4} align=\"center\">\n        <Text variant=\"caption\" color=\"muted\">\n          {configuration.tolerance}px\n        </Text>\n      </Stack>\n    </Stack>\n  );\n};","/**\n * üé® SnapCanvas Component\n * Interactive canvas Œ≥ŒπŒ± snap visualization - œáœÅŒ∑œÉŒπŒºŒøœÄŒøŒπŒµŒØ existing LEGO systems\n */\n\nimport React, { useRef, useEffect, useCallback, useState } from 'react';\n\n// Import Œ±œÄœå existing LEGO systems - ŒúŒóŒù Œ±ŒΩŒ±Œ¥Œ∑ŒºŒπŒøœÖœÅŒ≥ŒÆœÉŒµŒπœÇ\nimport { useTheme } from '@layera/theme-switcher';\nimport { useViewport } from '@layera/viewport';\nimport { ErrorBoundary } from '@layera/error-boundary';\nimport { LoadingSpinner } from '@layera/loading';\n\n// Import snap components\nimport { SnapIndicator, SnapCursor, SnapGuidelines } from './SnapIndicator';\n\n// Import Œ±œÄœå snap engine Œ∫Œ±Œπ hooks\nimport { useSnapEngine } from '../hooks/useSnapEngine';\nimport type { SnapResult, GeometryEntity } from '@layera/snap-engine';\n\n// ========================================\n// üé® COMPONENT INTERFACES\n// ========================================\n\nexport interface SnapCanvasProps {\n  width: number;\n  height: number;\n  geometries: GeometryEntity[];\n  onSnapResult?: (result: SnapResult) => void;\n  onGeometryAdd?: (geometry: GeometryEntity) => void;\n  onGeometrySelect?: (geometry: GeometryEntity) => void;\n\n  // Visual options\n  showSnapIndicators?: boolean;\n  showSnapGuidelines?: boolean;\n  showSnapCursor?: boolean;\n  snapEnabled?: boolean;\n  tolerance?: number;\n\n  // Interaction options\n  interactive?: boolean;\n  drawingMode?: boolean;\n  selectionMode?: boolean;\n\n  // Styling\n  backgroundColor?: string;\n  className?: string;\n  style?: React.CSSProperties;\n}\n\ninterface CanvasState {\n  cursorPosition: { x: number; y: number };\n  lastSnapResult: SnapResult | null;\n  isDrawing: boolean;\n  selectedGeometry: GeometryEntity | null;\n  hoverGeometry: GeometryEntity | null;\n}\n\n// ========================================\n// üé® SNAP CANVAS COMPONENT\n// ========================================\n\nexport const SnapCanvas: React.FC<SnapCanvasProps> = ({\n  width,\n  height,\n  geometries,\n  onSnapResult,\n  onGeometryAdd,\n  onGeometrySelect,\n\n  showSnapIndicators = true,\n  showSnapGuidelines = true,\n  showSnapCursor = true,\n  snapEnabled = true,\n  tolerance = 10,\n\n  interactive = true,\n  drawingMode = false,\n  selectionMode = false,\n\n  backgroundColor,\n  className = '',\n  style = {}\n}) => {\n  // Existing LEGO systems integration - ŒúŒóŒù Œ±ŒΩŒ±Œ¥Œ∑ŒºŒπŒøœÖœÅŒ≥ŒÆœÉŒµŒπœÇ\n  const { theme } = useTheme();\n  const { isMobile } = useViewport();\n\n  // Snap engine integration\n  const {\n    snapToPoint,\n    addGeometries,\n    clearGeometries,\n    setEnabled,\n    setTolerance,\n    isIndexing\n  } = useSnapEngine({\n    enabled: snapEnabled,\n    tolerance,\n    debugMode: false,\n    onSnapFound: onSnapResult,\n    onError: (error) => console.error('Snap canvas error:', error)\n  });\n\n  // Refs\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const containerRef = useRef<HTMLDivElement>(null);\n\n  // Local state\n  const [canvasState, setCanvasState] = useState<CanvasState>({\n    cursorPosition: { x: 0, y: 0 },\n    lastSnapResult: null,\n    isDrawing: false,\n    selectedGeometry: null,\n    hoverGeometry: null\n  });\n\n  // ========================================\n  // üéØ SNAP ENGINE SETUP\n  // ========================================\n\n  useEffect(() => {\n    setEnabled(snapEnabled);\n  }, [snapEnabled, setEnabled]);\n\n  useEffect(() => {\n    setTolerance(tolerance);\n  }, [tolerance, setTolerance]);\n\n  useEffect(() => {\n    // Update geometries œÉœÑŒø snap engine\n    clearGeometries();\n    if (geometries.length > 0) {\n      addGeometries(geometries);\n    }\n  }, [geometries, clearGeometries, addGeometries]);\n\n  // ========================================\n  // üé® CANVAS RENDERING\n  // ========================================\n\n  const renderGeometries = useCallback((ctx: CanvasRenderingContext2D) => {\n    ctx.clearRect(0, 0, width, height);\n\n    // Background\n    ctx.fillStyle = backgroundColor || (theme === 'dark' ? '#2c3e50' : '#ecf0f1');\n    ctx.fillRect(0, 0, width, height);\n\n    // Render geometries\n    geometries.forEach(geometry => {\n      renderGeometry(ctx, geometry);\n    });\n  }, [width, height, geometries, backgroundColor, theme]);\n\n  const renderGeometry = useCallback((ctx: CanvasRenderingContext2D, geometry: GeometryEntity) => {\n    if (!geometry.visible) return;\n\n    // Styling based œÉŒµ selection state\n    const isSelected = canvasState.selectedGeometry?.id === geometry.id;\n    const isHovered = canvasState.hoverGeometry?.id === geometry.id;\n\n    ctx.strokeStyle = isSelected ? '#e74c3c' : isHovered ? '#3498db' :\n                     theme === 'dark' ? '#ecf0f1' : '#2c3e50';\n    ctx.lineWidth = isSelected ? 3 : isHovered ? 2 : 1;\n    ctx.fillStyle = geometry.layer === 'osm_buildings' ?\n                   'rgba(52, 152, 219, 0.2)' : 'transparent';\n\n    // Render based on geometry type\n    switch (geometry.type) {\n      case 'line':\n        const line = geometry.data as any;\n        ctx.beginPath();\n        ctx.moveTo(line.start.x, line.start.y);\n        ctx.lineTo(line.end.x, line.end.y);\n        ctx.stroke();\n        break;\n\n      case 'circle':\n        const circle = geometry.data as any;\n        ctx.beginPath();\n        ctx.arc(circle.center.x, circle.center.y, circle.radius, 0, 2 * Math.PI);\n        ctx.stroke();\n        if (ctx.fillStyle !== 'transparent') {\n          ctx.fill();\n        }\n        break;\n\n      case 'polyline':\n      case 'polygon':\n        const polyline = geometry.data as any;\n        if (polyline.vertices.length > 1) {\n          ctx.beginPath();\n          ctx.moveTo(polyline.vertices[0].x, polyline.vertices[0].y);\n\n          for (let i = 1; i < polyline.vertices.length; i++) {\n            ctx.lineTo(polyline.vertices[i].x, polyline.vertices[i].y);\n          }\n\n          if (polyline.closed) {\n            ctx.closePath();\n            if (ctx.fillStyle !== 'transparent') {\n              ctx.fill();\n            }\n          }\n          ctx.stroke();\n        }\n        break;\n\n      case 'point':\n        const point = geometry.data as any;\n        ctx.beginPath();\n        ctx.arc(point.position.x, point.position.y, 3, 0, 2 * Math.PI);\n        ctx.fillStyle = ctx.strokeStyle;\n        ctx.fill();\n        break;\n    }\n  }, [canvasState.selectedGeometry, canvasState.hoverGeometry, theme]);\n\n  // ========================================\n  // üñ±Ô∏è MOUSE INTERACTION HANDLERS\n  // ========================================\n\n  const handleMouseMove = useCallback(async (e: React.MouseEvent<HTMLCanvasElement>) => {\n    if (!interactive || !canvasRef.current) return;\n\n    const rect = canvasRef.current.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n\n    // Update cursor position\n    setCanvasState(prev => ({\n      ...prev,\n      cursorPosition: { x, y }\n    }));\n\n    // Perform snap calculation\n    if (snapEnabled) {\n      try {\n        const snapResult = await snapToPoint({ x, y });\n\n        setCanvasState(prev => ({\n          ...prev,\n          lastSnapResult: snapResult\n        }));\n\n        // Call callback\n        onSnapResult?.(snapResult);\n      } catch (error) {\n        console.error('Snap calculation failed:', error);\n      }\n    }\n\n    // Hover detection Œ≥ŒπŒ± geometry selection\n    if (selectionMode) {\n      const hoveredGeometry = findGeometryAtPoint({ x, y });\n      setCanvasState(prev => ({\n        ...prev,\n        hoverGeometry: hoveredGeometry\n      }));\n    }\n  }, [interactive, snapEnabled, snapToPoint, onSnapResult, selectionMode]);\n\n  const handleMouseClick = useCallback((e: React.MouseEvent<HTMLCanvasElement>) => {\n    if (!interactive) return;\n\n    const rect = canvasRef.current?.getBoundingClientRect();\n    if (!rect) return;\n\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n\n    if (selectionMode) {\n      // Select geometry\n      const clickedGeometry = findGeometryAtPoint({ x, y });\n      setCanvasState(prev => ({\n        ...prev,\n        selectedGeometry: clickedGeometry\n      }));\n\n      if (clickedGeometry) {\n        onGeometrySelect?.(clickedGeometry);\n      }\n    }\n\n    if (drawingMode) {\n      // Drawing functionality - simplified example\n      // Real implementation Œ∏Œ± ŒµŒØœáŒµ Œ¥ŒπŒ¨œÜŒøœÅŒ± drawing tools\n      console.log('Drawing at:', { x, y });\n    }\n  }, [interactive, selectionMode, drawingMode, onGeometrySelect]);\n\n  const findGeometryAtPoint = useCallback((point: { x: number; y: number }): GeometryEntity | null => {\n    // Simple hit testing - production implementation Œ∏Œ± œáœÅŒ∑œÉŒπŒºŒøœÄŒøŒπŒøœçœÉŒµ spatial index\n    for (const geometry of geometries) {\n      if (isPointInGeometry(point, geometry)) {\n        return geometry;\n      }\n    }\n    return null;\n  }, [geometries]);\n\n  const isPointInGeometry = (point: { x: number; y: number }, geometry: GeometryEntity): boolean => {\n    // Simple bounding box check - real implementation Œ∏Œ± Œ≠Œ∫Œ±ŒΩŒµ accurate hit testing\n    const tolerance = 5;\n    const bounds = geometry.bounds;\n\n    return point.x >= bounds.minX - tolerance &&\n           point.x <= bounds.maxX + tolerance &&\n           point.y >= bounds.minY - tolerance &&\n           point.y <= bounds.maxY + tolerance;\n  };\n\n  // ========================================\n  // üì± TOUCH HANDLERS Œ≥ŒπŒ± Mobile Support\n  // ========================================\n\n  const handleTouchMove = useCallback((e: React.TouchEvent<HTMLCanvasElement>) => {\n    if (!isMobile || !interactive) return;\n\n    e.preventDefault();\n    const touch = e.touches[0];\n    const rect = canvasRef.current?.getBoundingClientRect();\n    if (!rect) return;\n\n    const x = touch.clientX - rect.left;\n    const y = touch.clientY - rect.top;\n\n    // Simulate mouse move Œ≥ŒπŒ± mobile\n    handleMouseMove({\n      clientX: touch.clientX,\n      clientY: touch.clientY\n    } as any);\n  }, [isMobile, interactive, handleMouseMove]);\n\n  // ========================================\n  // üé® CANVAS EFFECT\n  // ========================================\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const ctx = canvas.getContext('2d');\n    if (!ctx) return;\n\n    // Render geometries\n    renderGeometries(ctx);\n  }, [renderGeometries, canvasState.selectedGeometry, canvasState.hoverGeometry]);\n\n  // ========================================\n  // üéØ RENDER\n  // ========================================\n\n  const containerStyle: React.CSSProperties = {\n    position: 'relative',\n    width,\n    height,\n    overflow: 'hidden',\n    cursor: interactive ? 'crosshair' : 'default',\n    ...style\n  };\n\n  const canvasStyle: React.CSSProperties = {\n    display: 'block',\n    width: '100%',\n    height: '100%'\n  };\n\n  return (\n    <ErrorBoundary>\n      <div\n        ref={containerRef}\n        className={`snap-canvas ${className}`}\n        style={containerStyle}\n      >\n        {/* Main Canvas */}\n        <canvas\n          ref={canvasRef}\n          width={width}\n          height={height}\n          style={canvasStyle}\n          onMouseMove={handleMouseMove}\n          onClick={handleMouseClick}\n          onTouchMove={handleTouchMove}\n          onTouchStart={handleTouchMove}\n        />\n\n        {/* Loading Overlay - œáœÅŒ∑œÉŒπŒºŒøœÄŒøŒπŒµŒØ @layera/loading */}\n        {isIndexing && (\n          <div style={{\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            right: 0,\n            bottom: 0,\n            backgroundColor: 'rgba(0,0,0,0.5)',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            zIndex: 1000\n          }}>\n            <LoadingSpinner size=\"large\" />\n          </div>\n        )}\n\n        {/* Snap Visual Feedback */}\n        {snapEnabled && canvasState.lastSnapResult && (\n          <>\n            {/* Snap Indicator */}\n            {showSnapIndicators && (\n              <SnapIndicator\n                snapResult={canvasState.lastSnapResult}\n                visible={true}\n                animated={true}\n                showTooltip={!isMobile}\n              />\n            )}\n\n            {/* Snap Guidelines */}\n            {showSnapGuidelines && (\n              <SnapGuidelines\n                snapResult={canvasState.lastSnapResult}\n                cursorPosition={canvasState.cursorPosition}\n                visible={true}\n                showDistance={!isMobile}\n              />\n            )}\n          </>\n        )}\n\n        {/* Snap Cursor */}\n        {showSnapCursor && interactive && (\n          <SnapCursor\n            snapResult={canvasState.lastSnapResult || {\n              target: null,\n              snapped: false,\n              distance: Infinity,\n              cursor: canvasState.cursorPosition,\n              snapPoint: canvasState.cursorPosition,\n              snapType: null\n            }}\n            cursorPosition={canvasState.cursorPosition}\n            visible={true}\n          />\n        )}\n      </div>\n    </ErrorBoundary>\n  );\n};\n\n// ========================================\n// üé® PRESET CANVAS CONFIGURATIONS\n// ========================================\n\nexport const CADSnapCanvas: React.FC<Omit<SnapCanvasProps, 'tolerance'>> = (props) => (\n  <SnapCanvas {...props} tolerance={5} showSnapGuidelines={true} />\n);\n\nexport const GISSnapCanvas: React.FC<Omit<SnapCanvasProps, 'tolerance'>> = (props) => (\n  <SnapCanvas {...props} tolerance={15} showSnapGuidelines={false} />\n);\n\nexport const MobileSnapCanvas: React.FC<Omit<SnapCanvasProps, 'tolerance' | 'showSnapGuidelines'>> = (props) => (\n  <SnapCanvas {...props} tolerance={25} showSnapGuidelines={false} />\n);","/**\n * üé® @layera/snap-interactions\n *\n * Interactive snap UI components Œ∫Œ±Œπ visual feedback system Œ≥ŒπŒ± Layera LEGO architecture\n *\n * ŒßœÅŒ∑œÉŒπŒºŒøœÄŒøŒπŒµŒØ existing LEGO systems:\n * - @layera/theme-switcher Œ≥ŒπŒ± theming\n * - @layera/i18n Œ≥ŒπŒ± internationalization\n * - @layera/notifications Œ≥ŒπŒ± user feedback\n * - @layera/buttons, @layera/forms, @layera/cards Œ≥ŒπŒ± UI components\n * - @layera/icons, @layera/typography, @layera/layout Œ≥ŒπŒ± styling\n *\n * @author Layera Team\n * @version 1.0.0\n */\n\n// ========================================\n// ü™ù REACT HOOKS\n// ========================================\n\nexport {\n  useSnapEngine,\n  useCADSnap,\n  useGISSnap,\n  useMobileSnap,\n  type UseSnapEngineOptions,\n  type UseSnapEngineReturn\n} from './hooks/useSnapEngine';\n\n// ========================================\n// üé® UI COMPONENTS\n// ========================================\n\n// Snap visualization components\nexport {\n  SnapIndicator,\n  SnapCursor,\n  SnapGuidelines,\n  type SnapIndicatorProps,\n  type SnapCursorProps,\n  type SnapGuidelinesProps\n} from './components/SnapIndicator';\n\n// Settings and configuration components\nexport {\n  SnapSettingsPanel,\n  SnapToolbar,\n  type SnapSettingsPanelProps,\n  type SnapToolbarProps\n} from './components/SnapSettingsPanel';\n\n// Interactive canvas component\nexport {\n  SnapCanvas,\n  CADSnapCanvas,\n  GISSnapCanvas,\n  MobileSnapCanvas,\n  type SnapCanvasProps\n} from './components/SnapCanvas';\n\n// ========================================\n// üîß UTILITY FUNCTIONS\n// ========================================\n\n/**\n * Creates snap-enabled drawing canvas ŒºŒµ optimized settings\n */\nexport function createSnapCanvas(\n  container: HTMLElement,\n  options: {\n    width: number;\n    height: number;\n    mode: 'cad' | 'gis' | 'mobile';\n    theme?: 'light' | 'dark';\n  }\n) {\n  // Factory function Œ≥ŒπŒ± programmatic canvas creation\n  // This would return a configured SnapCanvas instance\n\n  const { width, height, mode } = options;\n\n  const defaultSettings = {\n    cad: { tolerance: 5, showGuidelines: true },\n    gis: { tolerance: 15, showGuidelines: false },\n    mobile: { tolerance: 25, showGuidelines: false }\n  };\n\n  return {\n    settings: defaultSettings[mode],\n    container,\n    dimensions: { width, height }\n  };\n}\n\n/**\n * Validates snap component props Œ≥ŒπŒ± consistency\n */\nexport function validateSnapProps(props: Record<string, unknown>): {\n  valid: boolean;\n  errors: string[];\n  warnings: string[];\n} {\n  const errors: string[] = [];\n  const warnings: string[] = [];\n\n  // Tolerance validation\n  if (props.tolerance && (props.tolerance < 1 || props.tolerance > 100)) {\n    errors.push('Tolerance must be between 1 and 100 pixels');\n  }\n\n  // Canvas dimensions validation\n  if (props.width && props.width < 100) {\n    warnings.push('Canvas width is very small, may affect usability');\n  }\n\n  if (props.height && props.height < 100) {\n    warnings.push('Canvas height is very small, may affect usability');\n  }\n\n  // Performance warnings\n  if (props.geometries && props.geometries.length > 1000) {\n    warnings.push('Large number of geometries may impact performance');\n  }\n\n  return {\n    valid: errors.length === 0,\n    errors,\n    warnings\n  };\n}\n\n/**\n * Default snap interaction configurations\n */\nexport const SNAP_INTERACTION_DEFAULTS = {\n  CAD: {\n    tolerance: 5,\n    showSnapIndicators: true,\n    showSnapGuidelines: true,\n    showSnapCursor: true,\n    animatedIndicators: true,\n    enabledTypes: ['endpoint', 'midpoint', 'center', 'vertex', 'intersection']\n  },\n  GIS: {\n    tolerance: 15,\n    showSnapIndicators: true,\n    showSnapGuidelines: false,\n    showSnapCursor: true,\n    animatedIndicators: false,\n    enabledTypes: ['endpoint', 'vertex', 'nearest']\n  },\n  MOBILE: {\n    tolerance: 25,\n    showSnapIndicators: true,\n    showSnapGuidelines: false,\n    showSnapCursor: false,\n    animatedIndicators: false,\n    enabledTypes: ['endpoint', 'vertex']\n  }\n} as const;\n\n/**\n * Performance optimization helpers\n */\nexport const SnapPerformanceUtils = {\n  /**\n   * Calculates optimal snap tolerance based on zoom level\n   */\n  calculateOptimalTolerance(zoomLevel: number, baselineZoom: number = 1): number {\n    const scaleFactor = zoomLevel / baselineZoom;\n    return Math.max(5, Math.min(50, 15 / scaleFactor));\n  },\n\n  /**\n   * Determines if advanced snap features should be enabled based on performance\n   */\n  shouldEnableAdvancedFeatures(geometryCount: number, isMobile: boolean): boolean {\n    if (isMobile) {\n      return geometryCount < 500;\n    }\n    return geometryCount < 2000;\n  },\n\n  /**\n   * Gets recommended snap types based on context\n   */\n  getRecommendedSnapTypes(\n    context: 'cad' | 'gis' | 'mobile',\n    performanceLevel: 'high' | 'medium' | 'low'\n  ): string[] {\n    const baseTypes = {\n      cad: ['endpoint', 'midpoint', 'center', 'vertex'],\n      gis: ['endpoint', 'vertex', 'nearest'],\n      mobile: ['endpoint', 'vertex']\n    };\n\n    const advancedTypes = {\n      cad: ['intersection', 'perpendicular', 'tangent'],\n      gis: ['center', 'midpoint'],\n      mobile: []\n    };\n\n    const base = baseTypes[context] || baseTypes.gis;\n\n    if (performanceLevel === 'high') {\n      return [...base, ...advancedTypes[context]];\n    }\n\n    return base;\n  }\n};\n\n// ========================================\n// üéØ COMPONENT INTEGRATION HELPERS\n// ========================================\n\n/**\n * Higher-order component Œ≥ŒπŒ± snap functionality\n */\nexport function withSnapSupport<P extends object>(\n  Component: React.ComponentType<P>\n): React.ComponentType<P & { snapEnabled?: boolean; snapTolerance?: number }> {\n  return (props) => {\n    const { snapEnabled = true, snapTolerance = 10, ...componentProps } = props;\n\n    // This would wrap the component with snap context\n    // Implementation would provide snap functionality to wrapped component\n\n    return React.createElement(Component, componentProps as P);\n  };\n}\n\n/**\n * Context provider Œ≥ŒπŒ± snap settings across component tree\n */\nexport interface SnapContextValue {\n  enabled: boolean;\n  tolerance: number;\n  enabledTypes: Set<string>;\n  setEnabled: (enabled: boolean) => void;\n  setTolerance: (tolerance: number) => void;\n  toggleSnapType: (type: string, enabled: boolean) => void;\n}\n\n// Note: Full context implementation Œ∏Œ± ŒÆœÑŒ±ŒΩ ŒµŒ¥œé\n// export const SnapContext = React.createContext<SnapContextValue | null>(null);\n// export const useSnapContext = () => { ... };\n\n// ========================================\n// üìä VERSION INFORMATION\n// ========================================\n\nexport const VERSION = '1.0.0';\nexport const BUILD_INFO = {\n  version: VERSION,\n  buildDate: new Date().toISOString(),\n  dependencies: {\n    engine: '@layera/snap-engine@1.0.0',\n    theme: '@layera/theme-switcher@workspace:*',\n    i18n: '@layera/i18n@workspace:*',\n    notifications: '@layera/notifications@workspace:*',\n    buttons: '@layera/buttons@workspace:*',\n    forms: '@layera/forms@workspace:*',\n    cards: '@layera/cards@workspace:*',\n    icons: '@layera/icons@workspace:*',\n    typography: '@layera/typography@workspace:*',\n    layout: '@layera/layout@workspace:*',\n    loading: '@layera/loading@workspace:*',\n    errorBoundary: '@layera/error-boundary@workspace:*',\n    viewport: '@layera/viewport@workspace:*',\n    constants: '@layera/constants@workspace:*'\n  },\n  features: [\n    'React hooks Œ≥ŒπŒ± snap integration',\n    'Visual snap indicators ŒºŒµ theming support',\n    'Interactive snap canvas ŒºŒµ touch support',\n    'Configurable snap settings panel',\n    'Mobile-optimized snap toolbar',\n    'Performance-aware rendering',\n    'Accessibility compliant',\n    'TypeScript strict typing',\n    'Error boundary protection',\n    'Internationalization support'\n  ]\n};\n\n// ========================================\n// üéØ DEFAULT EXPORT\n// ========================================\n\nexport { useSnapEngine as default };"]}