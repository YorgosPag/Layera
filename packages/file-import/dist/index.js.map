{"version":3,"sources":["../src/index.ts","../src/components/FileImporter.tsx","../../typography/src/components/Text.tsx","../../typography/src/components/Heading.tsx","../../typography/src/hooks/useTypography.ts","../src/hooks/useFileImport.ts","../src/types/index.ts","../src/utils/fileValidation.ts","../src/components/DragDropZone.tsx","../src/components/FileList.tsx","../src/components/FilePreview.tsx"],"sourcesContent":["// Core components\r\nexport { FileImporter } from './components/FileImporter';\r\nexport type { FileImporterProps } from './components/FileImporter';\r\n\r\nexport { DragDropZone } from './components/DragDropZone';\r\nexport type { DragDropZoneProps } from './components/DragDropZone';\r\n\r\nexport { FileList } from './components/FileList';\r\nexport type { FileListProps } from './components/FileList';\r\n\r\nexport { FilePreview } from './components/FilePreview';\r\nexport type { FilePreviewProps } from './components/FilePreview';\r\n\r\n// Hooks\r\nexport { useFileImport } from './hooks/useFileImport';\r\nexport type {\r\n  UseFileImportOptions,\r\n  UseFileImportReturn\r\n} from './hooks/useFileImport';\r\n\r\n// Types\r\nexport type {\r\n  ImportedFile,\r\n  FileMetadata,\r\n  FileValidationRule,\r\n  ValidationResult,\r\n  ValidationError,\r\n  ValidationWarning,\r\n  FileProcessingOptions,\r\n  FileImportProgress,\r\n  DragDropState,\r\n  SupportedFormat,\r\n  FileTypeInfo,\r\n  FileImportEvent\r\n} from './types';\r\n\r\n// Error classes\r\nexport {\r\n  FileImportError,\r\n  FileSizeError,\r\n  FileTypeError\r\n} from './types';\r\n\r\n// Utilities\r\nexport {\r\n  validateFile,\r\n  detectFileType,\r\n  extractFileMetadata,\r\n  SUPPORTED_FILE_TYPES\r\n} from './utils/fileValidation';","import React, { useState, useCallback } from 'react';\r\nimport { BaseCard } from '@layera/cards';\r\nimport { Button } from '@layera/buttons';\r\nimport { LoadingSpinner } from '@layera/loading';\r\nimport { useLayeraTranslation } from '@layera/i18n';\r\nimport { ErrorBoundary } from '@layera/error-boundary';\r\nimport { Heading, Text } from '@layera/typography';\r\n\r\n// Enterprise-safe wrapper functions για React 19 compatibility\r\ninterface SafeErrorBoundaryProps {\r\n  children: React.ReactNode;\r\n  fallback?: React.ReactNode;\r\n}\r\n\r\nconst SafeErrorBoundary: React.FC<SafeErrorBoundaryProps> = ({ children, fallback }) => {\r\n  return React.createElement(ErrorBoundary, { fallback }, children);\r\n};\r\n\r\ninterface SafeLoadingSpinnerProps {\r\n  size?: 'xs' | 'sm' | 'md' | 'lg' | 'xl';\r\n}\r\n\r\nconst SafeLoadingSpinner: React.FC<SafeLoadingSpinnerProps> = (props) => {\r\n  return React.createElement(LoadingSpinner, props);\r\n};\r\nimport {\r\n  ImportedFile,\r\n  SupportedFormat,\r\n  FileImportProgress\r\n} from '../types';\r\nimport { useFileImport } from '../hooks/useFileImport';\r\nimport { DragDropZone } from './DragDropZone';\r\nimport { FileList } from './FileList';\r\nimport { FilePreview } from './FilePreview';\r\n\r\nexport interface FileImporterProps {\r\n  // Core functionality\r\n  onFileImported: (files: ImportedFile[]) => void;\r\n  acceptedFormats: SupportedFormat[];\r\n\r\n  // Customization\r\n  maxFileSize?: number;\r\n  maxFiles?: number;\r\n  allowMultiple?: boolean;\r\n  showPreview?: boolean;\r\n  showProgress?: boolean;\r\n\r\n  // UI customization\r\n  compact?: boolean;\r\n  disabled?: boolean;\r\n  title?: string;\r\n  description?: string;\r\n\r\n  // Callbacks\r\n  onProgress?: (progress: FileImportProgress) => void;\r\n  onError?: (error: Error) => void;\r\n}\r\n\r\nexport const FileImporter: React.FC<FileImporterProps> = ({\r\n  onFileImported,\r\n  acceptedFormats,\r\n  maxFileSize = 100 * 1024 * 1024, // 100MB\r\n  maxFiles = 10,\r\n  allowMultiple = true,\r\n  showPreview = true,\r\n  showProgress = true,\r\n  compact = false,\r\n  disabled = false,\r\n  title,\r\n  description,\r\n  onProgress,\r\n  onError\r\n}) => {\r\n  const { t } = useLayeraTranslation();\r\n  const [selectedFile, setSelectedFile] = useState<ImportedFile | null>(null);\r\n\r\n  const {\r\n    files,\r\n    isProcessing,\r\n    progress,\r\n    error,\r\n    importFiles,\r\n    removeFile,\r\n    clearFiles,\r\n    retryFile\r\n  } = useFileImport({\r\n    allowedFormats: acceptedFormats,\r\n    maxFileSize,\r\n    maxFiles,\r\n    showNotifications: true,\r\n    ...(onProgress && { onProgress }),\r\n    onComplete: onFileImported,\r\n    ...(onError && { onError })\r\n  });\r\n\r\n  const handleFilesDrop = useCallback(async (droppedFiles: FileList | File[]) => {\r\n    if (disabled) return;\r\n\r\n    try {\r\n      await importFiles(droppedFiles);\r\n    } catch (error) {\r\n      console.error('File import failed:', error);\r\n    }\r\n  }, [disabled, importFiles]);\r\n\r\n  const handleFileInputChange = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const files = event.target.files;\r\n    if (files && files.length > 0) {\r\n      handleFilesDrop(files);\r\n    }\r\n    // Reset input\r\n    event.target.value = '';\r\n  }, [handleFilesDrop]);\r\n\r\n  const handleFileSelect = useCallback((file: ImportedFile) => {\r\n    setSelectedFile(file);\r\n  }, []);\r\n\r\n  const handleFileRemove = useCallback((fileId: string) => {\r\n    removeFile(fileId);\r\n    if (selectedFile?.id === fileId) {\r\n      setSelectedFile(null);\r\n    }\r\n  }, [removeFile, selectedFile]);\r\n\r\n  const formatFileTypes = useCallback(() => {\r\n    return acceptedFormats.map(format => `.${format}`).join(', ');\r\n  }, [acceptedFormats]);\r\n\r\n  const formatMaxSize = useCallback(() => {\r\n    const mb = maxFileSize / (1024 * 1024);\r\n    return mb >= 1 ? `${Math.round(mb)}MB` : `${Math.round(maxFileSize / 1024)}KB`;\r\n  }, [maxFileSize]);\r\n\r\n  if (compact) {\r\n    return (\r\n      <SafeErrorBoundary fallback={<div>{t('file.import.error.boundary')}</div>}>\r\n        <div className=\"file-importer-compact\">\r\n          <DragDropZone\r\n            onFilesDrop={handleFilesDrop}\r\n            acceptedFormats={acceptedFormats}\r\n            disabled={disabled || isProcessing}\r\n            compact={true}\r\n          >\r\n            <input\r\n              type=\"file\"\r\n              multiple={allowMultiple}\r\n              accept={formatFileTypes()}\r\n              onChange={handleFileInputChange}\r\n              disabled={disabled || isProcessing}\r\n              style={{ display: 'none' }}\r\n              id=\"file-input-compact\"\r\n            />\r\n            <label htmlFor=\"file-input-compact\">\r\n              <Button\r\n                variant=\"primary\"\r\n                disabled={disabled || isProcessing}\r\n                style={{ cursor: disabled || isProcessing ? 'not-allowed' : 'pointer' }}\r\n              >\r\n                {isProcessing ? (\r\n                  <>\r\n                    <SafeLoadingSpinner size=\"sm\" />\r\n                    {t('file.import.processing')}\r\n                  </>\r\n                ) : (\r\n                  t('file.import.select.files')\r\n                )}\r\n              </Button>\r\n            </label>\r\n\r\n            {showProgress && isProcessing && (\r\n              <div style={{ marginTop: '8px', fontSize: '12px', color: '#666' }}>\r\n                {t('file.import.progress')}: {Math.round(progress)}%\r\n              </div>\r\n            )}\r\n          </DragDropZone>\r\n        </div>\r\n      </SafeErrorBoundary>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <SafeErrorBoundary fallback={<div>{t('file.import.error.boundary')}</div>}>\r\n      <BaseCard className=\"file-importer\">\r\n        <div style={{ padding: '16px', borderBottom: '1px solid #eee' }}>\r\n          <Heading as=\"h3\">\r\n            {title || t('file.import.title')}\r\n          </Heading>\r\n          <Text size=\"sm\" color=\"secondary\">\r\n            {description || t('file.import.description', {\r\n              formats: formatFileTypes(),\r\n              maxSize: formatMaxSize(),\r\n              maxFiles\r\n            })}\r\n          </Text>\r\n        </div>\r\n\r\n        <div style={{ padding: '16px' }}>\r\n          {/* Drop zone */}\r\n          <DragDropZone\r\n            onFilesDrop={handleFilesDrop}\r\n            acceptedFormats={acceptedFormats}\r\n            disabled={disabled || isProcessing}\r\n            maxFiles={maxFiles}\r\n            showHelper={files.length === 0}\r\n          >\r\n            <input\r\n              type=\"file\"\r\n              multiple={allowMultiple}\r\n              accept={formatFileTypes()}\r\n              onChange={handleFileInputChange}\r\n              disabled={disabled || isProcessing}\r\n              style={{ display: 'none' }}\r\n              id=\"file-input\"\r\n            />\r\n            <label htmlFor=\"file-input\">\r\n              <Button\r\n                variant=\"primary\"\r\n                size=\"lg\"\r\n                disabled={disabled || isProcessing}\r\n                style={{ cursor: disabled || isProcessing ? 'not-allowed' : 'pointer' }}\r\n              >\r\n                {isProcessing ? (\r\n                  <>\r\n                    <SafeLoadingSpinner size=\"sm\" />\r\n                    {t('file.import.processing')}\r\n                  </>\r\n                ) : (\r\n                  t('file.import.select.files')\r\n                )}\r\n              </Button>\r\n            </label>\r\n          </DragDropZone>\r\n\r\n          {/* Progress display */}\r\n          {showProgress && isProcessing && (\r\n            <div style={{ marginTop: '16px', padding: '12px', backgroundColor: '#f5f5f5', borderRadius: '4px' }}>\r\n              <div style={{ fontSize: '14px', marginBottom: '4px' }}>\r\n                {t('file.import.progress')}: {Math.round(progress)}%\r\n              </div>\r\n              <div style={{ width: '100%', height: '4px', backgroundColor: '#e0e0e0', borderRadius: '2px' }}>\r\n                <div\r\n                  style={{\r\n                    width: `${progress}%`,\r\n                    height: '100%',\r\n                    backgroundColor: '#007bff',\r\n                    borderRadius: '2px',\r\n                    transition: 'width 0.3s ease'\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Error display */}\r\n          {error && (\r\n            <div style={{ marginTop: '16px' }}>\r\n              <Text color=\"danger\">{error}</Text>\r\n            </div>\r\n          )}\r\n\r\n          {/* File list */}\r\n          {files.length > 0 && (\r\n            <div style={{ marginTop: '16px' }}>\r\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '8px' }}>\r\n                <Text size=\"base\" weight=\"medium\">\r\n                  {t('file.import.files.selected', { count: files.length })}\r\n                </Text>\r\n                <Button\r\n                  variant=\"secondary\"\r\n                  size=\"sm\"\r\n                  onClick={clearFiles}\r\n                  disabled={isProcessing}\r\n                >\r\n                  {t('file.import.clear.all')}\r\n                </Button>\r\n              </div>\r\n\r\n              <FileList\r\n                files={files}\r\n                onFileSelect={handleFileSelect}\r\n                onFileRemove={handleFileRemove}\r\n                onFileRetry={retryFile}\r\n                {...(selectedFile?.id && { selectedFileId: selectedFile.id })}\r\n                disabled={isProcessing}\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {/* File preview */}\r\n          {showPreview && selectedFile && (\r\n            <div style={{ marginTop: '16px' }}>\r\n              <FilePreview\r\n                file={selectedFile}\r\n                onClose={() => setSelectedFile(null)}\r\n              />\r\n            </div>\r\n          )}\r\n        </div>\r\n      </BaseCard>\r\n    </SafeErrorBoundary>\r\n  );\r\n};","import React from 'react';\r\nimport { TextProps } from '../types';\r\n\r\n/**\r\n * Text Component - Βασικό text component για το Layera Design System\r\n *\r\n * Χρησιμοποιείται για paragraphs, labels, spans και άλλα text elements\r\n * με ενιαία typography standards\r\n */\r\nexport const Text: React.FC<TextProps> = ({\r\n  size = 'base',\r\n  weight = 'normal',\r\n  align = 'left',\r\n  color = 'secondary',\r\n  lineHeight = 'normal',\r\n  className = '',\r\n  as: Component = 'p',\r\n  children,\r\n  ...props\r\n}) => {\r\n  const classes = [\r\n    'layera-text',\r\n    `layera-text-${size}`,\r\n    `layera-font-${weight}`,\r\n    `layera-text-${align}`,\r\n    `layera-text-${color}`,\r\n    `layera-leading-${lineHeight}`,\r\n    className\r\n  ].filter(Boolean).join(' ');\r\n\r\n  return (\r\n    <Component className={classes} {...props}>\r\n      {children}\r\n    </Component>\r\n  );\r\n};\r\n\r\nText.displayName = 'LayeraText';","import React from 'react';\r\nimport { HeadingProps } from '../types';\r\n\r\n/**\r\n * Heading Component - Enterprise heading component για το Layera Design System\r\n *\r\n * Δημιουργεί semantic headings (h1-h6) με ενιαία typography standards\r\n * και προκαθορισμένα styles για enterprise εφαρμογές\r\n */\r\nexport const Heading: React.FC<HeadingProps> = ({\r\n  size = '2xl',\r\n  weight = 'semibold',\r\n  align = 'left',\r\n  color = 'primary',\r\n  lineHeight = 'tight',\r\n  className = '',\r\n  as: Component = 'h2',\r\n  children,\r\n  ...props\r\n}) => {\r\n  // Προκαθορισμένα styles βάσει του heading level\r\n  const getDefaultStylesForLevel = () => {\r\n    switch (Component) {\r\n      case 'h1':\r\n        return {\r\n          size: '4xl' as const,\r\n          weight: 'extrabold' as const,\r\n          lineHeight: 'tight' as const\r\n        };\r\n      case 'h2':\r\n        return {\r\n          size: '3xl' as const,\r\n          weight: 'bold' as const,\r\n          lineHeight: 'tight' as const\r\n        };\r\n      case 'h3':\r\n        return {\r\n          size: '2xl' as const,\r\n          weight: 'semibold' as const,\r\n          lineHeight: 'snug' as const\r\n        };\r\n      case 'h4':\r\n        return {\r\n          size: 'xl' as const,\r\n          weight: 'semibold' as const,\r\n          lineHeight: 'snug' as const\r\n        };\r\n      case 'h5':\r\n        return {\r\n          size: 'lg' as const,\r\n          weight: 'medium' as const,\r\n          lineHeight: 'normal' as const\r\n        };\r\n      case 'h6':\r\n        return {\r\n          size: 'base' as const,\r\n          weight: 'medium' as const,\r\n          lineHeight: 'normal' as const\r\n        };\r\n      default:\r\n        return { size, weight, lineHeight };\r\n    }\r\n  };\r\n\r\n  const defaults = getDefaultStylesForLevel();\r\n  const finalSize = size || defaults.size;\r\n  const finalWeight = weight || defaults.weight;\r\n  const finalLineHeight = lineHeight || defaults.lineHeight;\r\n\r\n  const classes = [\r\n    'layera-text',\r\n    `layera-text-${finalSize}`,\r\n    `layera-font-${finalWeight}`,\r\n    `layera-text-${align}`,\r\n    `layera-text-${color}`,\r\n    `layera-leading-${finalLineHeight}`,\r\n    className\r\n  ].filter(Boolean).join(' ');\r\n\r\n  return (\r\n    <Component className={classes} {...props}>\r\n      {children}\r\n    </Component>\r\n  );\r\n};\r\n\r\nHeading.displayName = 'LayeraHeading';","import { useMemo } from 'react';\r\nimport { FontSize, FontWeight, LineHeight, TypographyScale } from '../types';\r\n\r\n/**\r\n * useTypography Hook - Παρέχει πρόσβαση στο Layera Typography Scale\r\n *\r\n * Επιστρέφει τα typography tokens και utility functions\r\n * για programmatic χρήση των typography standards\r\n */\r\nexport const useTypography = () => {\r\n  const typographyScale: TypographyScale = useMemo(() => ({\r\n    fontSizes: {\r\n      xs: '0.75rem',      // 12px\r\n      sm: '0.875rem',     // 14px\r\n      base: '1rem',       // 16px\r\n      lg: '1.125rem',     // 18px\r\n      xl: '1.25rem',      // 20px\r\n      '2xl': '1.5rem',    // 24px\r\n      '3xl': '1.875rem',  // 30px\r\n      '4xl': '2.25rem',   // 36px\r\n      '5xl': '3rem',      // 48px\r\n      '6xl': '3.75rem'    // 60px\r\n    },\r\n    fontWeights: {\r\n      light: 300,\r\n      normal: 400,\r\n      medium: 500,\r\n      semibold: 600,\r\n      bold: 700,\r\n      extrabold: 800\r\n    },\r\n    lineHeights: {\r\n      tight: 1.25,\r\n      snug: 1.375,\r\n      normal: 1.5,\r\n      relaxed: 1.625,\r\n      loose: 2\r\n    },\r\n    letterSpacing: {\r\n      xs: '-0.025em',\r\n      sm: '-0.0125em',\r\n      base: '0em',\r\n      lg: '0.0125em',\r\n      xl: '0.025em',\r\n      '2xl': '0.025em',\r\n      '3xl': '0.025em',\r\n      '4xl': '0.025em',\r\n      '5xl': '0.025em',\r\n      '6xl': '0.025em'\r\n    }\r\n  }), []);\r\n\r\n  /**\r\n   * Δημιουργεί CSS styles object από typography props\r\n   */\r\n  const getTypographyStyles = ({\r\n    size = 'base',\r\n    weight = 'normal',\r\n    lineHeight = 'normal'\r\n  }: {\r\n    size?: FontSize;\r\n    weight?: FontWeight;\r\n    lineHeight?: LineHeight;\r\n  }) => {\r\n    return {\r\n      fontSize: typographyScale.fontSizes[size],\r\n      fontWeight: typographyScale.fontWeights[weight],\r\n      lineHeight: typographyScale.lineHeights[lineHeight],\r\n      letterSpacing: typographyScale.letterSpacing[size],\r\n      fontFamily: 'var(--layera-font-family-sans)'\r\n    };\r\n  };\r\n\r\n  /**\r\n   * Δημιουργεί CSS classes string από typography props\r\n   */\r\n  const getTypographyClasses = ({\r\n    size = 'base',\r\n    weight = 'normal',\r\n    lineHeight = 'normal',\r\n    color = 'secondary',\r\n    align = 'left'\r\n  }: {\r\n    size?: FontSize;\r\n    weight?: FontWeight;\r\n    lineHeight?: LineHeight;\r\n    color?: string;\r\n    align?: string;\r\n  }) => {\r\n    return [\r\n      'layera-text',\r\n      `layera-text-${size}`,\r\n      `layera-font-${weight}`,\r\n      `layera-leading-${lineHeight}`,\r\n      `layera-text-${color}`,\r\n      `layera-text-${align}`\r\n    ].join(' ');\r\n  };\r\n\r\n  /**\r\n   * Επιστρέφει τα CSS custom properties ως object\r\n   */\r\n  const getCSSCustomProperties = () => {\r\n    return {\r\n      '--layera-font-family-sans': 'Inter, system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif',\r\n      '--layera-font-family-mono': '\"SF Mono\", Monaco, \"Cascadia Code\", \"Roboto Mono\", Consolas, \"Courier New\", monospace',\r\n      ...Object.fromEntries(\r\n        Object.entries(typographyScale.fontSizes).map(([key, value]) => [\r\n          `--layera-text-${key}`,\r\n          value\r\n        ])\r\n      ),\r\n      ...Object.fromEntries(\r\n        Object.entries(typographyScale.fontWeights).map(([key, value]) => [\r\n          `--layera-font-${key}`,\r\n          value\r\n        ])\r\n      ),\r\n      ...Object.fromEntries(\r\n        Object.entries(typographyScale.lineHeights).map(([key, value]) => [\r\n          `--layera-leading-${key}`,\r\n          value\r\n        ])\r\n      )\r\n    };\r\n  };\r\n\r\n  return {\r\n    scale: typographyScale,\r\n    getTypographyStyles,\r\n    getTypographyClasses,\r\n    getCSSCustomProperties\r\n  };\r\n};\r\n\r\nexport default useTypography;","import { useState, useCallback, useRef } from 'react';\r\nimport { useNotifications } from '@layera/notifications';\r\nimport { useLayeraTranslation } from '@layera/i18n';\r\nimport {\r\n  ImportedFile,\r\n  FileValidationRule,\r\n  FileImportProgress,\r\n  FileImportError,\r\n  SupportedFormat\r\n} from '../types';\r\nimport { validateFile, extractFileMetadata, SUPPORTED_FILE_TYPES } from '../utils/fileValidation';\r\n\r\nexport interface UseFileImportOptions {\r\n  allowedFormats?: SupportedFormat[];\r\n  maxFileSize?: number;\r\n  maxFiles?: number;\r\n  autoProcess?: boolean;\r\n  showNotifications?: boolean;\r\n  onProgress?: (progress: FileImportProgress) => void;\r\n  onComplete?: (files: ImportedFile[]) => void;\r\n  onError?: (error: FileImportError) => void;\r\n}\r\n\r\nexport interface UseFileImportReturn {\r\n  // State\r\n  files: ImportedFile[];\r\n  isProcessing: boolean;\r\n  progress: number;\r\n  error: string | null;\r\n\r\n  // Actions\r\n  importFiles: (fileList: FileList | File[]) => Promise<ImportedFile[]>;\r\n  importSingleFile: (file: File) => Promise<ImportedFile>;\r\n  removeFile: (fileId: string) => void;\r\n  clearFiles: () => void;\r\n  retryFile: (fileId: string) => Promise<void>;\r\n\r\n  // Validation\r\n  validateFiles: (fileList: FileList | File[]) => Promise<boolean>;\r\n  isFileSupported: (file: File) => boolean;\r\n}\r\n\r\nexport function useFileImport(options: UseFileImportOptions = {}): UseFileImportReturn {\r\n  const { t } = useLayeraTranslation();\r\n  const { addNotification } = useNotifications();\r\n  const [files, setFiles] = useState<ImportedFile[]>([]);\r\n  const [isProcessing, setIsProcessing] = useState(false);\r\n  const [progress, setProgress] = useState(0);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const abortControllerRef = useRef<AbortController | null>(null);\r\n\r\n  const {\r\n    allowedFormats,\r\n    maxFileSize = 100 * 1024 * 1024, // 100MB default\r\n    maxFiles = 10,\r\n    showNotifications = true,\r\n    onProgress,\r\n    onComplete,\r\n    onError\r\n  } = options;\r\n\r\n  // Create validation rules από options\r\n  const validationRules: FileValidationRule = {\r\n    maxSize: maxFileSize,\r\n    allowedExtensions: allowedFormats || Object.keys(SUPPORTED_FILE_TYPES),\r\n    allowedMimeTypes: allowedFormats\r\n      ? allowedFormats.flatMap(format => SUPPORTED_FILE_TYPES[format]?.mimeTypes || [])\r\n      : []\r\n  };\r\n\r\n  const generateFileId = useCallback((): string => {\r\n    return `file-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\r\n  }, []);\r\n\r\n  const updateFileStatus = useCallback((\r\n    fileId: string,\r\n    updates: Partial<ImportedFile>\r\n  ) => {\r\n    setFiles(prev => prev.map(f =>\r\n      f.id === fileId ? { ...f, ...updates } : f\r\n    ));\r\n  }, []);\r\n\r\n  const reportProgress = useCallback((fileId: string, progress: number, stage: string, message: string) => {\r\n    const progressData: FileImportProgress = {\r\n      fileId,\r\n      stage: stage as FileImportProgress['stage'],\r\n      progress,\r\n      message\r\n    };\r\n\r\n    updateFileStatus(fileId, { progress });\r\n    onProgress?.(progressData);\r\n  }, [updateFileStatus, onProgress]);\r\n\r\n  const processFile = useCallback(async (file: File): Promise<ImportedFile> => {\r\n    const fileId = generateFileId();\r\n\r\n    const importedFile: ImportedFile = {\r\n      id: fileId,\r\n      file,\r\n      metadata: { name: file.name, size: file.size, type: file.type, lastModified: file.lastModified },\r\n      status: 'pending',\r\n      progress: 0\r\n    };\r\n\r\n    setFiles(prev => [...prev, importedFile]);\r\n\r\n    try {\r\n      // Step 1: Validation\r\n      reportProgress(fileId, 10, 'validation', t('file.import.validating'));\r\n      updateFileStatus(fileId, { status: 'processing' });\r\n\r\n      const validationResult = await validateFile(file, validationRules);\r\n\r\n      if (!validationResult.isValid) {\r\n        const errorMessage = validationResult.errors.map(e => e.message).join(', ');\r\n        throw new FileImportError(errorMessage, 'VALIDATION_FAILED', fileId);\r\n      }\r\n\r\n      // Show warnings αν υπάρχουν\r\n      if (validationResult.warnings.length > 0 && showNotifications) {\r\n        validationResult.warnings.forEach(warning => {\r\n          addNotification({\r\n            type: 'warning',\r\n            message: warning.message,\r\n            duration: 4000,\r\n            ...(warning.suggestion && {\r\n              action: { label: t('file.import.suggestion'), onClick: () => {} }\r\n            })\r\n          });\r\n        });\r\n      }\r\n\r\n      // Step 2: Metadata extraction\r\n      reportProgress(fileId, 30, 'processing', t('file.import.extracting.metadata'));\r\n      const metadata = await extractFileMetadata(file);\r\n\r\n      // Step 3: File processing (read data)\r\n      reportProgress(fileId, 60, 'processing', t('file.import.reading.file'));\r\n      const processedData = await file.arrayBuffer();\r\n\r\n      // Step 4: Preview generation (για images)\r\n      let previewUrl = '';\r\n      if (metadata.type.startsWith('image/')) {\r\n        reportProgress(fileId, 80, 'preview', t('file.import.generating.preview'));\r\n        previewUrl = URL.createObjectURL(file);\r\n      }\r\n\r\n      // Step 5: Complete\r\n      reportProgress(fileId, 100, 'complete', t('file.import.completed'));\r\n\r\n      const completedFile: ImportedFile = {\r\n        ...importedFile,\r\n        metadata,\r\n        status: 'completed',\r\n        progress: 100,\r\n        processedData,\r\n        previewUrl\r\n      };\r\n\r\n      updateFileStatus(fileId, completedFile);\r\n\r\n      if (showNotifications) {\r\n        addNotification({\r\n          type: 'success',\r\n          message: t('file.import.success', { filename: file.name }),\r\n          duration: 3000\r\n        });\r\n      }\r\n\r\n      return completedFile;\r\n\r\n    } catch (error) {\r\n      const errorMessage = error instanceof Error ? error.message : t('file.import.unknown.error');\r\n\r\n      updateFileStatus(fileId, {\r\n        status: 'error',\r\n        error: errorMessage\r\n      });\r\n\r\n      if (showNotifications) {\r\n        addNotification({\r\n          type: 'error',\r\n          message: t('file.import.failed', {\r\n            filename: file.name,\r\n            error: errorMessage\r\n          }),\r\n          duration: 5000,\r\n          action: { label: t('file.import.retry'), onClick: () => retryFile(fileId) }\r\n        });\r\n      }\r\n\r\n      const fileError = error instanceof FileImportError\r\n        ? error\r\n        : new FileImportError(errorMessage, 'PROCESSING_FAILED', fileId);\r\n\r\n      onError?.(fileError);\r\n      throw fileError;\r\n    }\r\n  }, [generateFileId, validationRules, reportProgress, updateFileStatus, showNotifications, onError, t]);\r\n\r\n  const importFiles = useCallback(async (fileList: FileList | File[]): Promise<ImportedFile[]> => {\r\n    const filesArray = Array.from(fileList);\r\n\r\n    // Validate total file count\r\n    if (files.length + filesArray.length > maxFiles) {\r\n      const error = new FileImportError(\r\n        t('file.import.too.many.files', { max: maxFiles }),\r\n        'TOO_MANY_FILES'\r\n      );\r\n\r\n      if (showNotifications) {\r\n        addNotification({\r\n          type: 'error',\r\n          message: error.message\r\n        });\r\n      }\r\n\r\n      onError?.(error);\r\n      throw error;\r\n    }\r\n\r\n    setIsProcessing(true);\r\n    setError(null);\r\n    abortControllerRef.current = new AbortController();\r\n\r\n    const processedFiles: ImportedFile[] = [];\r\n\r\n    try {\r\n      for (let i = 0; i < filesArray.length; i++) {\r\n        if (abortControllerRef.current?.signal.aborted) {\r\n          break;\r\n        }\r\n\r\n        const file = filesArray[i];\r\n        const overallProgress = ((i + 1) / filesArray.length) * 100;\r\n        setProgress(overallProgress);\r\n\r\n        try {\r\n          const processedFile = await processFile(file);\r\n          processedFiles.push(processedFile);\r\n        } catch (error) {\r\n          // Continue με άλλα files αν ένα fail\r\n          console.warn(`Failed to process file ${file.name}:`, error);\r\n        }\r\n      }\r\n\r\n      onComplete?.(processedFiles);\r\n      return processedFiles;\r\n\r\n    } finally {\r\n      setIsProcessing(false);\r\n      setProgress(0);\r\n      abortControllerRef.current = null;\r\n    }\r\n  }, [files.length, maxFiles, processFile, onComplete, onError, showNotifications, t]);\r\n\r\n  const importSingleFile = useCallback(async (file: File): Promise<ImportedFile> => {\r\n    return processFile(file);\r\n  }, [processFile]);\r\n\r\n  const removeFile = useCallback((fileId: string) => {\r\n    setFiles(prev => {\r\n      const file = prev.find(f => f.id === fileId);\r\n      if (file?.previewUrl) {\r\n        URL.revokeObjectURL(file.previewUrl);\r\n      }\r\n      return prev.filter(f => f.id !== fileId);\r\n    });\r\n  }, []);\r\n\r\n  const clearFiles = useCallback(() => {\r\n    // Cleanup preview URLs\r\n    files.forEach(file => {\r\n      if (file.previewUrl) {\r\n        URL.revokeObjectURL(file.previewUrl);\r\n      }\r\n    });\r\n\r\n    setFiles([]);\r\n    setError(null);\r\n    setProgress(0);\r\n  }, [files]);\r\n\r\n  const retryFile = useCallback(async (fileId: string): Promise<void> => {\r\n    const file = files.find(f => f.id === fileId);\r\n    if (!file) {\r\n      console.warn(`File with id ${fileId} not found for retry`);\r\n      return;\r\n    }\r\n\r\n    // Remove old file και add new one\r\n    removeFile(fileId);\r\n    await processFile(file.file);\r\n  }, [files, removeFile, processFile]);\r\n\r\n  const validateFiles = useCallback(async (fileList: FileList | File[]): Promise<boolean> => {\r\n    const filesArray = Array.from(fileList);\r\n\r\n    for (const file of filesArray) {\r\n      const result = await validateFile(file, validationRules);\r\n      if (!result.isValid) {\r\n        return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  }, [validationRules]);\r\n\r\n  const isFileSupported = useCallback((file: File): boolean => {\r\n    const extension = file.name.split('.').pop()?.toLowerCase();\r\n    return extension ? validationRules.allowedExtensions.includes(extension) : false;\r\n  }, [validationRules.allowedExtensions]);\r\n\r\n  return {\r\n    // State\r\n    files,\r\n    isProcessing,\r\n    progress,\r\n    error,\r\n\r\n    // Actions\r\n    importFiles,\r\n    importSingleFile,\r\n    removeFile,\r\n    clearFiles,\r\n    retryFile,\r\n\r\n    // Validation\r\n    validateFiles,\r\n    isFileSupported\r\n  };\r\n}","// Core file processing types\r\nexport interface FileMetadata {\r\n  name: string;\r\n  size: number;\r\n  type: string;\r\n  lastModified: number;\r\n  dimensions?: {\r\n    width: number;\r\n    height: number;\r\n  };\r\n  bounds?: unknown; // Will be L.LatLngBounds in geo context\r\n}\r\n\r\nexport interface ImportedFile {\r\n  id: string;\r\n  file: File;\r\n  metadata: FileMetadata;\r\n  status: 'pending' | 'processing' | 'completed' | 'error';\r\n  progress: number;\r\n  error?: string;\r\n  processedData?: ArrayBuffer | string;\r\n  previewUrl?: string;\r\n}\r\n\r\nexport interface FileValidationRule {\r\n  maxSize: number;\r\n  minSize?: number;\r\n  allowedExtensions: string[];\r\n  allowedMimeTypes?: string[];\r\n  customValidator?: (file: File) => Promise<ValidationResult>;\r\n}\r\n\r\nexport interface ValidationResult {\r\n  isValid: boolean;\r\n  errors: ValidationError[];\r\n  warnings: ValidationWarning[];\r\n}\r\n\r\nexport interface ValidationError {\r\n  code: string;\r\n  message: string;\r\n  severity: 'error' | 'warning';\r\n}\r\n\r\nexport interface ValidationWarning {\r\n  code: string;\r\n  message: string;\r\n  suggestion?: string;\r\n}\r\n\r\nexport interface FileProcessingOptions {\r\n  validateFile?: boolean;\r\n  generatePreview?: boolean;\r\n  extractMetadata?: boolean;\r\n  compressionLevel?: number;\r\n}\r\n\r\nexport interface FileImportProgress {\r\n  fileId: string;\r\n  stage: 'validation' | 'processing' | 'preview' | 'complete';\r\n  progress: number;\r\n  message: string;\r\n}\r\n\r\nexport interface DragDropState {\r\n  isDragging: boolean;\r\n  isOver: boolean;\r\n  canDrop: boolean;\r\n}\r\n\r\nexport type SupportedFormat = 'dxf' | 'dwg' | 'pdf' | 'jpg' | 'jpeg' | 'png' | 'webp' | 'svg' | 'tiff' | 'bmp';\r\n\r\nexport interface FileTypeInfo {\r\n  extension: string;\r\n  mimeType: string;\r\n  category: 'cad' | 'image' | 'document' | 'vector';\r\n  description: string;\r\n  maxRecommendedSize: number;\r\n}\r\n\r\n// Event types για integration με notifications\r\nexport interface FileImportEvent {\r\n  type: 'import:started' | 'import:progress' | 'import:completed' | 'import:failed';\r\n  fileId: string;\r\n  data?: unknown;\r\n}\r\n\r\n// Error types\r\nexport class FileImportError extends Error {\r\n  constructor(\r\n    message: string,\r\n    public code: string,\r\n    public fileId?: string\r\n  ) {\r\n    super(message);\r\n    this.name = 'FileImportError';\r\n  }\r\n}\r\n\r\nexport class FileSizeError extends FileImportError {\r\n  constructor(filename: string, size: number, maxSize: number) {\r\n    super(\r\n      `File ${filename} (${Math.round(size / 1024 / 1024)}MB) exceeds maximum size of ${Math.round(maxSize / 1024 / 1024)}MB`,\r\n      'FILE_TOO_LARGE'\r\n    );\r\n  }\r\n}\r\n\r\nexport class FileTypeError extends FileImportError {\r\n  constructor(filename: string, type: string, allowedTypes: string[]) {\r\n    super(\r\n      `File ${filename} has unsupported type ${type}. Allowed types: ${allowedTypes.join(', ')}`,\r\n      'UNSUPPORTED_FILE_TYPE'\r\n    );\r\n  }\r\n}","import {\r\n  FileValidationRule,\r\n  ValidationResult,\r\n  ValidationError,\r\n  ValidationWarning,\r\n  FileSizeError,\r\n  FileTypeError,\r\n  SupportedFormat\r\n} from '../types';\r\n\r\n// Supported file types με metadata\r\nexport const SUPPORTED_FILE_TYPES: Record<SupportedFormat, {\r\n  mimeTypes: string[];\r\n  maxSize: number;\r\n  description: string;\r\n  category: 'cad' | 'image' | 'document' | 'vector';\r\n}> = {\r\n  // CAD files\r\n  dxf: {\r\n    mimeTypes: ['application/dxf', 'image/vnd.dxf', 'text/plain'],\r\n    maxSize: 500 * 1024 * 1024, // 500MB\r\n    description: 'AutoCAD Drawing Exchange Format',\r\n    category: 'cad'\r\n  },\r\n  dwg: {\r\n    mimeTypes: ['application/acad', 'application/dwg', 'application/x-dwg'],\r\n    maxSize: 500 * 1024 * 1024, // 500MB\r\n    description: 'AutoCAD Drawing',\r\n    category: 'cad'\r\n  },\r\n\r\n  // Documents\r\n  pdf: {\r\n    mimeTypes: ['application/pdf'],\r\n    maxSize: 200 * 1024 * 1024, // 200MB\r\n    description: 'Portable Document Format',\r\n    category: 'document'\r\n  },\r\n\r\n  // Images\r\n  jpg: {\r\n    mimeTypes: ['image/jpeg'],\r\n    maxSize: 50 * 1024 * 1024, // 50MB\r\n    description: 'JPEG Image',\r\n    category: 'image'\r\n  },\r\n  jpeg: {\r\n    mimeTypes: ['image/jpeg'],\r\n    maxSize: 50 * 1024 * 1024, // 50MB\r\n    description: 'JPEG Image',\r\n    category: 'image'\r\n  },\r\n  png: {\r\n    mimeTypes: ['image/png'],\r\n    maxSize: 50 * 1024 * 1024, // 50MB\r\n    description: 'PNG Image',\r\n    category: 'image'\r\n  },\r\n  webp: {\r\n    mimeTypes: ['image/webp'],\r\n    maxSize: 50 * 1024 * 1024, // 50MB\r\n    description: 'WebP Image',\r\n    category: 'image'\r\n  },\r\n  tiff: {\r\n    mimeTypes: ['image/tiff', 'image/tif'],\r\n    maxSize: 100 * 1024 * 1024, // 100MB\r\n    description: 'TIFF Image',\r\n    category: 'image'\r\n  },\r\n  bmp: {\r\n    mimeTypes: ['image/bmp'],\r\n    maxSize: 25 * 1024 * 1024, // 25MB\r\n    description: 'Bitmap Image',\r\n    category: 'image'\r\n  },\r\n\r\n  // Vector graphics\r\n  svg: {\r\n    mimeTypes: ['image/svg+xml'],\r\n    maxSize: 10 * 1024 * 1024, // 10MB\r\n    description: 'Scalable Vector Graphics',\r\n    category: 'vector'\r\n  }\r\n};\r\n\r\n/**\r\n * Validates a file against the provided validation rules\r\n * Enhanced από OLD_geo-canvas validation logic\r\n */\r\nexport async function validateFile(\r\n  file: File,\r\n  rules: FileValidationRule\r\n): Promise<ValidationResult> {\r\n  const errors: ValidationError[] = [];\r\n  const warnings: ValidationWarning[] = [];\r\n\r\n  // File size validation\r\n  if (file.size > rules.maxSize) {\r\n    errors.push({\r\n      code: 'FILE_TOO_LARGE',\r\n      message: `Το αρχείο είναι πολύ μεγάλο (${formatFileSize(file.size)}). Μέγιστο επιτρεπτό μέγεθος: ${formatFileSize(rules.maxSize)}`,\r\n      severity: 'error'\r\n    });\r\n  }\r\n\r\n  if (rules.minSize && file.size < rules.minSize) {\r\n    errors.push({\r\n      code: 'FILE_TOO_SMALL',\r\n      message: `Το αρχείο είναι πολύ μικρό (${formatFileSize(file.size)}). Ελάχιστο επιτρεπτό μέγεθος: ${formatFileSize(rules.minSize)}`,\r\n      severity: 'error'\r\n    });\r\n  }\r\n\r\n  // File extension validation\r\n  const fileExtension = getFileExtension(file.name).toLowerCase();\r\n  if (!rules.allowedExtensions.includes(fileExtension)) {\r\n    errors.push({\r\n      code: 'UNSUPPORTED_FILE_TYPE',\r\n      message: `Μη υποστηριζόμενος τύπος αρχείου: .${fileExtension}. Επιτρεπτοί τύποι: ${rules.allowedExtensions.map(ext => `.${ext}`).join(', ')}`,\r\n      severity: 'error'\r\n    });\r\n  }\r\n\r\n  // MIME type validation (αν παρέχεται)\r\n  if (rules.allowedMimeTypes && rules.allowedMimeTypes.length > 0) {\r\n    if (!rules.allowedMimeTypes.includes(file.type)) {\r\n      warnings.push({\r\n        code: 'MIME_TYPE_MISMATCH',\r\n        message: `Το MIME type του αρχείου (${file.type}) δεν ταιριάζει με την επέκταση`,\r\n        suggestion: 'Ελέγξτε αν το αρχείο έχει τη σωστή επέκταση'\r\n      });\r\n    }\r\n  }\r\n\r\n  // File name validation\r\n  if (!isValidFileName(file.name)) {\r\n    warnings.push({\r\n      code: 'INVALID_FILENAME',\r\n      message: 'Το όνομα του αρχείου περιέχει μη επιτρεπτούς χαρακτήρες',\r\n      suggestion: 'Χρησιμοποιήστε μόνο γράμματα, αριθμούς, παύλες και κάτω παύλες'\r\n    });\r\n  }\r\n\r\n  // Size-based warnings\r\n  const fileTypeInfo = SUPPORTED_FILE_TYPES[fileExtension as SupportedFormat];\r\n  if (fileTypeInfo && file.size > fileTypeInfo.maxSize * 0.8) {\r\n    warnings.push({\r\n      code: 'LARGE_FILE_WARNING',\r\n      message: `Μεγάλο αρχείο - η επεξεργασία μπορεί να είναι αργή`,\r\n      suggestion: 'Σκεφτείτε να συμπιέσετε το αρχείο πριν την εισαγωγή'\r\n    });\r\n  }\r\n\r\n  // Custom validation\r\n  if (rules.customValidator) {\r\n    try {\r\n      const customResult = await rules.customValidator(file);\r\n      errors.push(...customResult.errors);\r\n      warnings.push(...customResult.warnings);\r\n    } catch (error) {\r\n      errors.push({\r\n        code: 'CUSTOM_VALIDATION_ERROR',\r\n        message: `Σφάλμα στην προσαρμοσμένη επικύρωση: ${error instanceof Error ? error.message : 'Άγνωστο σφάλμα'}`,\r\n        severity: 'error'\r\n      });\r\n    }\r\n  }\r\n\r\n  return {\r\n    isValid: errors.length === 0,\r\n    errors,\r\n    warnings\r\n  };\r\n}\r\n\r\n/**\r\n * Enhanced file type detection που βασίζεται σε OLD_geo-canvas logic\r\n */\r\nexport function detectFileType(file: File): {\r\n  detectedType: SupportedFormat | 'unknown';\r\n  confidence: number;\r\n  category: string;\r\n} {\r\n  const extension = getFileExtension(file.name).toLowerCase() as SupportedFormat;\r\n  const fileTypeInfo = SUPPORTED_FILE_TYPES[extension];\r\n\r\n  if (!fileTypeInfo) {\r\n    return {\r\n      detectedType: 'unknown',\r\n      confidence: 0,\r\n      category: 'unknown'\r\n    };\r\n  }\r\n\r\n  // Check MIME type consistency\r\n  let confidence = 0.7; // Base confidence για extension match\r\n\r\n  if (fileTypeInfo.mimeTypes.includes(file.type)) {\r\n    confidence += 0.3; // Boost για MIME type match\r\n  }\r\n\r\n  return {\r\n    detectedType: extension,\r\n    confidence,\r\n    category: fileTypeInfo.category\r\n  };\r\n}\r\n\r\n/**\r\n * Enhanced από OLD_geo-canvas: Generates file metadata\r\n */\r\nexport async function extractFileMetadata(file: File): Promise<{\r\n  name: string;\r\n  size: number;\r\n  type: string;\r\n  lastModified: number;\r\n  dimensions?: { width: number; height: number };\r\n}> {\r\n  const metadata = {\r\n    name: file.name,\r\n    size: file.size,\r\n    type: file.type || detectMimeTypeFromExtension(file.name),\r\n    lastModified: file.lastModified\r\n  };\r\n\r\n  // Extract image dimensions για image files\r\n  const fileType = detectFileType(file);\r\n  if (fileType.category === 'image') {\r\n    try {\r\n      const dimensions = await getImageDimensions(file);\r\n      return { ...metadata, dimensions };\r\n    } catch (error) {\r\n      console.warn('Failed to extract image dimensions:', error);\r\n    }\r\n  }\r\n\r\n  return metadata;\r\n}\r\n\r\n// Helper functions\r\nfunction getFileExtension(filename: string): string {\r\n  const lastDot = filename.lastIndexOf('.');\r\n  return lastDot === -1 ? '' : filename.slice(lastDot + 1);\r\n}\r\n\r\nfunction formatFileSize(bytes: number): string {\r\n  const units = ['B', 'KB', 'MB', 'GB'];\r\n  let size = bytes;\r\n  let unitIndex = 0;\r\n\r\n  while (size >= 1024 && unitIndex < units.length - 1) {\r\n    size /= 1024;\r\n    unitIndex++;\r\n  }\r\n\r\n  return `${size.toFixed(1)} ${units[unitIndex]}`;\r\n}\r\n\r\nfunction isValidFileName(filename: string): boolean {\r\n  // Allow letters, numbers, spaces, hyphens, underscores, and dots\r\n  const validPattern = /^[a-zA-Z0-9\\s._-]+$/;\r\n  return validPattern.test(filename) && filename.length <= 255;\r\n}\r\n\r\nfunction detectMimeTypeFromExtension(filename: string): string {\r\n  const extension = getFileExtension(filename).toLowerCase() as SupportedFormat;\r\n  const fileTypeInfo = SUPPORTED_FILE_TYPES[extension];\r\n  return fileTypeInfo?.mimeTypes[0] || 'application/octet-stream';\r\n}\r\n\r\nasync function getImageDimensions(file: File): Promise<{ width: number; height: number }> {\r\n  return new Promise((resolve, reject) => {\r\n    const img = new Image();\r\n    const url = URL.createObjectURL(file);\r\n\r\n    img.onload = () => {\r\n      URL.revokeObjectURL(url);\r\n      resolve({\r\n        width: img.naturalWidth,\r\n        height: img.naturalHeight\r\n      });\r\n    };\r\n\r\n    img.onerror = () => {\r\n      URL.revokeObjectURL(url);\r\n      reject(new Error('Failed to load image for dimension extraction'));\r\n    };\r\n\r\n    img.src = url;\r\n  });\r\n}","import React, { useState, useCallback, useRef, ReactNode } from 'react';\r\nimport { Card, CardContent } from '@layera/cards';\r\nimport { Text } from '@layera/typography';\r\nimport { useLayeraTranslation } from '@layera/i18n/hooks';\r\nimport { SupportedFormat, DragDropState } from '../types';\r\n\r\nexport interface DragDropZoneProps {\r\n  children?: ReactNode;\r\n  onFilesDrop: (files: FileList | File[]) => void;\r\n  acceptedFormats: SupportedFormat[];\r\n  disabled?: boolean;\r\n  maxFiles?: number;\r\n  compact?: boolean;\r\n  showHelper?: boolean;\r\n  className?: string;\r\n}\r\n\r\nexport const DragDropZone: React.FC<DragDropZoneProps> = ({\r\n  children,\r\n  onFilesDrop,\r\n  acceptedFormats,\r\n  disabled = false,\r\n  maxFiles = 10,\r\n  compact = false,\r\n  showHelper = true,\r\n  className = ''\r\n}) => {\r\n  const { t } = useLayeraTranslation();\r\n  const [dragState, setDragState] = useState<DragDropState>({\r\n    isDragging: false,\r\n    isOver: false,\r\n    canDrop: false\r\n  });\r\n  const dragCounterRef = useRef(0);\r\n\r\n  const validateDroppedFiles = useCallback((files: FileList | File[]): boolean => {\r\n    const filesArray = Array.from(files);\r\n\r\n    if (filesArray.length > maxFiles) {\r\n      return false;\r\n    }\r\n\r\n    return filesArray.every(file => {\r\n      const extension = file.name.split('.').pop()?.toLowerCase();\r\n      return extension && acceptedFormats.includes(extension as SupportedFormat);\r\n    });\r\n  }, [acceptedFormats, maxFiles]);\r\n\r\n  const handleDragEnter = useCallback((e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n\r\n    if (disabled) return;\r\n\r\n    dragCounterRef.current++;\r\n\r\n    if (e.dataTransfer?.items) {\r\n      const canDrop = Array.from(e.dataTransfer.items).every(item => {\r\n        if (item.kind === 'file') {\r\n          const extension = item.type.split('/').pop();\r\n          return extension && acceptedFormats.some(format =>\r\n            item.type.includes(format) || extension === format\r\n          );\r\n        }\r\n        return false;\r\n      });\r\n\r\n      setDragState({\r\n        isDragging: true,\r\n        isOver: true,\r\n        canDrop\r\n      });\r\n    }\r\n  }, [disabled, acceptedFormats]);\r\n\r\n  const handleDragOver = useCallback((e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n\r\n    if (disabled) return;\r\n\r\n    e.dataTransfer.dropEffect = dragState.canDrop ? 'copy' : 'none';\r\n  }, [disabled, dragState.canDrop]);\r\n\r\n  const handleDragLeave = useCallback((e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n\r\n    if (disabled) return;\r\n\r\n    dragCounterRef.current--;\r\n\r\n    if (dragCounterRef.current === 0) {\r\n      setDragState({\r\n        isDragging: false,\r\n        isOver: false,\r\n        canDrop: false\r\n      });\r\n    }\r\n  }, [disabled]);\r\n\r\n  const handleDrop = useCallback((e: React.DragEvent) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n\r\n    if (disabled) return;\r\n\r\n    dragCounterRef.current = 0;\r\n    setDragState({\r\n      isDragging: false,\r\n      isOver: false,\r\n      canDrop: false\r\n    });\r\n\r\n    const files = e.dataTransfer?.files;\r\n    if (files && files.length > 0) {\r\n      if (validateDroppedFiles(files)) {\r\n        onFilesDrop(files);\r\n      }\r\n    }\r\n  }, [disabled, validateDroppedFiles, onFilesDrop]);\r\n\r\n  const formatAcceptedTypes = useCallback(() => {\r\n    return acceptedFormats.map(format => `.${format}`).join(', ');\r\n  }, [acceptedFormats]);\r\n\r\n  const getDropZoneClasses = useCallback(() => {\r\n    const baseClasses = [\r\n      'file-drop-zone',\r\n      'transition-all',\r\n      'duration-200',\r\n      'ease-in-out',\r\n      'border-2',\r\n      'border-dashed',\r\n      'rounded-lg',\r\n      'p-6',\r\n      'text-center',\r\n      'cursor-pointer'\r\n    ];\r\n\r\n    if (compact) {\r\n      baseClasses.push('p-3');\r\n    }\r\n\r\n    if (disabled) {\r\n      baseClasses.push(\r\n        'border-gray-300',\r\n        'bg-gray-50',\r\n        'cursor-not-allowed',\r\n        'opacity-60'\r\n      );\r\n    } else if (dragState.isOver) {\r\n      if (dragState.canDrop) {\r\n        baseClasses.push(\r\n          'border-green-400',\r\n          'bg-green-50',\r\n          'border-solid'\r\n        );\r\n      } else {\r\n        baseClasses.push(\r\n          'border-red-400',\r\n          'bg-red-50',\r\n          'border-solid'\r\n        );\r\n      }\r\n    } else {\r\n      baseClasses.push(\r\n        'border-gray-400',\r\n        'bg-white',\r\n        'hover:border-blue-400',\r\n        'hover:bg-blue-50'\r\n      );\r\n    }\r\n\r\n    return baseClasses.join(' ');\r\n  }, [compact, disabled, dragState]);\r\n\r\n  if (compact) {\r\n    return (\r\n      <div\r\n        className={`${getDropZoneClasses()} ${className}`}\r\n        onDragEnter={handleDragEnter}\r\n        onDragOver={handleDragOver}\r\n        onDragLeave={handleDragLeave}\r\n        onDrop={handleDrop}\r\n      >\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Card className={`file-drop-zone-card ${className}`}>\r\n      <CardContent>\r\n        <div\r\n          className={getDropZoneClasses()}\r\n          onDragEnter={handleDragEnter}\r\n          onDragOver={handleDragOver}\r\n          onDragLeave={handleDragLeave}\r\n          onDrop={handleDrop}\r\n        >\r\n          {children}\r\n\r\n          {showHelper && !children && (\r\n            <div className=\"drag-drop-helper\">\r\n              <div className=\"upload-icon\" style={{ marginBottom: '16px' }}>\r\n                <svg\r\n                  width=\"48\"\r\n                  height=\"48\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  fill=\"none\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  style={{ margin: '0 auto', opacity: disabled ? 0.4 : 0.6 }}\r\n                >\r\n                  <path\r\n                    d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"\r\n                    stroke=\"currentColor\"\r\n                    strokeWidth=\"2\"\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                  />\r\n                  <polyline\r\n                    points=\"14,2 14,8 20,8\"\r\n                    stroke=\"currentColor\"\r\n                    strokeWidth=\"2\"\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                  />\r\n                  <line\r\n                    x1=\"16\"\r\n                    y1=\"13\"\r\n                    x2=\"8\"\r\n                    y2=\"13\"\r\n                    stroke=\"currentColor\"\r\n                    strokeWidth=\"2\"\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                  />\r\n                  <line\r\n                    x1=\"12\"\r\n                    y1=\"17\"\r\n                    x2=\"12\"\r\n                    y2=\"9\"\r\n                    stroke=\"currentColor\"\r\n                    strokeWidth=\"2\"\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                  />\r\n                </svg>\r\n              </div>\r\n\r\n              <Text variant=\"body\" weight=\"medium\" color={disabled ? 'disabled' : 'primary'}>\r\n                {dragState.isOver\r\n                  ? dragState.canDrop\r\n                    ? t('file.drop.zone.drop.here')\r\n                    : t('file.drop.zone.invalid.files')\r\n                  : t('file.drop.zone.instruction')\r\n                }\r\n              </Text>\r\n\r\n              <Text variant=\"caption\" color=\"secondary\" style={{ marginTop: '8px' }}>\r\n                {t('file.drop.zone.accepted.formats', {\r\n                  formats: formatAcceptedTypes(),\r\n                  maxFiles\r\n                })}\r\n              </Text>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};","import React, { useCallback } from 'react';\r\nimport { Card, CardContent } from '@layera/cards';\r\nimport { Button, IconButton } from '@layera/buttons';\r\nimport { ProgressBar, LoadingSpinner } from '@layera/loading';\r\nimport { Text, Heading } from '@layera/typography';\r\nimport { useLayeraTranslation } from '@layera/i18n/hooks';\r\nimport { ImportedFile } from '../types';\r\n\r\nexport interface FileListProps {\r\n  files: ImportedFile[];\r\n  onFileSelect: (file: ImportedFile) => void;\r\n  onFileRemove: (fileId: string) => void;\r\n  onFileRetry: (fileId: string) => Promise<void>;\r\n  selectedFileId?: string;\r\n  disabled?: boolean;\r\n  compact?: boolean;\r\n  showThumbnails?: boolean;\r\n}\r\n\r\nexport const FileList: React.FC<FileListProps> = ({\r\n  files,\r\n  onFileSelect,\r\n  onFileRemove,\r\n  onFileRetry,\r\n  selectedFileId,\r\n  disabled = false,\r\n  compact = false,\r\n  showThumbnails = true\r\n}) => {\r\n  const { t } = useLayeraTranslation();\r\n\r\n  const formatFileSize = useCallback((bytes: number): string => {\r\n    const units = ['B', 'KB', 'MB', 'GB'];\r\n    let size = bytes;\r\n    let unitIndex = 0;\r\n\r\n    while (size >= 1024 && unitIndex < units.length - 1) {\r\n      size /= 1024;\r\n      unitIndex++;\r\n    }\r\n\r\n    return `${size.toFixed(1)} ${units[unitIndex]}`;\r\n  }, []);\r\n\r\n  const getFileIcon = useCallback((file: ImportedFile): string => {\r\n    const extension = file.file.name.split('.').pop()?.toLowerCase();\r\n\r\n    switch (extension) {\r\n      case 'dxf':\r\n      case 'dwg':\r\n        return '📐';\r\n      case 'pdf':\r\n        return '📄';\r\n      case 'jpg':\r\n      case 'jpeg':\r\n      case 'png':\r\n      case 'webp':\r\n      case 'bmp':\r\n      case 'tiff':\r\n        return '🖼️';\r\n      case 'svg':\r\n        return '🎨';\r\n      default:\r\n        return '📎';\r\n    }\r\n  }, []);\r\n\r\n  const getStatusColor = useCallback((status: ImportedFile['status']): string => {\r\n    switch (status) {\r\n      case 'completed':\r\n        return 'green';\r\n      case 'error':\r\n        return 'red';\r\n      case 'processing':\r\n        return 'blue';\r\n      case 'pending':\r\n      default:\r\n        return 'gray';\r\n    }\r\n  }, []);\r\n\r\n  const getStatusText = useCallback((file: ImportedFile): string => {\r\n    switch (file.status) {\r\n      case 'completed':\r\n        return t('file.status.completed');\r\n      case 'error':\r\n        return file.error || t('file.status.error');\r\n      case 'processing':\r\n        return t('file.status.processing');\r\n      case 'pending':\r\n      default:\r\n        return t('file.status.pending');\r\n    }\r\n  }, [t]);\r\n\r\n  const renderFileThumbnail = useCallback((file: ImportedFile) => {\r\n    if (!showThumbnails) return null;\r\n\r\n    if (file.previewUrl && file.metadata.type.startsWith('image/')) {\r\n      return (\r\n        <img\r\n          src={file.previewUrl}\r\n          alt={file.metadata.name}\r\n          style={{\r\n            width: compact ? '32px' : '48px',\r\n            height: compact ? '32px' : '48px',\r\n            objectFit: 'cover',\r\n            borderRadius: '4px',\r\n            border: '1px solid #e0e0e0'\r\n          }}\r\n        />\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div\r\n        style={{\r\n          width: compact ? '32px' : '48px',\r\n          height: compact ? '32px' : '48px',\r\n          backgroundColor: '#f5f5f5',\r\n          borderRadius: '4px',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          fontSize: compact ? '16px' : '24px',\r\n          border: '1px solid #e0e0e0'\r\n        }}\r\n      >\r\n        {getFileIcon(file)}\r\n      </div>\r\n    );\r\n  }, [showThumbnails, compact, getFileIcon]);\r\n\r\n  const renderFileActions = useCallback((file: ImportedFile) => {\r\n    return (\r\n      <div style={{ display: 'flex', gap: '8px', alignItems: 'center' }}>\r\n        {file.status === 'error' && (\r\n          <Button\r\n            variant=\"secondary\"\r\n            size=\"small\"\r\n            onClick={() => onFileRetry(file.id)}\r\n            disabled={disabled}\r\n          >\r\n            {t('file.action.retry')}\r\n          </Button>\r\n        )}\r\n\r\n        {file.status === 'completed' && (\r\n          <Button\r\n            variant=\"primary\"\r\n            size=\"small\"\r\n            onClick={() => onFileSelect(file)}\r\n            disabled={disabled}\r\n          >\r\n            {t('file.action.preview')}\r\n          </Button>\r\n        )}\r\n\r\n        <IconButton\r\n          variant=\"secondary\"\r\n          size=\"small\"\r\n          onClick={() => onFileRemove(file.id)}\r\n          disabled={disabled || file.status === 'processing'}\r\n          aria-label={t('file.action.remove')}\r\n        >\r\n          ✕\r\n        </IconButton>\r\n      </div>\r\n    );\r\n  }, [disabled, onFileRetry, onFileSelect, onFileRemove, t]);\r\n\r\n  const renderFileItem = useCallback((file: ImportedFile) => {\r\n    const isSelected = selectedFileId === file.id;\r\n\r\n    if (compact) {\r\n      return (\r\n        <div\r\n          key={file.id}\r\n          style={{\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            gap: '12px',\r\n            padding: '8px 12px',\r\n            border: `1px solid ${isSelected ? '#2196f3' : '#e0e0e0'}`,\r\n            borderRadius: '6px',\r\n            backgroundColor: isSelected ? '#f3f9ff' : '#ffffff',\r\n            cursor: 'pointer',\r\n            transition: 'all 0.2s ease'\r\n          }}\r\n          onClick={() => !disabled && onFileSelect(file)}\r\n        >\r\n          {renderFileThumbnail(file)}\r\n\r\n          <div style={{ flex: 1, minWidth: 0 }}>\r\n            <Text variant=\"body\" weight=\"medium\" style={{\r\n              overflow: 'hidden',\r\n              textOverflow: 'ellipsis',\r\n              whiteSpace: 'nowrap'\r\n            }}>\r\n              {file.metadata.name}\r\n            </Text>\r\n            <Text variant=\"caption\" color=\"secondary\">\r\n              {formatFileSize(file.metadata.size)}\r\n            </Text>\r\n          </div>\r\n\r\n          {file.status === 'processing' && (\r\n            <LoadingSpinner size=\"small\" />\r\n          )}\r\n\r\n          <IconButton\r\n            variant=\"secondary\"\r\n            size=\"small\"\r\n            onClick={(e) => {\r\n              e.stopPropagation();\r\n              onFileRemove(file.id);\r\n            }}\r\n            disabled={disabled || file.status === 'processing'}\r\n            aria-label={t('file.action.remove')}\r\n          >\r\n            ✕\r\n          </IconButton>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <Card\r\n        key={file.id}\r\n        className={`file-list-item ${isSelected ? 'selected' : ''}`}\r\n        style={{\r\n          border: `1px solid ${isSelected ? '#2196f3' : '#e0e0e0'}`,\r\n          backgroundColor: isSelected ? '#f3f9ff' : '#ffffff',\r\n          cursor: 'pointer',\r\n          transition: 'all 0.2s ease'\r\n        }}\r\n        onClick={() => !disabled && onFileSelect(file)}\r\n      >\r\n        <CardContent style={{ padding: '16px' }}>\r\n          <div style={{ display: 'flex', alignItems: 'flex-start', gap: '16px' }}>\r\n            {renderFileThumbnail(file)}\r\n\r\n            <div style={{ flex: 1, minWidth: 0 }}>\r\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', marginBottom: '8px' }}>\r\n                <div style={{ flex: 1, minWidth: 0 }}>\r\n                  <Text variant=\"body\" weight=\"medium\" style={{\r\n                    overflow: 'hidden',\r\n                    textOverflow: 'ellipsis',\r\n                    whiteSpace: 'nowrap',\r\n                    marginBottom: '4px'\r\n                  }}>\r\n                    {file.metadata.name}\r\n                  </Text>\r\n                  <Text variant=\"caption\" color=\"secondary\">\r\n                    {formatFileSize(file.metadata.size)} • {file.metadata.type}\r\n                  </Text>\r\n                </div>\r\n\r\n                {renderFileActions(file)}\r\n              </div>\r\n\r\n              <div style={{ display: 'flex', alignItems: 'center', gap: '12px' }}>\r\n                <div style={{ flex: 1 }}>\r\n                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '4px' }}>\r\n                    <Text\r\n                      variant=\"caption\"\r\n                      color={getStatusColor(file.status) as 'primary'}\r\n                      weight=\"medium\"\r\n                    >\r\n                      {getStatusText(file)}\r\n                    </Text>\r\n                    {file.status === 'processing' && (\r\n                      <Text variant=\"caption\" color=\"secondary\">\r\n                        {file.progress}%\r\n                      </Text>\r\n                    )}\r\n                  </div>\r\n\r\n                  {file.status === 'processing' && (\r\n                    <ProgressBar\r\n                      value={file.progress}\r\n                      size=\"small\"\r\n                      showPercentage={false}\r\n                    />\r\n                  )}\r\n                </div>\r\n\r\n                {file.status === 'processing' && (\r\n                  <LoadingSpinner size=\"small\" />\r\n                )}\r\n              </div>\r\n\r\n              {file.metadata.dimensions && (\r\n                <Text variant=\"caption\" color=\"secondary\" style={{ marginTop: '8px' }}>\r\n                  {t('file.dimensions', {\r\n                    width: file.metadata.dimensions.width,\r\n                    height: file.metadata.dimensions.height\r\n                  })}\r\n                </Text>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }, [\r\n    selectedFileId,\r\n    compact,\r\n    disabled,\r\n    renderFileThumbnail,\r\n    renderFileActions,\r\n    formatFileSize,\r\n    getStatusColor,\r\n    getStatusText,\r\n    onFileSelect,\r\n    onFileRemove,\r\n    t\r\n  ]);\r\n\r\n  if (files.length === 0) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"file-list\" style={{ display: 'flex', flexDirection: 'column', gap: compact ? '8px' : '12px' }}>\r\n      {files.map(renderFileItem)}\r\n    </div>\r\n  );\r\n};","import React, { useState, useCallback, useMemo } from 'react';\r\nimport { Card, CardContent, CardHeader } from '@layera/cards';\r\nimport { Button, IconButton } from '@layera/buttons';\r\nimport { Text, Heading } from '@layera/typography';\r\nimport { LoadingSpinner } from '@layera/loading';\r\nimport { useLayeraTranslation } from '@layera/i18n/hooks';\r\nimport { ImportedFile } from '../types';\r\n\r\nexport interface FilePreviewProps {\r\n  file: ImportedFile;\r\n  onClose: () => void;\r\n  showMetadata?: boolean;\r\n  showActions?: boolean;\r\n  maxHeight?: string;\r\n}\r\n\r\nexport const FilePreview: React.FC<FilePreviewProps> = ({\r\n  file,\r\n  onClose,\r\n  showMetadata = true,\r\n  showActions = true,\r\n  maxHeight = '600px'\r\n}) => {\r\n  const { t } = useLayeraTranslation();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [previewError, setPreviewError] = useState<string | null>(null);\r\n\r\n  const fileExtension = useMemo(() => {\r\n    return file.file.name.split('.').pop()?.toLowerCase();\r\n  }, [file.file.name]);\r\n\r\n  const fileCategory = useMemo(() => {\r\n    switch (fileExtension) {\r\n      case 'dxf':\r\n      case 'dwg':\r\n        return 'cad';\r\n      case 'pdf':\r\n        return 'document';\r\n      case 'jpg':\r\n      case 'jpeg':\r\n      case 'png':\r\n      case 'webp':\r\n      case 'bmp':\r\n      case 'tiff':\r\n        return 'image';\r\n      case 'svg':\r\n        return 'vector';\r\n      default:\r\n        return 'unknown';\r\n    }\r\n  }, [fileExtension]);\r\n\r\n  const formatFileSize = useCallback((bytes: number): string => {\r\n    const units = ['B', 'KB', 'MB', 'GB'];\r\n    let size = bytes;\r\n    let unitIndex = 0;\r\n\r\n    while (size >= 1024 && unitIndex < units.length - 1) {\r\n      size /= 1024;\r\n      unitIndex++;\r\n    }\r\n\r\n    return `${size.toFixed(1)} ${units[unitIndex]}`;\r\n  }, []);\r\n\r\n  const formatDate = useCallback((timestamp: number): string => {\r\n    return new Date(timestamp).toLocaleString('el-GR', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  }, []);\r\n\r\n  const handleDownload = useCallback(() => {\r\n    try {\r\n      const url = URL.createObjectURL(file.file);\r\n      const link = document.createElement('a');\r\n      link.href = url;\r\n      link.download = file.metadata.name;\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n      URL.revokeObjectURL(url);\r\n    } catch (error) {\r\n      console.error('Download failed:', error);\r\n    }\r\n  }, [file]);\r\n\r\n  const renderImagePreview = useCallback(() => {\r\n    if (!file.previewUrl) {\r\n      return (\r\n        <div style={{\r\n          height: '300px',\r\n          backgroundColor: '#f5f5f5',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          borderRadius: '8px',\r\n          border: '1px solid #e0e0e0'\r\n        }}>\r\n          <Text color=\"secondary\">{t('file.preview.no.image')}</Text>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div style={{\r\n        textAlign: 'center',\r\n        padding: '16px',\r\n        backgroundColor: '#f9f9f9',\r\n        borderRadius: '8px',\r\n        border: '1px solid #e0e0e0'\r\n      }}>\r\n        <img\r\n          src={file.previewUrl}\r\n          alt={file.metadata.name}\r\n          style={{\r\n            maxWidth: '100%',\r\n            maxHeight: '400px',\r\n            objectFit: 'contain',\r\n            borderRadius: '4px',\r\n            boxShadow: '0 2px 8px rgba(0,0,0,0.1)'\r\n          }}\r\n          onError={() => setPreviewError(t('file.preview.image.error'))}\r\n        />\r\n\r\n        {file.metadata.dimensions && (\r\n          <Text variant=\"caption\" color=\"secondary\" style={{ marginTop: '8px', display: 'block' }}>\r\n            {t('file.dimensions', {\r\n              width: file.metadata.dimensions.width,\r\n              height: file.metadata.dimensions.height\r\n            })}\r\n          </Text>\r\n        )}\r\n      </div>\r\n    );\r\n  }, [file.previewUrl, file.metadata, t]);\r\n\r\n  const renderDocumentPreview = useCallback(() => {\r\n    return (\r\n      <div style={{\r\n        height: '300px',\r\n        backgroundColor: '#f5f5f5',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        borderRadius: '8px',\r\n        border: '1px solid #e0e0e0',\r\n        gap: '16px'\r\n      }}>\r\n        <div style={{ fontSize: '48px' }}>📄</div>\r\n        <Text variant=\"body\" weight=\"medium\">\r\n          {t('file.preview.document.title')}\r\n        </Text>\r\n        <Text variant=\"caption\" color=\"secondary\" style={{ textAlign: 'center' }}>\r\n          {t('file.preview.document.description')}\r\n        </Text>\r\n        <Button variant=\"primary\" onClick={handleDownload}>\r\n          {t('file.action.download')}\r\n        </Button>\r\n      </div>\r\n    );\r\n  }, [handleDownload, t]);\r\n\r\n  const renderCADPreview = useCallback(() => {\r\n    return (\r\n      <div style={{\r\n        height: '300px',\r\n        backgroundColor: '#f5f5f5',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        borderRadius: '8px',\r\n        border: '1px solid #e0e0e0',\r\n        gap: '16px'\r\n      }}>\r\n        <div style={{ fontSize: '48px' }}>📐</div>\r\n        <Text variant=\"body\" weight=\"medium\">\r\n          {t('file.preview.cad.title')}\r\n        </Text>\r\n        <Text variant=\"caption\" color=\"secondary\" style={{ textAlign: 'center', maxWidth: '300px' }}>\r\n          {fileExtension?.toUpperCase() === 'DXF'\r\n            ? t('file.preview.cad.dxf.description')\r\n            : t('file.preview.cad.dwg.description')\r\n          }\r\n        </Text>\r\n        <div style={{ display: 'flex', gap: '8px' }}>\r\n          <Button variant=\"primary\" onClick={handleDownload}>\r\n            {t('file.action.download')}\r\n          </Button>\r\n          <Button variant=\"secondary\" disabled>\r\n            {t('file.action.render')} ({t('common.coming.soon')})\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }, [fileExtension, handleDownload, t]);\r\n\r\n  const renderVectorPreview = useCallback(() => {\r\n    return (\r\n      <div style={{\r\n        height: '300px',\r\n        backgroundColor: '#f5f5f5',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        borderRadius: '8px',\r\n        border: '1px solid #e0e0e0',\r\n        gap: '16px'\r\n      }}>\r\n        <div style={{ fontSize: '48px' }}>🎨</div>\r\n        <Text variant=\"body\" weight=\"medium\">\r\n          {t('file.preview.vector.title')}\r\n        </Text>\r\n        <Text variant=\"caption\" color=\"secondary\" style={{ textAlign: 'center' }}>\r\n          {t('file.preview.vector.description')}\r\n        </Text>\r\n        <Button variant=\"primary\" onClick={handleDownload}>\r\n          {t('file.action.download')}\r\n        </Button>\r\n      </div>\r\n    );\r\n  }, [handleDownload, t]);\r\n\r\n  const renderPreviewContent = useCallback(() => {\r\n    if (file.status === 'processing') {\r\n      return (\r\n        <div style={{\r\n          height: '300px',\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          gap: '16px'\r\n        }}>\r\n          <LoadingSpinner size=\"large\" />\r\n          <Text variant=\"body\" color=\"secondary\">\r\n            {t('file.preview.processing')}\r\n          </Text>\r\n          <Text variant=\"caption\" color=\"secondary\">\r\n            {file.progress}% {t('common.completed')}\r\n          </Text>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (file.status === 'error') {\r\n      return (\r\n        <div style={{\r\n          height: '300px',\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          gap: '16px'\r\n        }}>\r\n          <div style={{ fontSize: '48px', color: '#f44336' }}>⚠️</div>\r\n          <Text variant=\"body\" color=\"error\" weight=\"medium\">\r\n            {t('file.preview.error.title')}\r\n          </Text>\r\n          <Text variant=\"caption\" color=\"secondary\" style={{ textAlign: 'center' }}>\r\n            {file.error || t('file.preview.error.description')}\r\n          </Text>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (previewError) {\r\n      return (\r\n        <div style={{\r\n          height: '300px',\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          gap: '16px'\r\n        }}>\r\n          <div style={{ fontSize: '48px', color: '#f44336' }}>⚠️</div>\r\n          <Text variant=\"body\" color=\"error\" weight=\"medium\">\r\n            {t('file.preview.error.title')}\r\n          </Text>\r\n          <Text variant=\"caption\" color=\"secondary\">\r\n            {previewError}\r\n          </Text>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    switch (fileCategory) {\r\n      case 'image':\r\n        return renderImagePreview();\r\n      case 'document':\r\n        return renderDocumentPreview();\r\n      case 'cad':\r\n        return renderCADPreview();\r\n      case 'vector':\r\n        return renderVectorPreview();\r\n      default:\r\n        return (\r\n          <div style={{\r\n            height: '300px',\r\n            backgroundColor: '#f5f5f5',\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            alignItems: 'center',\r\n            justifyContent: 'center',\r\n            borderRadius: '8px',\r\n            border: '1px solid #e0e0e0',\r\n            gap: '16px'\r\n          }}>\r\n            <div style={{ fontSize: '48px' }}>📎</div>\r\n            <Text variant=\"body\" weight=\"medium\">\r\n              {t('file.preview.unsupported.title')}\r\n            </Text>\r\n            <Text variant=\"caption\" color=\"secondary\">\r\n              {t('file.preview.unsupported.description')}\r\n            </Text>\r\n            <Button variant=\"primary\" onClick={handleDownload}>\r\n              {t('file.action.download')}\r\n            </Button>\r\n          </div>\r\n        );\r\n    }\r\n  }, [\r\n    file.status,\r\n    file.progress,\r\n    file.error,\r\n    previewError,\r\n    fileCategory,\r\n    renderImagePreview,\r\n    renderDocumentPreview,\r\n    renderCADPreview,\r\n    renderVectorPreview,\r\n    handleDownload,\r\n    t\r\n  ]);\r\n\r\n  return (\r\n    <Card className=\"file-preview\" style={{ maxHeight, overflow: 'auto' }}>\r\n      <CardHeader>\r\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start' }}>\r\n          <div style={{ flex: 1, minWidth: 0 }}>\r\n            <Heading level={4} style={{\r\n              overflow: 'hidden',\r\n              textOverflow: 'ellipsis',\r\n              whiteSpace: 'nowrap',\r\n              marginBottom: '4px'\r\n            }}>\r\n              {file.metadata.name}\r\n            </Heading>\r\n            <Text variant=\"caption\" color=\"secondary\">\r\n              {fileExtension?.toUpperCase()} • {formatFileSize(file.metadata.size)}\r\n            </Text>\r\n          </div>\r\n\r\n          <IconButton\r\n            variant=\"secondary\"\r\n            size=\"small\"\r\n            onClick={onClose}\r\n            aria-label={t('common.close')}\r\n          >\r\n            ✕\r\n          </IconButton>\r\n        </div>\r\n      </CardHeader>\r\n\r\n      <CardContent>\r\n        {renderPreviewContent()}\r\n\r\n        {showMetadata && file.status === 'completed' && (\r\n          <div style={{ marginTop: '24px' }}>\r\n            <Heading level={5} style={{ marginBottom: '12px' }}>\r\n              {t('file.metadata.title')}\r\n            </Heading>\r\n\r\n            <div style={{ display: 'grid', gridTemplateColumns: 'auto 1fr', gap: '8px 16px', fontSize: '14px' }}>\r\n              <Text variant=\"caption\" color=\"secondary\" weight=\"medium\">\r\n                {t('file.metadata.name')}:\r\n              </Text>\r\n              <Text variant=\"caption\">\r\n                {file.metadata.name}\r\n              </Text>\r\n\r\n              <Text variant=\"caption\" color=\"secondary\" weight=\"medium\">\r\n                {t('file.metadata.size')}:\r\n              </Text>\r\n              <Text variant=\"caption\">\r\n                {formatFileSize(file.metadata.size)}\r\n              </Text>\r\n\r\n              <Text variant=\"caption\" color=\"secondary\" weight=\"medium\">\r\n                {t('file.metadata.type')}:\r\n              </Text>\r\n              <Text variant=\"caption\">\r\n                {file.metadata.type}\r\n              </Text>\r\n\r\n              <Text variant=\"caption\" color=\"secondary\" weight=\"medium\">\r\n                {t('file.metadata.modified')}:\r\n              </Text>\r\n              <Text variant=\"caption\">\r\n                {formatDate(file.metadata.lastModified)}\r\n              </Text>\r\n\r\n              {file.metadata.dimensions && (\r\n                <>\r\n                  <Text variant=\"caption\" color=\"secondary\" weight=\"medium\">\r\n                    {t('file.metadata.dimensions')}:\r\n                  </Text>\r\n                  <Text variant=\"caption\">\r\n                    {file.metadata.dimensions.width} × {file.metadata.dimensions.height} px\r\n                  </Text>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {showActions && file.status === 'completed' && (\r\n          <div style={{ marginTop: '24px', display: 'flex', gap: '12px', justifyContent: 'flex-end' }}>\r\n            <Button variant=\"secondary\" onClick={handleDownload}>\r\n              {t('file.action.download')}\r\n            </Button>\r\n            <Button variant=\"primary\" onClick={onClose}>\r\n              {t('common.close')}\r\n            </Button>\r\n          </div>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};"],"mappings":"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","names":["import_react","import_cards","import_buttons","import_loading","import_i18n","import_jsx_runtime","import_react","progress","error","import_react","import_hooks","import_jsx_runtime","import_react","import_cards","import_hooks","import_jsx_runtime","formatFileSize","import_react","import_cards","import_buttons","import_loading","import_hooks","import_jsx_runtime","formatFileSize","import_jsx_runtime","React","error","files"]}