<script>
    // ðŸ§­ Navigation Functions

    // Layout Tab Switching Function
    function showTab(tabName, clickedButton) {
        console.log('showTab called:', tabName);

        try {
            // Î’ÏÎµÏ‚ Ï„Î¿ layout container
            const layoutContainer = document.querySelector('.layout-controls');
            if (!layoutContainer) {
                alert('Layout container not found!');
                return;
            }

            // ÎšÏÏÏˆÎµ ÏŒÎ»Î± Ï„Î± tabs
            const allTabs = layoutContainer.querySelectorAll('.tab-pane');
            console.log('Found tabs:', allTabs.length);
            allTabs.forEach(tab => {
                tab.classList.remove('active-pane');
                console.log('Hiding:', tab.id);
            });

            // Î”ÎµÎ¯Î¾Îµ Ï„Î¿ ÎµÏ€Î¹Î»ÎµÎ³Î¼Î­Î½Î¿ tab
            const targetTab = document.getElementById('layout-' + tabName);
            if (targetTab) {
                targetTab.classList.add('active-pane');
                console.log('Showing:', targetTab.id);
            } else {
                alert('Tab not found: layout-' + tabName);
                return;
            }

            // Î•Î½Î·Î¼Î­ÏÏ‰ÏƒÎµ Ï„Î± buttons
            const allButtons = layoutContainer.querySelectorAll('.tab-button');
            allButtons.forEach(btn => btn.classList.remove('active-tab'));
            clickedButton.classList.add('active-tab');

            console.log('Tab switching complete');
        } catch (error) {
            console.error('Error in showTab:', error);
            alert('Error: ' + error.message);
        }
    }

    // Modal Tab Switching Function
    function showModalTab(tabName, clickedButton) {
        console.log('showModalTab called:', tabName);

        try {
            // Î’ÏÎµÏ‚ Ï„Î¿ modals container
            const modalsContainer = document.querySelector('.modals-section');
            if (!modalsContainer) {
                alert('Modals container not found!');
                return;
            }

            // ÎšÏÏÏˆÎµ ÏŒÎ»Î± Ï„Î± modal tabs
            const allTabs = modalsContainer.querySelectorAll('.tab-pane');
            console.log('Found modal tabs:', allTabs.length);
            allTabs.forEach(tab => {
                tab.classList.remove('active-pane');
                console.log('Hiding modal tab:', tab.id);
            });

            // Î”ÎµÎ¯Î¾Îµ Ï„Î¿ ÎµÏ€Î¹Î»ÎµÎ³Î¼Î­Î½Î¿ modal tab
            const targetTab = document.getElementById('modals-' + tabName);
            if (targetTab) {
                targetTab.classList.add('active-pane');
                console.log('Showing modal tab:', targetTab.id);
            } else {
                alert('Modal tab not found: modals-' + tabName);
                return;
            }

            // Î•Î½Î·Î¼Î­ÏÏ‰ÏƒÎµ Ï„Î± buttons
            const allButtons = modalsContainer.querySelectorAll('.tab-button');
            allButtons.forEach(btn => btn.classList.remove('active-tab'));
            clickedButton.classList.add('active-tab');

            console.log('Modal tab switching complete');
        } catch (error) {
            console.error('Error in showModalTab:', error);
            alert('Error: ' + error.message);
        }
    }

    // Cards Tab Switching Function
    function switchCardTab(tabName, clickedButton) {
        console.log('switchCardTab called:', tabName);

        try {
            // Î’ÏÎµÏ‚ Ï„Î¿ cards container
            const cardsContainer = document.querySelector('.cards-section');
            if (!cardsContainer) {
                console.error('Cards container not found!');
                return;
            }

            // Î‘Ï€ÏŒÎºÏÏ…ÏˆÎ· ÏŒÎ»Ï‰Î½ Ï„Ï‰Î½ card tabs
            const allTabs = cardsContainer.querySelectorAll('.tab-pane');
            console.log('Found card tabs:', allTabs.length);
            allTabs.forEach(tab => {
                tab.classList.remove('active-pane');
                console.log('Hiding card tab:', tab.id);
            });

            // Î•Î¼Ï†Î¬Î½Î¹ÏƒÎ· ÎµÏ€Î¹Î»ÎµÎ³Î¼Î­Î½Î·Ï‚ ÎºÎ±ÏÏ„Î­Î»Î±Ï‚
            const targetTab = document.getElementById('cards-' + tabName);
            if (targetTab) {
                targetTab.classList.add('active-pane');
                console.log('Showing card tab:', targetTab.id);
            } else {
                console.error('Card tab not found: cards-' + tabName);
                return;
            }

            // Î•Î½Î·Î¼Î­ÏÏ‰ÏƒÎ· tab buttons
            const allButtons = cardsContainer.querySelectorAll('.tab-button');
            allButtons.forEach(btn => btn.classList.remove('active-tab'));

            // Î’ÏÎµÏ‚ Ï„Î¿ clicked button
            const buttonToActivate = clickedButton || event.target;
            buttonToActivate.classList.add('active-tab');

            console.log('Card tab switching complete');
        } catch (error) {
            console.error('Error in switchCardTab:', error);
        }
    }

    // Tables Tab Navigation
    function switchTableTab(tabName, clickedButton) {
        console.log("switchTableTab called:", tabName);

        try {
            // Î’ÏÎµÏ‚ Ï„Î¿ tables container
            const tablesContainer = document.querySelector(".tables-section");
            if (!tablesContainer) {
                console.error("Tables container not found!");
                return;
            }

            // Î‘Ï€ÏŒÎºÏÏ…ÏˆÎ· ÏŒÎ»Ï‰Î½ Ï„Ï‰Î½ table tabs
            const allTabs = tablesContainer.querySelectorAll(".tab-pane");
            console.log("Found table tabs:", allTabs.length);
            allTabs.forEach(tab => {
                tab.classList.remove("active-pane");
                console.log("Hiding table tab:", tab.id);
            });

            // Î•Î¼Ï†Î¬Î½Î¹ÏƒÎ· ÎµÏ€Î¹Î»ÎµÎ³Î¼Î­Î½Î·Ï‚ ÎºÎ±ÏÏ„Î­Î»Î±Ï‚
            const targetTab = document.getElementById("tables-" + tabName);
            if (targetTab) {
                targetTab.classList.add("active-pane");
                console.log("Showing table tab:", targetTab.id);
            } else {
                console.error("Table tab not found: tables-" + tabName);
                return;
            }

            // Î•Î½Î·Î¼Î­ÏÏ‰ÏƒÎ· tab buttons
            const allButtons = tablesContainer.querySelectorAll(".tab-button");
            allButtons.forEach(btn => btn.classList.remove("active-tab"));

            // Î’ÏÎµÏ‚ Ï„Î¿ clicked button
            const buttonToActivate = clickedButton || event.target;
            buttonToActivate.classList.add("active-tab");

            console.log("Table tab switching complete");
        } catch (error) {
            console.error("Error in switchTableTab:", error);
        }
    }

    // Color mapping object Î³Î¹Î± header buttons
    const colors = {
        primary: '#4A90E2',
        secondary: '#9013FE',
        success: '#4CAF50',
        warning: '#FF9800',
        danger: '#F44336',
        info: '#2196F3'
    };

    // Header Color Change Function
    function changeHeaderColor(colorName) {
        const header = document.querySelector('.app-header');
        header.style.background = colors[colorName];

        // Update active state for header buttons
        document.querySelectorAll('.header-buttons .color-btn').forEach(btn => {
            btn.classList.remove('active');
        });
        event.target.classList.add('active');
    }

    // Make functions global
    window.showTab = showTab;
    window.showModalTab = showModalTab;
    window.switchCardTab = switchCardTab;
    window.switchTableTab = switchTableTab;
    window.changeHeaderColor = changeHeaderColor;
    window.colors = colors;
</script>