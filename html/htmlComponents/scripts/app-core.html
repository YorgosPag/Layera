<script>
    // ğŸš€ App Core Functions

    // Î£Ï…Î½Î¬ÏÏ„Î·ÏƒÎ· Î³Î¹Î± Ï†ÏŒÏÏ„Ï‰ÏƒÎ· HTML component
    async function loadComponent(url, containerId) {
        try {
            const response = await fetch(url);
            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }
            const html = await response.text();
            document.getElementById(containerId).innerHTML = html;
        } catch (error) {
            console.error(`Error loading ${url}:`, error);
            document.getElementById(containerId).innerHTML = `<div style="color: red;">Error loading ${url}</div>`;
        }
    }

    // Î¦ÏŒÏÏ„Ï‰ÏƒÎ· Ï„Ï‰Î½ right sidebar components
    async function loadRightSidebarComponents() {
        try {
            // Î¦Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ Ï„Î¿ 6-Color System
            await loadComponent('sidebar/right-sidebar/6-color-system.html', 'color-system-container');
            console.log('âœ… 6-Color System component loaded successfully!');

            // Î¦Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ Ï„Î¿ Apply To Selector
            await loadComponent('sidebar/right-sidebar/apply-to-selector.html', 'apply-to-container');
            console.log('âœ… Apply To Selector component loaded successfully!');

            // Î¦Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ Ï„Î¿ Typography
            await loadComponent('sidebar/right-sidebar/typography.html', 'typography-container');
            console.log('âœ… Typography component loaded successfully!');

            // Î¦Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ Ï„Î¿ Component Sizes
            await loadComponent('sidebar/right-sidebar/component-sizes.html', 'component-sizes-container');
            console.log('âœ… Component Sizes component loaded successfully!');

            // Î¦Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ Ï„Î¿ Border Radius
            await loadComponent('sidebar/right-sidebar/border-radius.html', 'border-radius-container');
            console.log('âœ… Border Radius component loaded successfully!');

            // Î¦Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ Ï„Î¿ Quick Radius Presets
            await loadComponent('sidebar/right-sidebar/quick-radius-presets.html', 'quick-radius-presets-container');
            console.log('âœ… Quick Radius Presets component loaded successfully!');

            // Î¦Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ Ï„Î¿ Spacing Layout
            await loadComponent('sidebar/right-sidebar/spacing-layout.html', 'spacing-layout-container');
            console.log('âœ… Spacing Layout component loaded successfully!');

            // Î¦Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ Ï„Î¿ Components
            await loadComponent('sidebar/right-sidebar/components.html', 'components-container');
            console.log('âœ… Components component loaded successfully!');

            // Î¦Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ Ï„Î¿ Preset Themes
            await loadComponent('sidebar/right-sidebar/preset-themes.html', 'preset-themes-container');
            console.log('âœ… Preset Themes component loaded successfully!');

            // Î¦Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ Ï„Î¿ Layout Tabs ÏƒÏ„Î¿ main content
            await loadComponent('main/layout/layout-tabs.html', 'layout-controls-container');
            console.log('âœ… Layout Tabs component loaded successfully!');

            // Î¦Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ Ï„Î¿ Layout Primary Cards
            await loadComponent('main/layout/layout-primary-cards.html', 'layout-primary-content-container');
            console.log('âœ… Layout Primary Cards component loaded successfully!');

            // Î¦Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ Ï„Î¿ Layout Secondary Cards
            await loadComponent('main/layout/layout-secondary-cards.html', 'layout-secondary-content-container');
            console.log('âœ… Layout Secondary Cards component loaded successfully!');

            // Î¦Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ Ï„Î¿ Layout Success Cards
            await loadComponent('main/layout/layout-success-cards.html', 'layout-success-content-container');
            console.log('âœ… Layout Success Cards component loaded successfully!');

            // Î¦Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ Ï„Î¿ Layout Warning Cards
            await loadComponent('main/layout/layout-warning-cards.html', 'layout-warning-content-container');
            console.log('âœ… Layout Warning Cards component loaded successfully!');

            // Î¦Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ Ï„Î¿ Layout Danger Cards
            await loadComponent('main/layout/layout-danger-cards.html', 'layout-danger-content-container');
            console.log('âœ… Layout Danger Cards component loaded successfully!');

            // Î¦Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ Ï„Î¿ Layout Info Cards
            await loadComponent('main/layout/layout-info-cards.html', 'layout-info-content-container');
            console.log('âœ… Layout Info Cards component loaded successfully!');

            // Î¦Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ Ï„Î¿ Modals Section ÏƒÏ„Î¿ main content
            await loadComponent('main/modals/modals-tabs.html', 'modals-section-container');
            console.log('âœ… Modals Section component loaded successfully!');

            // Î¦Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ Ï„Î¿ Modal Primary Cards ÏƒÏ„Î¿ modals section
            await loadComponent('main/modals/modal-primary-cards.html', 'modal-primary-cards-container');
            console.log('âœ… Modal Primary Cards component loaded successfully!');

            // Î¦Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ Ï„Î¿ Modal Secondary Cards ÏƒÏ„Î¿ modals section
            await loadComponent('main/modals/modal-secondary-cards.html', 'modal-secondary-cards-container');
            console.log('âœ… Modal Secondary Cards component loaded successfully!');

            // Î¦Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ Ï„Î¿ Modal Success Cards ÏƒÏ„Î¿ modals section
            await loadComponent('main/modals/modal-success-cards.html', 'modal-success-cards-container');
            console.log('âœ… Modal Success Cards component loaded successfully!');

            // Î¦Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ Ï„Î¿ Modal Warning Cards ÏƒÏ„Î¿ modals section
            await loadComponent('main/modals/modal-warning-cards.html', 'modal-warning-cards-container');
            console.log('âœ… Modal Warning Cards component loaded successfully!');

            // Î¦Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ Ï„Î¿ Modal Danger Cards ÏƒÏ„Î¿ modals section
            await loadComponent('main/modals/modal-danger-cards.html', 'modal-danger-cards-container');
            console.log('âœ… Modal Danger Cards component loaded successfully!');

            // Î¦Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ Ï„Î¿ Modal Info Cards ÏƒÏ„Î¿ modals section
            await loadComponent('main/modals/modal-info-cards.html', 'modal-info-cards-container');
            console.log('âœ… Modal Info Cards component loaded successfully!');

            // Î¦Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ Ï„Î¿ Tables Section ÏƒÏ„Î¿ main content
            console.log('ğŸ”„ About to load Tables Section...');
            console.log('ğŸ“ Tables container exists:', !!document.getElementById('tables-section-container'));
            await loadComponent('main/tables/tables-tabs.html', 'tables-section-container');
            console.log('âœ… Tables Section component loaded successfully!');
            console.log('ğŸ“Š Tables section HTML after load:', document.getElementById('tables-section-container').innerHTML.substring(0, 100));

            // Î¦Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ Ï„Î¿ Table Primary Cards ÏƒÏ„Î¿ tables section
            await loadComponent('main/tables/table-primary-cards.html', 'table-primary-content-container');
            console.log('âœ… Table Primary Cards component loaded successfully!');

            // Î¦Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ Ï„Î¿ Table Secondary Cards ÏƒÏ„Î¿ tables section
            await loadComponent('main/tables/table-secondary-cards.html', 'table-secondary-content-container');
            console.log('âœ… Table Secondary Cards component loaded successfully!');

            // Î¦Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ Ï„Î¿ Table Success Cards ÏƒÏ„Î¿ tables section
            await loadComponent('main/tables/table-success-cards.html', 'table-success-content-container');
            console.log('âœ… Table Success Cards component loaded successfully!');

            // Î¦Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ Ï„Î¿ Table Warning Cards ÏƒÏ„Î¿ tables section
            await loadComponent('main/tables/table-warning-cards.html', 'table-warning-content-container');
            console.log('âœ… Table Warning Cards component loaded successfully!');

            // Î¦Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ Ï„Î¿ Table Danger Cards ÏƒÏ„Î¿ tables section
            await loadComponent('main/tables/table-danger-cards.html', 'table-danger-content-container');
            console.log('âœ… Table Danger Cards component loaded successfully!');

            // Î¦Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ Ï„Î¿ Table Info Cards ÏƒÏ„Î¿ tables section
            await loadComponent('main/tables/table-info-cards.html', 'table-info-content-container');
            console.log('âœ… Table Info Cards component loaded successfully!');

            // Î¦Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ Ï„Î¿ Cards Section ÏƒÏ„Î¿ main content
            await loadComponent('main/cards/cards-tabs.html', 'cards-section-container');
            console.log('âœ… Cards Section component loaded successfully!');

            // Î¦Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ Ï„Î¿ Card Primary Cards ÏƒÏ„Î¿ cards section
            await loadComponent('main/cards/card-primary-cards.html', 'card-primary-content-container');
            console.log('âœ… Card Primary Cards component loaded successfully!');

            // Î¦Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ Ï„Î¿ Card Secondary Cards ÏƒÏ„Î¿ cards section
            await loadComponent('main/cards/card-secondary-cards.html', 'card-secondary-content-container');
            console.log('âœ… Card Secondary Cards component loaded successfully!');

            // Î¦Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ Ï„Î¿ Card Success Cards ÏƒÏ„Î¿ cards section
            await loadComponent('main/cards/card-success-cards.html', 'card-success-content-container');
            console.log('âœ… Card Success Cards component loaded successfully!');

            // Î¦Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ Ï„Î¿ Card Warning Cards ÏƒÏ„Î¿ cards section
            await loadComponent('main/cards/card-warning-cards.html', 'card-warning-content-container');
            console.log('âœ… Card Warning Cards component loaded successfully!');

            // Î¦Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ Ï„Î¿ Card Danger Cards ÏƒÏ„Î¿ cards section
            await loadComponent('main/cards/card-danger-cards.html', 'card-danger-content-container');
            console.log('âœ… Card Danger Cards component loaded successfully!');

            // Î¦Î¿ÏÏ„ÏÎ½Î¿Ï…Î¼Îµ Ï„Î¿ Card Info Cards ÏƒÏ„Î¿ cards section
            await loadComponent('main/cards/card-info-cards.html', 'card-info-content-container');
            console.log('âœ… Card Info Cards component loaded successfully!');

        } catch (error) {
            console.error('âŒ Error loading right sidebar components:', error);
        }
    }

    // Sidebar Toggle Functions
    function toggleSidebar(position) {
        const leftSidebar = document.getElementById('leftSidebar');
        const rightSidebar = document.getElementById('rightSidebar');

        if (position === 'left') {
            if (!leftSidebar) {
                console.error('Left sidebar not found!');
                return;
            }
            const isOpen = leftSidebar.classList.contains('open');
            if (isOpen) {
                leftSidebar.classList.remove('open');
                updateToggleButton('left', false);
            } else {
                leftSidebar.classList.add('open');
                updateToggleButton('left', true);
            }
        } else if (position === 'right') {
            if (!rightSidebar) {
                console.error('Right sidebar not found!');
                return;
            }
            const isOpen = rightSidebar.classList.contains('open');
            if (isOpen) {
                rightSidebar.classList.remove('open');
                updateToggleButton('right', false);
            } else {
                rightSidebar.classList.add('open');
                updateToggleButton('right', true);
            }
        }
    }

    function updateToggleButton(position, isOpen) {
        const button = document.querySelector(`button[onclick="toggleSidebar('${position}')"]`);
        if (button) {
            if (isOpen) {
                button.style.background = 'rgba(255,255,255,0.3)';
                button.style.borderColor = 'rgba(255,255,255,0.5)';
            } else {
                button.style.background = 'rgba(255,255,255,0.15)';
                button.style.borderColor = 'rgba(255,255,255,0.3)';
            }
        }
    }

    // Make functions global
    window.loadComponent = loadComponent;
    window.loadRightSidebarComponents = loadRightSidebarComponents;
    window.toggleSidebar = toggleSidebar;
    window.updateToggleButton = updateToggleButton;
</script>