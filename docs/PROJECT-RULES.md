# Κανόνες έργου (αρθρωτή αρχιτεκτονική)

## 1) Τύποι "τουβλακιών"
- **Εφαρμογή (app):** τελικό προϊόν (UI ή site).
- **Υποεφαρμογή / module (package):** επαναχρησιμοποιήσιμο κομμάτι. Δεν γνωρίζει apps.

## 2) Καθαρά όρια
- Τα apps χρησιμοποιούν ΜΟΝΟ δημόσια API των modules.
- Κανένα module δεν "βλέπει" κώδικα app.
- Καμία κυκλική εξάρτηση.

## 3) Συμβόλαιο module
Κάθε module **πρέπει** να έχει:
- `README.md` με τι κάνει και πώς μπαίνει.
- `src/index.(ts|tsx)` με ΜΟΝΟ ό,τι εκθέτουμε.
- `package.json` με καθαρό όνομα και έκδοση (SemVer).
- Μικρό παράδειγμα χρήσης (snippet).
- **Καμία** import από private μονοπάτια άλλων.

## 4) Ονοματοδοσία
- Apps: `apps/<όνομα-app>`.
- Modules: `packages/@layera/<όνομα-module>`.
- Services: `services/<όνομα-service>`.

## 5) Εκδόσεις & αλλαγές (SemVer)
- **MAJOR.MINOR.PATCH** π.χ. `1.2.3`.
- Σπάσιμο API → MAJOR. Νέα δυνατότητα συμβατή → MINOR. Διορθώσεις → PATCH.
- Κάθε αλλαγή καταγράφεται σε `CHANGELOG.md`.

## 6) Προσθήκη/Αφαίρεση χωρίς πόνο
- Module μπορεί να προστεθεί/αφαιρεθεί χωρίς αλλαγή σε άλλα, εφόσον τηρεί το δημόσιο API.
- App πρέπει να χτίζεται/τρέχει χωρίς προαιρετικά modules.

## 7) Ποιότητα
- Lint + typecheck να περνάνε παντού.
- Κώδικας demo για modules (1 αρχείο παράδειγμα).
- Κοντές συναρτήσεις, καθαρά μηνύματα σφαλμάτων.

## 8) Ασφάλεια & Login
- Login/Identity είναι ξεχωριστό module/app.
- Αποθήκευση/κοινοποίηση μόνο για χρήστες με επιβεβαιωμένο e-mail.
- 2FA αργότερα για επαγγελματίες, όχι τώρα.

## 9) Privacy & πρόσβαση υποστήριξης
- Προεπιλογή: ιδιωτικοί χώροι επαγγελματιών.
- Πρόσβαση διαχειριστή μόνο με αίτημα/άδεια, χρονικό όριο, πλήρες audit.

## 10) Πότε βαραίνουμε το monorepo
- Αν γίνουν >2 apps **και** >3 modules ή αν τα builds τραβάνε, τότε μπαίνει Turbo/Nx.