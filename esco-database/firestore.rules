// ğŸ”¥ ESCO Database Firestore Security Rules
// Enterprise-grade security Î³Î¹Î± production environment

rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {

    // ğŸ“– Public read access Î³Î¹Î± ESCO data (occupations, skills)
    // Î¤Î¿ ESCO dataset ÎµÎ¯Î½Î±Î¹ public domain Î±Ï€ÏŒ Ï„Î·Î½ EU
    match /occupations/{occupationId} {
      allow read: if true;
      allow write: if true; // TEMPORARY: Allow imports
    }

    match /skills/{skillId} {
      allow read: if true;
      allow write: if true; // TEMPORARY: Allow imports
    }

    match /categories/{categoryId} {
      allow read: if true;
      allow write: if true; // TEMPORARY: Allow imports
    }

    match /relations/{relationId} {
      allow read: if true;
      allow write: if true; // TEMPORARY: Allow imports
    }

    // ğŸ“Š Metadata collection - read only for clients
    match /metadata/{docId} {
      allow read: if true;
      allow write: if true; // TEMPORARY: Allow imports
    }

    // ğŸ” Search cache - managed by backend only
    match /search_cache/{cacheId} {
      allow read: if false;  // Internal use only
      allow write: if false; // Backend managed
    }

    // ğŸš« Default deny Î³Î¹Î± Î¿Ï€Î¿Î¹Î¿Î´Î®Ï€Î¿Ï„Îµ Î¬Î»Î»Î¿ path
    match /{document=**} {
      allow read, write: if false;
    }
  }
}