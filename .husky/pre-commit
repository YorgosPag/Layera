#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” LAYERA PRE-COMMIT VALIDATION"
echo "================================"

# ÎˆÎ»ÎµÎ³Ï‡Î¿Ï‚ Î³Î¹Î± ÏƒÎºÎ»Î·ÏÎ­Ï‚ Ï„Î¹Î¼Î­Ï‚ (Î³ÏÎ®Î³Î¿ÏÎ· Î­ÎºÎ´Î¿ÏƒÎ·)
echo "ğŸš¨ Checking staged files for hardcoded values..."
node scripts/validate-staged.js

# ÎˆÎ»ÎµÎ³Ï‡Î¿Ï‚ Î¼ÏŒÎ½Î¿ Î±Î½ Ï€Î­ÏÎ±ÏƒÎµ Ï„Î¿ validation
if [ $? -eq 0 ]; then
  echo "ğŸ”§ Running linter..."
  npm run lint

  echo "ğŸ§ª Running type checking..."
  npm run typecheck
fi